(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[97],{1779:function(e,a,t){"use strict";t.r(a);var n=t(7),c=t(18),i=t(3),r=t.n(i),s=t(1402),l=t(1410),o=t(1418),d=t(704),u=t(1419),j=t(1473),b=t(705),m=t(4),p=t(48),O=t(52),h=t(251),v=t(77),f=t(120),x=t(1602),y=t(1603),g=t(0);a.default=function(e){var a=e.dialogType,t=e.openDialog,i=e.handleCloseDialog,w=e.adminDetails,k=e.setAdminDetails,C=e.init_admin_list,N=w.id,D=w.firstName,F=w.lastName,_=w.contactNumber,A=w.email,U=w.password,S=w.role,q=w.access,J=w.sysFunc,P=w.a_comp,T=Object(f.b)().enqueueSnackbar,W=Object(O.b)(),B=Object(m.useState)(0),Y=Object(c.a)(B,2),z=Y[0],E=Y[1],G=Object(m.useState)([]),H=Object(c.a)(G,2),I=H[0],K=H[1],L=function(e){e.preventDefault(),W(Object(v.d)(!0)),Object(h.b)([D,F,_,A,U,S,q])?Object(h.a)(A)?Object(h.c)(U)?"add"===a?function(){M.apply(this,arguments)}():"update"===a&&function(){Q.apply(this,arguments)}():(T("Password must be equal or greater than 6 characters",{variant:"error"}),W(Object(v.d)(!1))):(T("You have entered an invalid email address",{variant:"error"}),W(Object(v.d)(!1))):(T("Please fill in all the inputs",{variant:"error"}),W(Object(v.d)(!1)))};function M(){return(M=Object(n.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.d.httpsCallable("createuserbyadminnew")({firstName:D,lastName:F,contactNumber:_,email:A,password:U,role:S,access:q,sysFunc:J,a_comp:P}).then((function(e){var a;C&&C(),E(0),T((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.result)||"",{variant:"success"}),W(Object(v.d)(!1)),i()})).catch((function(e){E(0),T(null===e||void 0===e?void 0:e.message,{variant:"error"}),W(Object(v.d)(!1))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(n.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.d.httpsCallable("updateuserbyadminnew")({id:N||"",firstName:D||"",lastName:F||"",contactNumber:_||"",password:U||"",role:S||"",access:q||!1,sysFunc:J||[],a_comp:P||[]}).then((function(e){var a;C&&C(),T((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.result)||"",{variant:"success"}),i(),E(0),W(Object(v.d)(!1))})).catch((function(e){var a="";a=e.message?e.message:e,T(a,{variant:"error"}),E(0),i(),W(Object(v.d)(!1))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(s.a,{open:t,onClose:i,maxWidth:"lg",fullWidth:!0,children:[Object(g.jsx)(l.a,{id:"alert-dialog-title",children:a&&"add"===a?"Create a User":"Update User"}),Object(g.jsxs)(o.a,{children:[Object(g.jsx)(d.a,{}),Object(g.jsx)("br",{}),0===z?Object(g.jsx)(x.a,{adminDetails:w,setAdminDetails:k,selectedCompanies:I,set_selectedCompanies:K,type:"super-admin"}):1===z?Object(g.jsx)(y.a,{adminDetails:w,setAdminDetails:k,type:"super-admin",dialogType:a}):""]}),Object(g.jsx)(u.a,{children:Object(g.jsxs)(j.a,{spacing:2,direction:"row",children:[0===z?Object(g.jsx)(b.a,{onClick:function(){E(1)},color:"primary",variant:"contained",children:"Next"}):1===z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{onClick:function(){return E(0)},color:"secondary",variant:"contained",children:"Back"}),Object(g.jsx)(b.a,{onClick:function(e){return L(e)},color:"primary",variant:"contained",children:a&&"add"===a?"Add":"Update"})]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(b.a,{onClick:i,color:"error",variant:"outlined",children:"Cancel"})]})})]})})}}}]);
//# sourceMappingURL=97.8a484153.chunk.js.map