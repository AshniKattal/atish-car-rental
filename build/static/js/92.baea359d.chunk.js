(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[92],{1586:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(7),l=a(18),c=a(3),r=a.n(c),s=a(1402),o=a(1410),j=a(1418),d=a(130),b=a(286),m=a(1868),u=a(1881),O=a(1866),h=a(1550),x=a(147),p=a(1519),v=a(1489),y=a(1497),f=a(1537),g=a(1538),C=a(1539),N=a(1540),T=a(1419),k=a(705),W=a(4),z=a(48),w=a(155),R=a(1486),B=a(52),P=a(158),I=a(77),A=a(120),E=a(472),M=a(0),S=Object(R.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},indeterminateColor:{color:e.palette.primary}}}));function V(e){switch(e){case 0:return"Tell us about your business";case 1:return"Enter your business contact information";case 2:return"You are all done!";default:return"Unknown stepIndex"}}t.default=function(e){e.companyId;var t=e.openDialog,a=e.handleCloseDialog,c=e.clientDetails,R=e.setClientDetails,D=e.initializeClientList,L=Object(A.b)().enqueueSnackbar,F=c.name,H=c.companyRefId,J=c.companyRefName,q=c.companyType,Y=c.tan,K=c.address,U=c.email,X=c.email2,Z=c.email3,G=c.email4,Q=c.contactNumber,$=c.mobileNumber,_=c.brn,ee=c.nic,te=c.buyerType,ae=c.representativeName,ne=c.representativeContactNumber,ie=S(),le=Object(B.b)(),ce=Object(B.c)(P.c),re=Object(W.useState)(0),se=Object(l.a)(re,2),oe=se[0],je=se[1],de=["Tell us","Contact Info","Save & Finish"],be=Object(W.useState)({errorBool:!1,errorMsg:""}),me=Object(l.a)(be,2),ue=me[0],Oe=me[1],he=ue.errorBool,xe=ue.errorMsg,pe=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(Object(I.d)(!0)),e.next=4,z.b.collection("company").doc("5HAEgHE1kKox9ZdweP3I").collection("client").add({name:F||"",companyRefId:H||"",companyRefName:J||"",companyType:q||"",tan:Y||"",address:K||"",email:U||"",email2:X||"",email3:Z||"",email4:G||"",contactNumber:Q||"",mobileNumber:$||"",brn:_||"",nic:ee||"",buyerType:te||null,representativeName:ae||"",representativeContactNumber:ne||"",timestamp:w.a.firestore.FieldValue.serverTimestamp()}).then((function(){L("Client added successfully"),le(Object(I.d)(!1)),le(Object(E.g)(void 0)),le(Object(E.f)(null)),le(Object(E.c)(void 0)),le(Object(E.d)(void 0)),a(),D&&D()})).catch((function(e){L("Error occured while adding client: ".concat(null===e||void 0===e?void 0:e.message)),le(Object(I.d)(!1))}));case 4:e.next=7;break;case 6:le(Object(P.d)({counter:ce.counter+1,message:"Your session has been terminated due to greater than 30 minutes of inactivity. Please log in again.",variant:"error"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(s.a,{style:{width:"100%"},maxWidth:"md",fullWidth:!0,open:t,onClose:a,children:[Object(M.jsx)(o.a,{id:"alert-dialog-title",children:"Create a company"}),Object(M.jsxs)(j.a,{style:{height:"auto"},children:[Object(M.jsxs)(d.a,{container:!0,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(b.a,{variant:"h6",align:"left",color:"primary",children:V(oe)})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)("div",{className:ie.root,children:Object(M.jsx)(m.a,{activeStep:oe,alternativeLabel:!0,children:de.map((function(e){return Object(M.jsx)(u.a,{children:Object(M.jsx)(O.a,{children:e})},e)}))})})})]}),Object(M.jsx)(h.a,{variant:"filled",severity:"error",style:{display:he?"":"none"},children:xe}),Object(M.jsxs)("div",{style:{display:0===oe?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(d.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"Name",type:"text",id:"name",size:"small",value:F||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{name:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(p.a,{size:"small",variant:"outlined",fullWidth:!0,children:Object(M.jsxs)(v.a,{size:"small",native:!0,placeholder:"Please choose a company type",value:q||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{companyType:e.target.value}))},inputProps:{name:"companyType",id:"companyType"},children:[Object(M.jsx)("option",{value:"",children:"Please choose a Company Type"}),Object(M.jsx)("option",{value:"Individual",children:"Individual"}),Object(M.jsx)("option",{value:"Company",children:"Company"}),Object(M.jsx)("option",{value:"Other",children:"Other"})]})})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"tan",label:"VAT",type:"number",id:"tan",value:Y||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{tan:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",size:"small",fullWidth:!0,name:"brn",label:"BRN",type:"text",id:"brn",value:_||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{brn:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",size:"small",fullWidth:!0,name:"nic",label:"NIC",type:"text",id:"nic",value:ee||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{nic:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(y.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please define type of buyer",id:"buyer-type-drop-down",options:JSON.parse('[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]'),value:te,renderInput:function(e){return Object(M.jsx)(x.a,Object(n.a)(Object(n.a)({},e),{},{label:"Please define type of buyer"}))},onChange:function(e,t,a){e.preventDefault(),"removeOption"!==a&&"clear"!==a&&t?R(Object(n.a)(Object(n.a)({},c),{},{buyerType:t})):"removeOption"!==a&&"clear"!==a||R(Object(n.a)(Object(n.a)({},c),{},{buyerType:null}))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.title)||""},fullWidth:!0})})]})]}),Object(M.jsxs)("div",{style:{display:1===oe?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(d.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"address",label:"Address",type:"text",id:"address",value:K||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{address:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"contactNumber",label:"Contact Number",type:"text",id:"contactNumber",value:Q||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{contactNumber:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"mobileNumber",label:"Mobile Number",type:"text",id:"mobileNumber",value:$||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{mobileNumber:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email",label:"Email 1",type:"text",id:"email",value:U||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{email:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email2",label:"Email 2",type:"text",id:"email2",value:X||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{email2:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email3",label:"Email 3",type:"text",id:"email3",value:Z||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{email3:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email4",label:"Email 4",type:"text",id:"email4",value:G||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{email4:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeName",label:"Representative name",type:"text",id:"representativeName",value:ae||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{representativeName:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeContactNumber",label:"Representative contact number",type:"text",id:"representativeContactNumber",value:ne||"",onChange:function(e){R(Object(n.a)(Object(n.a)({},c),{},{representativeContactNumber:e.target.value}))}})})]})]}),Object(M.jsx)("div",{style:{display:2===oe?"":"none",width:"100%",height:"100%"},children:Object(M.jsx)(f.a,{children:Object(M.jsxs)(g.a,{children:[Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Name:"}),Object(M.jsx)(N.a,{children:F||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Company Type:"}),Object(M.jsx)(N.a,{children:q||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"VAT:"}),Object(M.jsx)(N.a,{children:Y||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"BRN:"}),Object(M.jsx)(N.a,{children:_||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"NIC:"}),Object(M.jsx)(N.a,{children:ee||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Address:"}),Object(M.jsx)(N.a,{children:K||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Contact Number:"}),Object(M.jsx)(N.a,{children:Q||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Mobile Number:"}),Object(M.jsx)(N.a,{children:$||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Email:"}),Object(M.jsx)(N.a,{children:U||""})]})]})})})]}),Object(M.jsxs)(T.a,{children:[Object(M.jsx)("div",{children:oe===de.length?Object(M.jsxs)("div",{children:[Object(M.jsx)(b.a,{className:ie.instructions,children:"All steps completed"}),Object(M.jsx)(k.a,{onClick:function(){je(0)},children:"Reset"})]}):Object(M.jsxs)("div",{children:[Object(M.jsx)(k.a,{disabled:0===oe,onClick:function(){je((function(e){return e-1}))},className:ie.backButton,variant:"outlined",children:"Back"}),Object(M.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){0===oe?""===F?Oe({errorBool:!0,errorMsg:"Please enter a name"}):(Oe({errorBool:!1,errorMsg:""}),je((function(e){return e+1}))):2===oe?(Oe({errorBool:!1,errorMsg:""}),pe(),je(0)):(Oe({errorBool:!1,errorMsg:""}),je((function(e){return e+1})))},className:ie.backButton,children:oe===de.length-1?"Save":"Next"})]})}),Object(M.jsx)(k.a,{onClick:a,color:"error",variant:"outlined",children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=92.baea359d.chunk.js.map