{"version":3,"sources":["../node_modules/@mui/icons-material/KeyboardBackspace.js","pages/dashboard/document/DocumentIndex.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","jsx","d","CompanyClientSelection","lazy","DocumentInputDetails","InvViewDetails","DocumentIndex","user","useAuth","dispatch","useDispatch","navigate","useNavigate","themeStretch","useSettings","useSelector","selectDocument","companyIdSelected","documentType","clientDocumentObjectSelected","useState","us_actionChoice","set_us_actionChoice","temp_checkDocumentType","useRef","useEffect","current","PATH_DASHBOARD","general","app1","title","maxWidth","container","spacing","item","xs","md","direction","alignItems","startIcon","variant","color","onClick","fallback","type","actionChoice","setUpdateInvData","undefined","disabled","permissions","createPermission","assignedCompanyId","includes","viewPermission","action"],"mappings":"kJAGA,IAAIA,EAAyBC,EAAQ,IACrCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAClB,IAAIC,EAAiBP,EAAuBC,EAAQ,MAChDO,EAAcP,EAAQ,GACXG,EAAQE,SAAU,EAAIC,EAAeD,UAAuB,EAAIE,EAAYC,KAAK,OAAQ,CACtGC,EAAG,6DACD,sB,gPCIEC,EAAyBC,gBAAK,kBAClC,kCAGIC,EAAuBD,gBAAK,kBAChC,sEAGIE,EAAiBF,gBAAK,kBAC1B,8EAKa,SAASG,IAAiB,IAAD,QAC9BC,EAASC,cAATD,KAEFE,EAAWC,cAEXC,EAAWC,cAETC,EAAiBC,cAAjBD,aAER,EACEE,YAAYC,KADNC,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,aAAcC,EAAzC,EAAyCA,6BAGzC,EAA+CC,mBAAS,IAAxD,mBAAOC,EAAP,KAAwBC,EAAxB,KAEMC,EAAyBC,mBAc/B,OAZAC,qBAAU,WACRF,EAAuBG,YACtB,IAQHH,EAAuBG,QANvB,WACOR,GACHP,EAASgB,IAAeC,QAAQC,OAOlC,cAAC,IAAD,CAAMC,MAAM,WAAZ,SACE,cAAC,IAAD,CAAWC,UAAUlB,GAAuB,KAA5C,SACE,eAAC,IAAD,CAAMmB,WAAS,EAACC,QAAS,EAAzB,UACE,cAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,eAAC,IAAD,CAAOH,QAAS,EAAGI,UAAU,MAAMC,WAAY,SAA/C,UACE,cAAC,IAAD,CACEC,UAAW,cAAC,IAAD,IACXC,QAAQ,WACRC,MAAM,UACNC,QAAS,kBAAM/B,EAASgB,IAAeC,QAAQC,OAJjD,kBAQA,cAAC,IAAD,CAAYW,QAAQ,KAApB,oBACkB,OAAZtB,QAAY,IAAZA,OAAA,EAAAA,EAAcY,QAAS,GAD7B,mBAMJ,cAAC,WAAD,CAAUa,SAAU,6BAApB,SACE,cAACzC,EAAD,CACE0C,KAAM,WACNC,aAAcxB,MAIlB,cAAC,IAAD,CAAMa,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,eAAC,IAAD,CAAOH,QAAS,EAAGI,UAAW,MAA9B,UACE,cAAC,IAAD,CACEG,QAAQ,YACRC,MAAM,UACNC,QAAS,WACPjC,EAASqC,iBAAiBC,IAC1BzB,EAAoB,WAEtB0B,UACG/B,IACAE,KACD,OAACZ,QAAD,IAACA,GAAD,UAACA,EAAM0C,YAAN,OACC/B,QADD,IACCA,OADD,EACCA,EAAcgC,yBADhB,iBAAC,EAEEC,yBAFH,OAAC,EAEqBC,SAASnC,IAZnC,2BAeyB,OAAZC,QAAY,IAAZA,OAAA,EAAAA,EAAcY,QAAS,MAEpC,cAAC,IAAD,CACEU,QAAQ,YACRC,MAAM,UACNC,QAAS,kBAAMpB,EAAoB,SACnC0B,UACG/B,IACAE,KACD,OAACZ,QAAD,IAACA,GAAD,UAACA,EAAM0C,YAAN,OACC/B,QADD,IACCA,OADD,EACCA,EAAcmC,uBADhB,iBAAC,EAEEF,yBAFH,OAAC,EAEqBC,SAASnC,IATnC,kCAYgC,OAAZC,QAAY,IAAZA,OAAA,EAAAA,EAAcY,QAAS,WAK9Cb,GACCE,GACoB,WAApBE,GACE,cAAC,WAAD,CAAUsB,SAAU,6BAApB,SACE,cAACvC,EAAD,CACEkD,OAAQ,MACRhC,oBAAqBA,MAK5BL,QACkC8B,IAAjC5B,GACoB,SAApBE,GACE,cAAC,WAAD,CAAUsB,SAAU,6BAApB,SACE,cAACtC,EAAD","file":"static/js/58.f52330fa.chunk.js","sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z\"\n}), 'KeyboardBackspace');","import { lazy, Suspense, useEffect, useRef, useState } from \"react\";\n// @mui\nimport { Button, Container, Grid, Stack, Typography } from \"@mui/material\";\n// hooks\n// import useAuth from \"../../hooks/useAuth\";\nimport useSettings from \"../../../hooks/useSettings\";\n// components\nimport Page from \"../../../components/Page\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { PATH_DASHBOARD } from \"../../../routes/paths\";\nimport { setUpdateInvData } from \"../../../features/invoiceSectionSlice\";\nimport KeyboardBackspaceIcon from \"@mui/icons-material/KeyboardBackspace\";\nimport { selectDocument } from \"../../../features/documentSlice\";\nimport useAuth from \"../../../hooks/useAuth\";\n\nconst CompanyClientSelection = lazy(() =>\n  import(\"../../../components/selection-component/CompanyClientSelection\")\n);\n\nconst DocumentInputDetails = lazy(() =>\n  import(\"../../../components/document/DocumentInputDetails\")\n);\n\nconst InvViewDetails = lazy(() =>\n  import(\"../../../components/invoice-view-details/InvViewDetails\")\n);\n\n// ----------------------------------------------------------------------\n\nexport default function DocumentIndex() {\n  const { user } = useAuth();\n\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  const { themeStretch } = useSettings();\n\n  const { companyIdSelected, documentType, clientDocumentObjectSelected } =\n    useSelector(selectDocument);\n\n  const [us_actionChoice, set_us_actionChoice] = useState(\"\"); //\"create\", \"view\"\n\n  const temp_checkDocumentType = useRef();\n\n  useEffect(() => {\n    temp_checkDocumentType.current();\n  }, []);\n\n  function checkDocumentType() {\n    if (!documentType) {\n      navigate(PATH_DASHBOARD.general.app1);\n    }\n  }\n\n  temp_checkDocumentType.current = checkDocumentType;\n\n  return (\n    <Page title=\"Document\">\n      <Container maxWidth={themeStretch ? false : \"xl\"}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={12}>\n            <Stack spacing={3} direction=\"row\" alignItems={\"center\"}>\n              <Button\n                startIcon={<KeyboardBackspaceIcon />}\n                variant=\"outlined\"\n                color=\"primary\"\n                onClick={() => navigate(PATH_DASHBOARD.general.app1)}\n              >\n                Back\n              </Button>\n              <Typography variant=\"h4\">\n                {`${documentType?.title || \"\"} section`}\n              </Typography>\n            </Stack>\n          </Grid>\n\n          <Suspense fallback={<></>}>\n            <CompanyClientSelection\n              type={\"document\"}\n              actionChoice={us_actionChoice}\n            />\n          </Suspense>\n\n          <Grid item xs={12} md={12}>\n            <Stack spacing={3} direction={\"row\"}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  dispatch(setUpdateInvData(undefined));\n                  set_us_actionChoice(\"create\");\n                }}\n                disabled={\n                  !companyIdSelected ||\n                  !clientDocumentObjectSelected ||\n                  !user?.permissions[\n                    documentType?.createPermission\n                  ]?.assignedCompanyId?.includes(companyIdSelected)\n                }\n              >\n                {`Create ${documentType?.title || \"\"}`}\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => set_us_actionChoice(\"view\")}\n                disabled={\n                  !companyIdSelected ||\n                  !clientDocumentObjectSelected ||\n                  !user?.permissions[\n                    documentType?.viewPermission\n                  ]?.assignedCompanyId?.includes(companyIdSelected)\n                }\n              >\n                {`View/Download ${documentType?.title || \"\"}`}\n              </Button>\n            </Stack>\n          </Grid>\n\n          {companyIdSelected &&\n            clientDocumentObjectSelected &&\n            us_actionChoice === \"create\" && (\n              <Suspense fallback={<></>}>\n                <DocumentInputDetails\n                  action={\"add\"}\n                  set_us_actionChoice={set_us_actionChoice}\n                />\n              </Suspense>\n            )}\n\n          {companyIdSelected &&\n            clientDocumentObjectSelected !== undefined &&\n            us_actionChoice === \"view\" && (\n              <Suspense fallback={<></>}>\n                <InvViewDetails />\n              </Suspense>\n            )}\n        </Grid>\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}