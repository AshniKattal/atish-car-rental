(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[14,42],{1532:function(e,t,i){"use strict";var n=i(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(119)),o=i(0);t.default=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1535:function(e,t,i){"use strict";var n=i(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(119)),o=i(0);t.default=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},1550:function(e,t,i){"use strict";var n=i(5),a=i(14),o=i(6),_=i(4),E=(i(20),i(19)),A=i(154),r=i(83),l=i(12),d=i(27),P=i(25),s=i(706),c=i(118),T=i(129);function R(e){return Object(c.a)("MuiAlert",e)}var C,u=Object(T.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),v=i(1505),S=i(64),O=i(0),p=Object(S.a)(Object(O.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),I=Object(S.a)(Object(O.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),m=Object(S.a)(Object(O.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),N=Object(S.a)(Object(O.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),h=i(474),D=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],f=Object(l.a)(s.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var i=e.ownerState;return[t.root,t[i.variant],t["".concat(i.variant).concat(Object(P.a)(i.color||i.severity))]]}})((function(e){var t=e.theme,i=e.ownerState,a="light"===t.palette.mode?r.b:r.e,_="light"===t.palette.mode?r.e:r.b,E=i.color||i.severity;return Object(o.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},E&&"standard"===i.variant&&Object(n.a)({color:a(t.palette[E].light,.6),backgroundColor:_(t.palette[E].light,.9)},"& .".concat(u.icon),{color:"dark"===t.palette.mode?t.palette[E].main:t.palette[E].light}),E&&"outlined"===i.variant&&Object(n.a)({color:a(t.palette[E].light,.6),border:"1px solid ".concat(t.palette[E].light)},"& .".concat(u.icon),{color:"dark"===t.palette.mode?t.palette[E].main:t.palette[E].light}),E&&"filled"===i.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[E].dark:t.palette[E].main})})),g=Object(l.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),b=Object(l.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),L=Object(l.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),M={success:Object(O.jsx)(p,{fontSize:"inherit"}),warning:Object(O.jsx)(I,{fontSize:"inherit"}),error:Object(O.jsx)(m,{fontSize:"inherit"}),info:Object(O.jsx)(N,{fontSize:"inherit"})},j=_.forwardRef((function(e,t){var i=Object(d.a)({props:e,name:"MuiAlert"}),n=i.action,_=i.children,r=i.className,l=i.closeText,s=void 0===l?"Close":l,c=i.color,T=i.icon,u=i.iconMapping,S=void 0===u?M:u,p=i.onClose,I=i.role,m=void 0===I?"alert":I,N=i.severity,j=void 0===N?"success":N,B=i.variant,V=void 0===B?"standard":B,y=Object(a.a)(i,D),x=Object(o.a)({},i,{color:c,severity:j,variant:V}),U=function(e){var t=e.variant,i=e.color,n=e.severity,a=e.classes,o={root:["root","".concat(t).concat(Object(P.a)(i||n)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(A.a)(o,R,a)}(x);return Object(O.jsxs)(f,Object(o.a)({role:m,elevation:0,ownerState:x,className:Object(E.a)(U.root,r),ref:t},y,{children:[!1!==T?Object(O.jsx)(g,{ownerState:x,className:U.icon,children:T||S[j]||M[j]}):null,Object(O.jsx)(b,{ownerState:x,className:U.message,children:_}),null!=n?Object(O.jsx)(L,{className:U.action,children:n}):null,null==n&&p?Object(O.jsx)(L,{ownerState:x,className:U.action,children:Object(O.jsx)(v.a,{size:"small","aria-label":s,title:s,color:"inherit",onClick:p,children:C||(C=Object(O.jsx)(h.a,{fontSize:"small"}))})}):null]}))}));t.a=j},1583:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Ee}));var n=i(5),a=i(9),o=i(28),_=i(7),E=i(18),A=i(3),r=i.n(A),l=i(4),d=i(130),P=i(286),s=i(1473),c=i(147),T=i(705),R=i(1497),C=i(1536),u=i(1537),v=i(1541),S=i(1539),O=i(1540),p=i(1538),I=i(1491),m=i(1505),N=i(1498),h=i(1550),D=i(1402),f=i(1410),g=i(1418),b=i(1419),L=i(1519),M=i(1479),j=i(1480),B=i(1515),V=i(1490),y=i(52),x=i(48),U=i(120),H=i(77),Y=i(155),w=i(68),K=i.n(w),F=i(1535),G=i.n(F),k=i(1865),z=i(472),W=i(1584),Z=i(72),X=i(46),Q=i(50),J=i.n(Q),q=i(1532),$=i.n(q),ee=i(251),te=i(291),ie=i(2),ne=i(499),ae=i(479),oe=i(0),_e=Object(l.lazy)((function(){return i.e(74).then(i.bind(null,1637))}));function Ee(e){var t,i,A,w,F,Q,q,Ee=e.viewOnly,Ae=e.searchAndChoose,re=e.chooseDocument,le=Object(l.useState)(navigator.onLine),de=Object(E.a)(le,2),Pe=de[0],se=de[1],ce=Object(Z.a)().user,Te=Object(y.b)(),Re=Object(U.b)().enqueueSnackbar,Ce=Object(y.c)(z.b),ue=Ce.documentType,ve=Ce.companyIdSelected,Se=Ce.companyDetails,Oe=Ce.clientDocumentObjectSelected,pe=Object(l.useState)(new Date),Ie=Object(E.a)(pe,2),me=Ie[0],Ne=Ie[1],he=Object(l.useState)(new Date),De=Object(E.a)(he,2),fe=De[0],ge=De[1],be=Object(l.useState)(""),Le=Object(E.a)(be,2),Me=Le[0],je=Le[1],Be=Object(l.useState)(""),Ve=Object(E.a)(Be,2),ye=Ve[0],xe=Ve[1],Ue=Object(l.useState)([]),He=Object(E.a)(Ue,2),Ye=He[0],we=He[1],Ke=Object(l.useRef)(),Fe=Object(l.useRef)(),Ge=Object(l.useRef)(),ke=Object(l.useState)(!1),ze=Object(E.a)(ke,2),We=ze[0],Ze=ze[1],Xe=Object(l.useState)(!1),Qe=Object(E.a)(Xe,2),Je=Qe[0],qe=Qe[1],$e=Object(l.useState)("vat_invoice"),et=Object(E.a)($e,2),tt=et[0],it=et[1],nt=Object(l.useState)(null),at=Object(E.a)(nt,2),ot=at[0],_t=at[1],Et=Object(l.useState)(null),At=Object(E.a)(Et,2),rt=At[0],lt=At[1],dt=Object(l.useState)({open:!1,type:""}),Pt=Object(E.a)(dt,2),st=Pt[0],ct=Pt[1];function Tt(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(_.a)(r.a.mark((function e(){var t,i,n,a,o,_;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===me||""===me||void 0===fe||""===fe||null===ue||void 0===ue||!ue.id||""===(null===ue||void 0===ue?void 0:ue.id)){e.next=18;break}if(!(new Date(me)>new Date(fe))){e.next=6;break}Re("Date incorrect. To Date cannot be before From Date.",{variant:"error"}),Te(Object(H.d)(!1)),e.next=16;break;case 6:if(void 0===Se||void 0===Oe){e.next=16;break}return Te(Object(H.d)(!0)),t=me.toISOString(),i=t.split("T"),n=fe.toISOString(),a=n.split("T"),o=new Date("".concat(i[0],"T00:00:00.000Z")),_=new Date("".concat(a[0],"T23:59:59.000Z")),e.next=16,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection(null===ue||void 0===ue?void 0:ue.id).where("docDate",">=",Y.a.firestore.Timestamp.fromDate(o)).where("docDate","<=",Y.a.firestore.Timestamp.fromDate(_)).get().then((function(e){var t,i=[];(null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0?(null===e||void 0===e||e.docs.forEach((function(e){var t,n;if((null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.clientId)===(null===Oe||void 0===Oe?void 0:Oe.id)&&(null===e||void 0===e||null===(n=e.data())||void 0===n||!n.deleted)){var a,o=!0;"proforma"===(null===ue||void 0===ue?void 0:ue.id)&&null!==e&&void 0!==e&&null!==(a=e.data())&&void 0!==a&&a.isProformaConverted&&(o=!1),o&&i.push({id:null===e||void 0===e?void 0:e.id,data:null===e||void 0===e?void 0:e.data(),checked:!1})}})),we(i)):we([]),Te(Object(H.d)(!1))})).catch((function(e){Re("Error occured while fetching ".concat(null===ue||void 0===ue?void 0:ue.title," documents: ").concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 16:e.next=19;break;case 18:Te(Object(H.d)(!1));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(_.a)(r.a.mark((function e(){var t,i,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===Se||void 0===Se||null===(t=Se.data)||void 0===t||!t.imageUrl||""===(null===Se||void 0===Se||null===(i=Se.data)||void 0===i?void 0:i.imageUrl)){e.next=6;break}return Te(Object(H.d)(!0)),e.next=4,vt(null===Se||void 0===Se||null===(n=Se.data)||void 0===n?void 0:n.imageUrl);case 4:a=e.sent,je(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(_.a)(r.a.mark((function e(){var t,i,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===Se||void 0===Se||null===(t=Se.data)||void 0===t||!t.sigUrl||""===(null===Se||void 0===Se||null===(i=Se.data)||void 0===i?void 0:i.sigUrl)){e.next=6;break}return Te(Object(H.d)(!0)),e.next=4,vt(null===Se||void 0===Se||null===(n=Se.data)||void 0===n?void 0:n.sigUrl);case 4:a=e.sent,xe(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return St.apply(this,arguments)}function St(){return(St=Object(_.a)(r.a.mark((function e(t){var i,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}return e.abrupt("return","");case 4:return e.prev=4,e.next=7,fetch(t);case 7:return i=e.sent,e.next=10,i.blob();case 10:return n=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(n),t.onloadend=function(){var i=t.result;e(i)}})));case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}Object(l.useEffect)((function(){var e=function(){se(!0)},t=function(){se(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]),Object(l.useEffect)((function(){Ke.current(),Fe.current()}),[Se]),Object(l.useEffect)((function(){Ge.current()}),[ue,me,fe,Se,Oe]),Ge.current=Tt,Ke.current=function(){return Ct.apply(this,arguments)},Fe.current=function(){return ut.apply(this,arguments)};var Ot=function(e){Te(Object(z.j)(void 0)),Ze(!1),e&&Tt()};function pt(){return pt=Object(_.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt?(Te(Object(H.d)(!0)),t=Object(a.a)(Object(a.a)({},null===ot||void 0===ot?void 0:ot.data),{},{createdFromProfroma:!0,previousProformaDocId:null===ot||void 0===ot?void 0:ot.id}),i=x.b.collection("company").doc(ve).collection(tt).doc("documentIndex"),x.b.runTransaction((function(e){return e.get(i).then((function(t){if(!t.exists)return e.update(i,{documentIndex:1}),1;var n=Number(t.data().documentIndex)+1;return e.update(i,{documentIndex:n}),n}))})).then(function(){var e=Object(_.a)(r.a.mark((function e(i){var E,A,l,d,P,s,c,T;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.toString(),1===(null===(E=s)||void 0===E?void 0:E.length)?s="0000".concat(s):2===(null===(A=s)||void 0===A?void 0:A.length)?s="000".concat(s):3===(null===(l=s)||void 0===l?void 0:l.length)?s="00".concat(s):4===(null===(d=s)||void 0===d?void 0:d.length)&&(s="0".concat(s)),c=null===(P=[{id:"quotation",title:"Quotation"},{id:"invoice",title:"Invoice"},{id:"vat_invoice",title:"VAT Invoice"},{id:"purchase_order",title:"Purchase order"},{id:"proforma",title:"Proforma"}].find((function(e){return(null===e||void 0===e?void 0:e.id)===tt})))||void 0===P?void 0:P.title,T=Object(a.a)(Object(a.a)({},t),{},{id:i.toString(),docString:s,docTitle:c,docType:tt,docDate:Y.a.firestore.Timestamp.fromDate(new Date),convertedByUserId:(null===ce||void 0===ce?void 0:ce.id)||"",convertedByUserEmail:(null===ce||void 0===ce?void 0:ce.email)||"",convertedByUserTime:new Date}),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SMART_PROMOTE_ID&&t.docParticulars.forEach(function(){var e=Object(_.a)(r.a.mark((function e(t){var E;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||!t.inventoryItemData){e.next=3;break}return e.next=3,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection("inventory").doc(null===t||void 0===t||null===(E=t.inventoryItemData)||void 0===E?void 0:E.id).get().then(function(){var e=Object(_.a)(r.a.mark((function e(_){var E,A,l,d,P,T;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.exists){e.next=8;break}if(A=(null===_||void 0===_||null===(E=_.data())||void 0===E?void 0:E.allInventoryItemTransactions)||[],l=Object(o.a)(A||[]),!((d=A.findIndex((function(e){return"proforma"===(null===e||void 0===e?void 0:e.docType)&&(null===e||void 0===e?void 0:e.docString)===(null===ot||void 0===ot?void 0:ot.id)})))>-1)){e.next=8;break}return l[d]=Object(a.a)(Object(a.a)({},l[d]),{},(P={documentNumber:i.toString(),docString:s,docTitle:c,docType:tt,docDate:Y.a.firestore.Timestamp.fromDate(new Date)},Object(n.a)(P,"docDate",new Date),Object(n.a)(P,"profomaConverted",!0),Object(n.a)(P,"previousProformaNumber",null===ot||void 0===ot?void 0:ot.id),P)),e.next=8,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection("inventory").doc(null===t||void 0===t||null===(T=t.inventoryItemData)||void 0===T?void 0:T.id).set({allInventoryItemTransactions:l||[]},{merge:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,x.b.collection("company").doc(ve).collection(tt).doc(s.toString()).set(Object(a.a)({},T),{merge:!0}).then(Object(_.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re("New ".concat(c," document has been created successfully")),ve!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SMART_PROMOTE_ID){e.next=4;break}return e.next=4,gt({id:s.toString(),data:Object(a.a)({},T)},"FULL");case 4:return Te(Object(H.d)(!0)),e.next=7,x.b.collection("company").doc(ve).collection("proforma").doc(null===ot||void 0===ot?void 0:ot.id).set({conversionDocId:tt,conversionDocTitle:c,isProformaConverted:!0},{merge:!0}).then((function(){Re("Proforma status updated successfully"),qe(!1),it("vat_invoice"),_t(null),Tt(),Te(Object(H.d)(!1))})).catch((function(e){Re("Error occured while updating proforma status: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 7:case"end":return e.stop()}}),e)})))).catch((function(e){Re("Error occured while saving Invoice: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Re("Error occured while overall Invoice saving transactions: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}))):Re("Please choose a conversion type");case 1:case"end":return e.stop()}}),e)}))),pt.apply(this,arguments)}var It=function(){var e=Object(_.a)(r.a.mark((function e(t,i){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(Object(H.d)(!0)),n="deleted".concat(null===ue||void 0===ue?void 0:ue.id),(null===Se||void 0===Se?void 0:Se.id)!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SMART_PROMOTE_ID||"proforma"!==(null===ue||void 0===ue?void 0:ue.id)&&"invoice"!==(null===ue||void 0===ue?void 0:ue.id)&&"vat_invoice"!==(null===ue||void 0===ue?void 0:ue.id)&&"cash_transaction"!==(null===ue||void 0===ue?void 0:ue.id)||Object(o.a)((null===i||void 0===i?void 0:i.docParticulars)||[]).forEach(function(){var e=Object(_.a)(r.a.mark((function e(i){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===i||void 0===i||!i.inventoryItemData){e.next=3;break}return e.next=3,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection("inventory").doc(null===i||void 0===i||null===(n=i.inventoryItemData)||void 0===n?void 0:n.id).get().then(function(){var e=Object(_.a)(r.a.mark((function e(n){var o,_,E,A,l,d,P,s,c,T,R,C,u,v,S,O,p,I;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.exists){e.next=15;break}return P=(null===n||void 0===n||null===(o=n.data())||void 0===o?void 0:o.allInventoryItemTransactions)||[],s=-1,P.length>0&&(s=P.findIndex((function(e){return e.docString===t&&(null===e||void 0===e?void 0:e.docType)===(null===ue||void 0===ue?void 0:ue.id)}))),c=Number((null===n||void 0===n||null===(_=n.data())||void 0===_?void 0:_.qtySold)||0),T=Number((null===n||void 0===n||null===(E=n.data())||void 0===E?void 0:E.qtyRemaining)||0),R=Number((null===n||void 0===n||null===(A=n.data())||void 0===A?void 0:A.totalAmountReceivedWithoutVAT)||0),C=Number((null===n||void 0===n||null===(l=n.data())||void 0===l?void 0:l.totalAmountReceivedWithVAT)||0),s>-1&&(p=Number((null===(u=P[s])||void 0===u?void 0:u.itemQtySold)||0),T+=p,c-=p,R-=Number((null===(v=P[s])||void 0===v?void 0:v.rowDiscountedAmount)||(null===(S=P[s])||void 0===S?void 0:S.rowAmount)||0),C-=Number((null===(O=P[s])||void 0===O?void 0:O.rowAmountWithVAT)||0)),I=[],s>-1&&P.forEach((function(e){((null===e||void 0===e?void 0:e.docString)!==t||(null===e||void 0===e?void 0:e.docType)!==(null===ue||void 0===ue?void 0:ue.id))&&I.push(Object(a.a)({},e))})),e.next=13,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection("inventory").doc(null===i||void 0===i||null===(d=i.inventoryItemData)||void 0===d?void 0:d.id).set({totalAmountReceivedWithoutVAT:Number(R||0).toFixed(2),totalAmountReceivedWithVAT:Number(C||0).toFixed(2),qtySold:c||0,qtyRemaining:T||0,allInventoryItemTransactions:I||[]},{merge:!0}).then((function(){Re("Stock updated successfully")})).catch((function(e){Re("Error occured while updating quantity of inventory item: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"})}));case 13:e.next=16;break;case 15:Re("Stock could not be updated as item could not be found, please check inventory",{variant:"error"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection(n).add(Object(a.a)({deleted:!0,deletedByUserId:null===ce||void 0===ce?void 0:ce.id,deletedByUserEmail:null===ce||void 0===ce?void 0:ce.email,deletedByUserTime:new Date,id:t},i)).then(Object(_.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection(null===ue||void 0===ue?void 0:ue.id).doc(t).delete().then((function(){Re("Document deleted successfully",{variant:"success"}),Tt(),Te(Object(H.d)(!1))})).catch((function(e){Re("Error occured while deleting document: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){Re("Error occured while deleting document: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 5:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}();function mt(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(_.a)(r.a.mark((function e(t){var i,n,o,_,E,A,l,d,P,s,c,T,R,C;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==t&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&null!==(n=i.transactionType)&&void 0!==n&&n.id?null!==Se&&void 0!==Se&&null!==(o=Se.data)&&void 0!==o&&null!==(_=o.vatOrNonVatRegistered)&&void 0!==_&&_.id?null!==t&&void 0!==t&&null!==(E=t.data)&&void 0!==E&&E.docIssuedDateTime?null!==t&&void 0!==t&&null!==(A=t.data)&&void 0!==A&&null!==(l=A.invoiceTypeDesc)&&void 0!==l&&l.id?"DRN"!==(null===t||void 0===t||null===(d=t.data)||void 0===d||null===(P=d.invoiceTypeDesc)||void 0===P?void 0:P.id)&&"CRN"!==(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(c=s.invoiceTypeDesc)||void 0===c?void 0:c.id)||null!==t&&void 0!==t&&null!==(T=t.data)&&void 0!==T&&T.invoiceRefIdentifier?Pe?(C=[Object(a.a)({},t)],x.d.httpsCallable("submitmultipleinvoicestomra")({user:JSON.stringify(ce),invoices:JSON.stringify(C),companyIdSelected:ve,documentType:JSON.stringify(ue),brn:null===Se||void 0===Se||null===(R=Se.data)||void 0===R?void 0:R.brn,companyDetails:JSON.stringify(Se),clientDocumentObjectSelected:JSON.stringify(Oe)}),Tt(),Te(Object(H.d)(!1))):(Re("You are currently offline.",{variant:"error"}),Te(Object(H.d)(!1))):Re("Invoice number is missing",{variant:"warning"}):Re("Type of Invoice is missing",{variant:"warning"}):Re("Issue date of invoice is missing",{variant:"warning"}):Re("Company VAT Registration status is missing, please update company details",{variant:"warning"}):Re("Please choose a type of transaction.",{variant:"warning"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(_.a)(r.a.mark((function e(){var t,i,n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==Se&&void 0!==Se&&null!==(t=Se.data)&&void 0!==t&&null!==(i=t.vatOrNonVatRegistered)&&void 0!==i&&i.id?(n=Ye.filter((function(e){return!0===(null===e||void 0===e?void 0:e.checked)})))&&n.length>0&&(a=!1,n.forEach((function(e){var t,i,n,o,_,E;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(i=t.transactionType)&&void 0!==i&&i.id)if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.docIssuedDateTime){if(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(_=o.invoiceTypeDesc)||void 0===_||!_.id){var A;a=!0,Re("Error found, inv num ".concat(null===e||void 0===e||null===(A=e.data)||void 0===A?void 0:A.docString,".Type of Invoice is missing"),{variant:"warning"})}}else{var r;a=!0,Re("Error found, inv num ".concat(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.docString,". Issued date of invoice is missing"),{variant:"warning"})}else a=!0,Re("Error found, inv num ".concat(null===e||void 0===e||null===(E=e.data)||void 0===E?void 0:E.docString,". Please choose a type of transaction."),{variant:"warning"})})),a||(Pe?(x.d.httpsCallable("submitmultipleinvoicestomra")({user:JSON.stringify(ce),invoices:JSON.stringify(n),companyIdSelected:ve,documentType:JSON.stringify(ue),brn:null===Se||void 0===Se||null===(o=Se.data)||void 0===o?void 0:o.brn,companyDetails:JSON.stringify(Se),clientDocumentObjectSelected:JSON.stringify(Oe)}),Tt(),Te(Object(H.d)(!1))):(Re("You are currently offline.",{variant:"error"}),Te(Object(H.d)(!1))))):Re("Company VAT Registration status is missing, please update company details",{variant:"warning"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(_.a)(r.a.mark((function e(t,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(Object(H.d)(!0)),e.next=3,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection(null===ue||void 0===ue?void 0:ue.id).doc(i).set({isVoid:t},{merge:!0}).then(Object(_.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt();case 2:Re("".concat(null===ue||void 0===ue?void 0:ue.title," updated successfully"),{variant:"success"}),Te(Object(H.d)(!1));case 4:case"end":return e.stop()}}),e)})))).catch((function(e){Re("Error occured while updating void: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return bt.apply(this,arguments)}function bt(){return bt=Object(_.a)(r.a.mark((function e(t,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){Te(Object(H.d)(!0));var n=x.b.collection("company").doc(ve).collection("payment").doc("paymentCounter");x.b.runTransaction(function(){var e=Object(_.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get(n).then((function(e){return e.exists?Number(e.data().paymentCounter||0)+1:null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var n=Object(_.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==a){n.next=5;break}return n.next=3,x.b.collection("company").doc(ve).collection("payment").doc("paymentCounter").set({paymentCounter:1}).then(Object(_.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lt(1,t,i);case 2:n.sent&&e(!0);case 4:case"end":return n.stop()}}),n)})))).catch((function(e){Re("Error occured while creating payment counter: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),Te(Object(H.d)(!1))}));case 3:n.next=10;break;case 5:if(!(a&&Number(a)>0)){n.next=10;break}return n.next=8,Lt(a,t,i);case 8:n.sent&&e(!0);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){Re("Error occured while executing payment transaction: ".concat(null===t||void 0===t?void 0:t.message),{variant:"error"}),Te(Object(H.d)(!1)),e(!0)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function Lt(e,t,i){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(_.a)(r.a.mark((function e(t,i,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var a,o,E,A,l=t.toString();1===(null===(a=l)||void 0===a?void 0:a.length)?l="0000".concat(l):2===(null===(o=l)||void 0===o?void 0:o.length)?l="000".concat(l):3===(null===(E=l)||void 0===E?void 0:E.length)?l="00".concat(l):4===(null===(A=l)||void 0===A?void 0:A.length)&&(l="0".concat(l));var d,P=0,s=0,c="";"FULL"===n&&(P=0,s=null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.docTotal,c="Paid");var T=x.b.batch(),R=t.toString(),C=x.b.collection("company").doc(Se.id).collection("payment").doc("paymentCounter"),u=x.b.collection("company").doc(Se.id).collection("payment").doc(R),v=x.b.collection("company").doc(Se.id).collection(tt).doc(i.id);T.set(C,{paymentCounter:Number(t)},{merge:!0}),T.set(u,{invoiceList:[{invoiceId:null===i||void 0===i?void 0:i.id}],paymentDate:K()(new Date).format("DD-MM-YYYY"),dateCreated:Y.a.firestore.Timestamp.fromDate(new Date)},{merge:!0}),T.set(v,{paymentStatus:c,docRemainingPaymentAmt:P,attachedPaymentNumber:[{paymentNumber:R,paymentNumberString:l,paymentType:"",paymentAmount:s,paymentRemainingAmount:P,paymentDate:K()(new Date).format("DD-MM-YYYY")}]},{merge:!0}),T.commit().then(Object(_.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Re("".concat(n," payment applied successfully")),Te(Object(H.d)(!1)),e(!0);case 3:case"end":return t.stop()}}),t)})))).catch((function(t){Re("Error occured while making ".concat(n," payment: ").concat(null===t||void 0===t?void 0:t.message),{variant:"error"}),Te(Object(H.d)(!1)),e(!0)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(d.a,{item:!0,xs:12,md:12,children:[Object(oe.jsx)("hr",{}),Object(oe.jsx)("br",{}),Object(oe.jsx)(P.a,{children:"Please choose a date"})]}),Object(oe.jsx)(d.a,{item:!0,xs:12,md:12,style:{width:"100%"},children:Object(oe.jsxs)(s.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(oe.jsx)(k.a,{label:"From",value:me||"",onChange:function(e){Ne(e)},renderInput:function(e){return Object(oe.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"}),Object(oe.jsx)(k.a,{label:"To",value:fe||"",onChange:function(e){ge(e)},renderInput:function(e){return Object(oe.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"})]})}),Object(oe.jsxs)(d.a,{item:!0,xs:12,md:12,style:{display:Ye&&(null===Ye||void 0===Ye?void 0:Ye.length)>0?"":"none",width:"100%"},children:[null!==Se&&void 0!==Se&&null!==(t=Se.data)&&void 0!==t&&t.displayMRAFiscalisationButton?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return function(){return ht.apply(this,arguments)}()},disabled:!(Ye&&(null===Ye||void 0===Ye?void 0:Ye.length)>0&&null!==Ye&&void 0!==Ye&&Ye.find((function(e){return!0===(null===e||void 0===e?void 0:e.checked)}))),children:"Send invoices to MRA"}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{})]}):Object(oe.jsx)(oe.Fragment,{}),null!==Se&&void 0!==Se&&null!==(i=Se.data)&&void 0!==i&&i.sendEmail&&Ye&&(null===Ye||void 0===Ye?void 0:Ye.length)>0&&Ye.find((function(e){return!0===e.checked}))?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(s.a,{spacing:3,direction:"row",alignItems:"center",children:[Object(oe.jsx)(P.a,{children:"".concat(null===(A=Ye.filter((function(e){return!0===e.checked})))||void 0===A?void 0:A.length," seleted")}),Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return ct({open:!0,type:"mulitple"})},style:{width:300},children:"Send selected invoice(s) via email"})]}),Object(oe.jsx)("br",{})]}):Object(oe.jsx)(oe.Fragment,{}),ue&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsxs)(d.a,{item:!0,xs:12,md:12,children:[Object(oe.jsx)(d.a,{container:!0,spacing:3,children:Object(oe.jsx)(d.a,{item:!0,xs:12,md:4,children:Object(oe.jsx)(R.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Proforma filter",id:"filter-drop-down",options:["With P.O","With Quote number","With both P.O and Quote number","NONE"],value:rt,renderInput:function(e){return Object(oe.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{label:"Proforma filter"}))},onChange:function(e,t,i){lt("removeOption"!==i&&"clear"!==i&&t?t:null)},getOptionLabel:function(e){return e},fullWidth:!0})})}),Object(oe.jsx)("br",{})]}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)(C.a,{children:Object(oe.jsxs)(u.a,{border:1,children:[Object(oe.jsx)(v.a,{children:Object(oe.jsxs)(S.a,{children:[null!==Se&&void 0!==Se&&null!==(w=Se.data)&&void 0!==w&&w.MRATemplateFlag?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"}}):Object(oe.jsx)(oe.Fragment,{}),Ee&&Ae?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Choose"}):Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Delete"}),Ee&&Ae?Object(oe.jsx)(oe.Fragment,{}):Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Update"}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Date time created"}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Client"}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"".concat(null===ue||void 0===ue?void 0:ue.title," number")}),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{fontWeight:"bolder",whiteSpace:"nowrap"},children:"Customer's"}):Object(oe.jsx)(oe.Fragment,{}),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID&&null!==Oe&&void 0!==Oe&&Oe.id&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_ASHLEY_SOA_JOB_REF_CLIENTS&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_ASHLEY_SOA_JOB_REF_CLIENTS.includes(null===Oe||void 0===Oe?void 0:Oe.id)?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Job Ref"}):Object(oe.jsx)(oe.Fragment,{}),null!==Se&&void 0!==Se&&null!==(F=Se.data)&&void 0!==F&&F.sendEmail?Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(O.a,{size:"small",align:"center",children:"Send pdf to client"})}):Object(oe.jsx)(oe.Fragment,{}),ue&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Quotation Number"}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"P.O Number"})]}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"View/download"}),null!==Se&&void 0!==Se&&null!==(Q=Se.data)&&void 0!==Q&&Q.displayMRAFiscalisationButton?Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"MRA Fiscalisation"})}):Object(oe.jsx)(oe.Fragment,{}),null!==ue&&void 0!==ue&&ue.id&&"invoice"!==(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Vat amount"}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Subtotal amount"})]}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Total amount"}),"transport"===(null===Se||void 0===Se||null===(q=Se.data)||void 0===q?void 0:q.documentTemplate)&&"vat_invoice"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsx)(O.a,{size:"small",align:"center",children:"Apply/remove void"}):Object(oe.jsx)(oe.Fragment,{}),(null===ue||void 0===ue?void 0:ue.id)&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)&&Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"Proforma status"}),(null===ue||void 0===ue?void 0:ue.id)&&("proforma"===(null===ue||void 0===ue?void 0:ue.id)||"vat_invoice"===(null===ue||void 0===ue?void 0:ue.id)||"invoice"===(null===ue||void 0===ue?void 0:ue.id))&&Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:"proforma"===(null===ue||void 0===ue?void 0:ue.id)?"Convert to Invoice/Vat Invoice":"Converted from Proforma"})]})}),Object(oe.jsx)(p.a,{children:Ye&&(null===Ye||void 0===Ye?void 0:Ye.length)>0&&(null===Ye||void 0===Ye?void 0:Ye.map((function(e,t){var i,n,_,E,A,r,l,d,c,R,C,u,v,p,h,D,f,g,b,L,M,j,B,V,y,x,U,H,Y,w,F,k,W,Z,Q,q,te,ie,ne,ae,_e,le,de,Pe,se,Re,Ce,ve,pe,Ie,me,Ne,he,De,fe,ge,be,Le,je,Be,Ve,xe,Ue,He,Ke,Fe,Ge,ke,ze,We=!1;ue&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)?We=!(!("With Quote number"===rt&&null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.docQuoteNumber||"With P.O"===rt&&null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.docPurchaseOrderNumber||"With both P.O and Quote number"===rt&&null!==e&&void 0!==e&&null!==(_=e.data)&&void 0!==_&&_.docQuoteNumber&&null!==e&&void 0!==e&&null!==(E=e.data)&&void 0!==E&&E.docPurchaseOrderNumber)&&("NONE"!==rt||null!==e&&void 0!==e&&null!==(A=e.data)&&void 0!==A&&A.docQuoteNumber||null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.docPurchaseOrderNumbe)&&rt):We=!0;return We?Object(oe.jsxs)(S.a,{children:[null!==Se&&void 0!==Se&&null!==(l=Se.data)&&void 0!==l&&l.MRATemplateFlag?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(d=Se.data)||void 0===d?void 0:d.documentTemplate)&&null!==e&&void 0!==e&&null!==(c=e.data)&&void 0!==c&&c.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(I.a,{checked:null===e||void 0===e?void 0:e.checked,onChange:function(e){var i=Object(o.a)(Ye);i[t]=Object(a.a)(Object(a.a)({},i[t]),{},{checked:e.target.checked}),we(i)}})}):Object(oe.jsx)(oe.Fragment,{}),Ee&&Ae?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(R=Se.data)||void 0===R?void 0:R.documentTemplate)&&null!==e&&void 0!==e&&null!==(C=e.data)&&void 0!==C&&C.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return re(e)},children:"Choose"})}):Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(u=Se.data)||void 0===u?void 0:u.documentTemplate)&&null!==e&&void 0!==e&&null!==(v=e.data)&&void 0!==v&&v.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(m.a,{color:"error",onClick:function(){return It(null===e||void 0===e?void 0:e.id,Object(a.a)({},null===e||void 0===e?void 0:e.data))},disabled:!(null!==ce&&void 0!==ce&&null!==(p=ce.permissions[null===ue||void 0===ue?void 0:ue.deletePermission])&&void 0!==p&&null!==(h=p.assignedCompanyId)&&void 0!==h&&h.includes(null===Se||void 0===Se?void 0:Se.id)),children:Object(oe.jsx)($.a,{})})}),Ee&&Ae?Object(oe.jsx)(oe.Fragment,{}):Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap"},children:Object(oe.jsx)(m.a,{onClick:function(){var t;Te(Object(z.j)(Object(a.a)(Object(a.a)({},e),{},{documentTypeId:null===ue||void 0===ue?void 0:ue.id,documentTypeTitle:null===ue||void 0===ue?void 0:ue.title,keywords:(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.keywords)||[]}))),Ze(!0)},disabled:!(null!==ce&&void 0!==ce&&ce.permissions)||!(null!==ce&&void 0!==ce&&null!==(D=ce.permissions[null===ue||void 0===ue?void 0:ue.updatePermission])&&void 0!==D&&null!==(f=D.assignedCompanyId)&&void 0!==f&&f.includes(null===Se||void 0===Se?void 0:Se.id))||(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.isProformaConverted)&&"proforma"===(null===ue||void 0===ue?void 0:ue.id),children:Object(oe.jsx)(G.a,{color:"primary"})})}),Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(b=Se.data)||void 0===b?void 0:b.documentTemplate)&&null!==e&&void 0!==e&&null!==(L=e.data)&&void 0!==L&&L.isVoid?"#FEFEBE":"transparent"},children:K()(null===e||void 0===e||null===(M=e.data)||void 0===M?void 0:M.docDate.toDate()).format("DD-MM-YYYY, HH:MM:ss")}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(j=Se.data)||void 0===j?void 0:j.documentTemplate)&&null!==e&&void 0!==e&&null!==(B=e.data)&&void 0!==B&&B.isVoid?"#FEFEBE":"transparent"},children:Oe&&null!==Oe&&void 0!==Oe&&Oe.name&&""!==(null===Oe||void 0===Oe?void 0:Oe.name)?null===Oe||void 0===Oe?void 0:Oe.name:""}),Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(V=Se.data)||void 0===V?void 0:V.documentTemplate)&&null!==e&&void 0!==e&&null!==(y=e.data)&&void 0!==y&&y.isVoid?"#FEFEBE":"transparent"},children:"".concat(null===e||void 0===e||null===(x=e.data)||void 0===x?void 0:x.docString)}),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:(null===e||void 0===e||null===(U=e.data)||void 0===U||null===(H=U.docParticulars.find((function(e){return"Customer's"===e.title})))||void 0===H?void 0:H.customDetail)||""}):Object(oe.jsx)(oe.Fragment,{}),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID&&null!==Oe&&void 0!==Oe&&Oe.id&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_ASHLEY_SOA_JOB_REF_CLIENTS&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_ASHLEY_SOA_JOB_REF_CLIENTS.includes(null===Oe||void 0===Oe?void 0:Oe.id)?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:(null===e||void 0===e||null===(Y=e.data)||void 0===Y?void 0:Y.invJobRef)||""}):Object(oe.jsx)(oe.Fragment,{}),null!==Se&&void 0!==Se&&null!==(w=Se.data)&&void 0!==w&&w.sendEmail?Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap",background:!0===(null===e||void 0===e||null===(F=e.data)||void 0===F?void 0:F.emailAlreadySent)?"#befed5":"transport"===(null===Se||void 0===Se||null===(k=Se.data)||void 0===k?void 0:k.documentTemplate)&&null!==e&&void 0!==e&&null!==(W=e.data)&&void 0!==W&&W.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return ct({open:!0,type:"single",invoiceContent:e})},children:"send email"})}):Object(oe.jsx)(oe.Fragment,{}),ue&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(Z=Se.data)||void 0===Z?void 0:Z.documentTemplate)&&null!==e&&void 0!==e&&null!==(Q=e.data)&&void 0!==Q&&Q.isVoid?"#FEFEBE":"transparent"},children:(null===e||void 0===e||null===(q=e.data)||void 0===q?void 0:q.docQuoteNumber)||""}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(te=Se.data)||void 0===te?void 0:te.documentTemplate)&&null!==e&&void 0!==e&&null!==(ie=e.data)&&void 0!==ie&&ie.isVoid?"#FEFEBE":"transparent"},children:(null===e||void 0===e||null===(ne=e.data)||void 0===ne?void 0:ne.docPurchaseOrderNumber)||""})]}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(ae=Se.data)||void 0===ae?void 0:ae.documentTemplate)&&null!==e&&void 0!==e&&null!==(_e=e.data)&&void 0!==_e&&_e.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsxs)(s.a,{direction:"row",alignItems:"center",justifyContent:"center",spacing:2,children:[Object(oe.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){return Object(ee.n)(Se,Oe,e,Me,ye,"view")},disabled:!(null!==ce&&void 0!==ce&&null!==(le=ce.permissions[null===ue||void 0===ue?void 0:ue.viewPermission])&&void 0!==le&&null!==(de=le.assignedCompanyId)&&void 0!==de&&de.includes(null===Se||void 0===Se?void 0:Se.id)),children:Object(oe.jsx)(X.a,{icon:"carbon:view"})}),Object(oe.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){return Object(ee.n)(Se,Oe,e,Me,ye,"download")},disabled:!(null!==ce&&void 0!==ce&&null!==(Pe=ce.permissions[null===ue||void 0===ue?void 0:ue.viewPermission])&&void 0!==Pe&&null!==(se=Pe.assignedCompanyId)&&void 0!==se&&se.includes(null===Se||void 0===Se?void 0:Se.id)),children:Object(oe.jsx)(X.a,{icon:"eva:download-fill"})})]})}),null!==Se&&void 0!==Se&&null!==(Re=Se.data)&&void 0!==Re&&Re.displayMRAFiscalisationButton?Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(Ce=Se.data)||void 0===Ce?void 0:Ce.documentTemplate)&&null!==e&&void 0!==e&&null!==(ve=e.data)&&void 0!==ve&&ve.isVoid?"#FEFEBE":"transparent"},children:"completed"===(null===e||void 0===e||null===(pe=e.data)||void 0===pe?void 0:pe.mraCompliantStatus)?Object(oe.jsx)(P.a,{children:"Completed"}):"error"===(null===e||void 0===e||null===(Ie=e.data)||void 0===Ie?void 0:Ie.mraCompliantStatus)?Object(oe.jsxs)(s.a,{spacing:2,direction:"row",children:[Object(oe.jsx)(N.a,{title:null===e||void 0===e||null===(me=e.data)||void 0===me?void 0:me.mraCompliantMessage,children:Object(oe.jsx)(P.a,{children:"Error occured"})}),Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return mt(e)},children:"Upload again"})]}):Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return mt(e)},children:"Upload"})}):Object(oe.jsx)(oe.Fragment,{}),null!==ue&&void 0!==ue&&ue.id&&"invoice"!==(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(Ne=Se.data)||void 0===Ne?void 0:Ne.documentTemplate)&&null!==e&&void 0!==e&&null!==(he=e.data)&&void 0!==he&&he.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(J.a,{value:Number((null===e||void 0===e||null===(De=e.data)||void 0===De?void 0:De.docVatFee)||0).toFixed(2),displayType:"text",thousandSeparator:!0})}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap"},children:Object(oe.jsx)(J.a,{value:Number((null===e||void 0===e||null===(fe=e.data)||void 0===fe?void 0:fe.docSubTotal)||0).toFixed(2),displayType:"text",thousandSeparator:!0})})]}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)(O.a,{size:"small",align:"center",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(ge=Se.data)||void 0===ge?void 0:ge.documentTemplate)&&null!==e&&void 0!==e&&null!==(be=e.data)&&void 0!==be&&be.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(J.a,{value:Number((null===e||void 0===e||null===(Le=e.data)||void 0===Le?void 0:Le.docTotal)||0).toFixed(2),displayType:"text",thousandSeparator:!0})}),"transport"===(null===Se||void 0===Se||null===(je=Se.data)||void 0===je?void 0:je.documentTemplate)&&"vat_invoice"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsx)(O.a,{align:"center",size:"small",style:{background:null!==e&&void 0!==e&&null!==(Be=e.data)&&void 0!==Be&&Be.isVoid?"#FEFEBE":"transparent"},children:null!==e&&void 0!==e&&null!==(Ve=e.data)&&void 0!==Ve&&Ve.isVoid?Object(oe.jsx)(T.a,{variant:"contained",onClick:function(){return Dt(!1,null===e||void 0===e?void 0:e.id)},color:"warning",children:"cancel void"}):Object(oe.jsx)(T.a,{variant:"contained",onClick:function(){return Dt(!0,null===e||void 0===e?void 0:e.id)},color:"primary",children:"void"})}):Object(oe.jsx)(oe.Fragment,{}),(null===ue||void 0===ue?void 0:ue.id)&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)&&Object(oe.jsx)(O.a,{align:"center",size:"small",style:{background:null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(xe=e.data)&&void 0!==xe&&xe.isProformaConverted?"#FEFEBE":"transparent",whiteSpace:"nowrap"},children:null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(Ue=e.data)&&void 0!==Ue&&Ue.isProformaConverted?"Converted to ".concat(null===e||void 0===e||null===(He=e.data)||void 0===He?void 0:He.conversionDocTitle):"Still Proforma"}),null!==ue&&void 0!==ue&&ue.id&&"proforma"===(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsx)(O.a,{align:"center",size:"small",style:{whiteSpace:"nowrap",background:"transport"===(null===Se||void 0===Se||null===(Ke=Se.data)||void 0===Ke?void 0:Ke.documentTemplate)&&null!==e&&void 0!==e&&null!==(Fe=e.data)&&void 0!==Fe&&Fe.isVoid?"#FEFEBE":"transparent"},children:Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){_t({id:null===e||void 0===e?void 0:e.id,data:Object(a.a)({},null===e||void 0===e?void 0:e.data)}),qe(!0)},disabled:(null===e||void 0===e||null===(Ge=e.data)||void 0===Ge?void 0:Ge.isProformaConverted)||Ee&&Ae,children:"Convert"})}):null===ue||void 0===ue||!ue.id||"vat_invoice"!==(null===ue||void 0===ue?void 0:ue.id)&&"invoice"!==(null===ue||void 0===ue?void 0:ue.id)?Object(oe.jsx)(oe.Fragment,{}):Object(oe.jsx)(O.a,{align:"center",size:"small",style:{background:null!==e&&void 0!==e&&null!==(ke=e.data)&&void 0!==ke&&ke.createdFromProfroma?"#FEFEBE":"transparent",whiteSpace:"nowrap"},children:null!==e&&void 0!==e&&null!==(ze=e.data)&&void 0!==ze&&ze.createdFromProfroma?"YES":"NO"})]},t):Object(oe.jsx)(oe.Fragment,{})})))})]})})]}),Object(oe.jsx)(d.a,{item:!0,xs:12,md:12,children:Ye&&0!==(null===Ye||void 0===Ye?void 0:Ye.length)?"":Object(oe.jsx)(h.a,{severity:"warning",children:"No document retrieved found."})}),Object(oe.jsxs)(D.a,{open:We,maxWidth:"xl",fullWidth:!0,children:[Object(oe.jsx)(f.a,{children:"Update ".concat((null===ue||void 0===ue?void 0:ue.title)||"")}),Object(oe.jsx)(g.a,{children:Object(oe.jsx)(d.a,{container:!0,spacing:3,children:Object(oe.jsx)(W.default,{action:"update",handleCloseUpdateDialog:Ot})})}),Object(oe.jsx)(b.a,{children:Object(oe.jsx)(T.a,{variant:"contained",color:"error",onClick:function(){return Ot(!1)},children:"close"})})]}),Object(oe.jsxs)(D.a,{open:Je,maxWidth:"sm",fullWidth:!0,children:[Object(oe.jsx)(f.a,{children:"Convert to Invoice/Vat Invoice"}),Object(oe.jsx)(g.a,{children:Object(oe.jsx)(d.a,{container:!0,spacing:3,children:Object(oe.jsx)(d.a,{item:!0,xs:12,md:12,children:Object(oe.jsxs)(L.a,{children:[Object(oe.jsx)(M.a,{id:"demo-radio-buttons-group-label",children:"Conversion types"}),Object(oe.jsxs)(j.a,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",value:tt,onChange:function(e){return it(e.target.value)},children:[Object(oe.jsx)(B.a,{value:"invoice",control:Object(oe.jsx)(V.a,{}),label:"Invoice"}),Object(oe.jsx)(B.a,{value:"vat_invoice",control:Object(oe.jsx)(V.a,{}),label:"VAT Invoice"})]})]})})})}),Object(oe.jsxs)(b.a,{children:[Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return function(){return pt.apply(this,arguments)}()},children:"Confirm"}),Object(oe.jsx)(T.a,{variant:"contained",color:"error",onClick:function(){return qe(!1)},children:"close"})]})]}),Object(oe.jsx)(l.Suspense,{fallback:Object(oe.jsx)(oe.Fragment,{}),children:Object(oe.jsx)(_e,{open:null===st||void 0===st?void 0:st.open,close:function(){return ct({open:!1,type:""})},us_openCCDialog:st,sendMultipleEmail:function(e,t,i){var n,o,E,A,l;if(Te(Object(H.d)(!0)),null!==Oe&&void 0!==Oe&&null!==(n=Oe.data)&&void 0!==n&&n.name)if(null!==Oe&&void 0!==Oe&&null!==(o=Oe.data)&&void 0!==o&&o.name)if(null!==Oe&&void 0!==Oe&&null!==(E=Oe.data)&&void 0!==E&&E.email)if(null!==Oe&&void 0!==Oe&&Oe.data.email)if(null!==Se&&void 0!==Se&&null!==(A=Se.data)&&void 0!==A&&A.serviceKey)if(null!==Se&&void 0!==Se&&null!==(l=Se.data)&&void 0!==l&&l.templateKey){var d=[];"single"===e?d.push(Object(a.a)({},t)):d=Ye.filter((function(e){return!0===e.checked}));var P=[];d.forEach((function(e){P.push(new Promise(function(){var t=Object(_.a)(r.a.mark((function t(i){var n,o,E,A,l,d,P,s,c,T,R,C,u,v,S,O,p,I,m,N,h,D,f,g,b,L,M,j,B,V,y,x,U,H,Y,w,F,G,k,z,W,Z,X,Q,J,q,$,ee,te,_e,Ee,Ae,re,le,de,Pe,se,ce;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te={companyChosenObj:{id:null!==Se&&void 0!==Se&&Se.id&&""!==(null===Se||void 0===Se?void 0:Se.id)?null===Se||void 0===Se?void 0:Se.id:"",data:Object(a.a)({},null===Se||void 0===Se?void 0:Se.data)},clientChosenObj:{data:Object(a.a)({},null===Oe||void 0===Oe?void 0:Oe.data)},invDetails:{docTitle:(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.docTitle)||"",docType:(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.docType)||"",docQuoteNumber:(null===e||void 0===e||null===(E=e.data)||void 0===E?void 0:E.docQuoteNumber)||"",docPurchaseOrderNumber:(null===e||void 0===e||null===(A=e.data)||void 0===A?void 0:A.docPurchaseOrderNumber)||"",docBillTo:(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.docBillTo)||"",docShipTo:(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.docShipTo)||"",docTermsAndCondition:(null===e||void 0===e||null===(P=e.data)||void 0===P?void 0:P.docTermsAndCondition)||"",invDate:K()(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.docDate.toDate()).format("DD-MM-YYYY")||"",invParticulars:(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.docParticulars)||[],invTotal:(null===e||void 0===e||null===(T=e.data)||void 0===T?void 0:T.docTotal)||0,invoiceString:(null===e||void 0===e||null===(R=e.data)||void 0===R?void 0:R.docString)||"",invVatFee:(null===e||void 0===e||null===(C=e.data)||void 0===C?void 0:C.docVatFee)||0,invSubTotal:(null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.docSubTotal)||0,paymentStatus:(null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.paymentStatus)||"",docBLNumber:(null===e||void 0===e||null===(S=e.data)||void 0===S?void 0:S.docBLNumber)||"",docSupplier:(null===e||void 0===e||null===(O=e.data)||void 0===O?void 0:O.docSupplier)||"",docContainerNumber:(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.docContainerNumber)||"",docPackages:(null===e||void 0===e||null===(I=e.data)||void 0===I?void 0:I.docPackages)||"",docDescription:(null===e||void 0===e||null===(m=e.data)||void 0===m?void 0:m.docDescription)||"",docGrossWeight:(null===e||void 0===e||null===(N=e.data)||void 0===N?void 0:N.docGrossWeight)||"",docVolume:(null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.docVolume)||"",docPortOfLoading:(null===e||void 0===e||null===(D=e.data)||void 0===D?void 0:D.docPortOfLoading)||"",docETA:(null===e||void 0===e||null===(f=e.data)||void 0===f?void 0:f.docETA)||"",docVesselName:(null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.docVesselName)||"",docRoE:(null===e||void 0===e||null===(b=e.data)||void 0===b?void 0:b.docRoE)||"",docPlaceOfLanding:(null===e||void 0===e||null===(L=e.data)||void 0===L?void 0:L.docPlaceOfLanding)||"",discountTotalAmount:(null===e||void 0===e||null===(M=e.data)||void 0===M?void 0:M.discountTotalAmount)||"",discountedTotalAmount:(null===e||void 0===e||null===(j=e.data)||void 0===j?void 0:j.discountedTotalAmount)||"",invJobRef:(null===e||void 0===e||null===(B=e.data)||void 0===B?void 0:B.invJobRef)||"",invStorageFee:(null===e||void 0===e||null===(V=e.data)||void 0===V?void 0:V.invStorageFee)||"",invScanningFee:(null===e||void 0===e||null===(y=e.data)||void 0===y?void 0:y.invScanningFee)||"",invGatePassFee:(null===e||void 0===e||null===(x=e.data)||void 0===x?void 0:x.invGatePassFee)||"",invVehicleNo:(null===e||void 0===e||null===(U=e.data)||void 0===U?void 0:U.invVehicleNo)||"",transportFees:(null===e||void 0===e||null===(H=e.data)||void 0===H?void 0:H.transportFees)||"",transportDesc:(null===e||void 0===e||null===(Y=e.data)||void 0===Y?void 0:Y.transportDesc)||"",invApplyVat:(null===e||void 0===e||null===(w=e.data)||void 0===w?void 0:w.invApplyVat)||!1,docShipper:(null===e||void 0===e||null===(F=e.data)||void 0===F?void 0:F.docShipper)||"",docMarkNos:(null===e||void 0===e||null===(G=e.data)||void 0===G?void 0:G.docMarkNos)||"",docCommodity:(null===e||void 0===e||null===(k=e.data)||void 0===k?void 0:k.docCommodity)||"",docHbl:(null===e||void 0===e||null===(z=e.data)||void 0===z?void 0:z.docHbl)||"",docDepot:(null===e||void 0===e||null===(W=e.data)||void 0===W?void 0:W.docDepot)||""},logo:Me||"",sigImage:ye||""},_e="",null!==e&&void 0!==e&&null!==(Z=e.data)&&void 0!==Z&&null!==(X=Z.mraFinalisationData)&&void 0!==X&&X.fiscalisedInvoices&&(le=null===e||void 0===e||null===(Ee=e.data)||void 0===Ee||null===(Ae=Ee.mraFinalisationData)||void 0===Ae||null===(re=Ae.fiscalisedInvoices[0])||void 0===re?void 0:re.qrCode,de="data:image/jpeg/png;base64,".concat(le),_e=de),Pe="transport"===(null===Se||void 0===Se||null===(Q=Se.data)||void 0===Q?void 0:Q.documentTemplate)?Object(oe.jsx)(ne.a,{companyChosenObj:te.companyChosenObj,clientChosenObj:te.clientChosenObj,invDetails:te.invDetails,logo:te.logo,sigImage:te.sigImage}):Object(oe.jsx)(ae.a,{customTemplate1:!(null===Se||void 0===Se||!Se.id||!'["9VNEXj9ahhngQ3U8oQ4i"]'.includes(null===Se||void 0===Se?void 0:Se.id)),newTemplate:!!(null!==Se&&void 0!==Se&&null!==(J=Se.data)&&void 0!==J&&null!==(q=J.MRATemplateFlag)&&void 0!==q&&q.value||null!==te&&void 0!==te&&null!==($=te.invDetails)&&void 0!==$&&null!==(ee=$.data)&&void 0!==ee&&ee.MRATemplateApplied),companyChosenObj:te.companyChosenObj,clientChosenObj:te.clientChosenObj,invDetails:te.invDetails,logo:te.logo,sigImage:te.sigImage,qrCodeUri:_e||""}),t.next=6,Object(ie.pdf)(Pe).toBlob();case 6:if(!(se=t.sent)){t.next=12;break}return t.next=10,new Promise((function(e){var t=new FileReader;t.readAsDataURL(se),t.onloadend=Object(_.a)(r.a.mark((function i(){var n,a;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.result,a=n.split(","),e(a[1]);case 3:case"end":return i.stop()}}),i)})))}));case 10:(ce=t.sent)&&i(ce);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))})),Promise.all(P).then((function(e){var t,n,o,E,A,l,P,s,c,T,R="",C="",u="";d.forEach((function(e){var t,i;if(R+="- ".concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.docString," \n"),C+=" ".concat(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.docString," "),(null===Se||void 0===Se?void 0:Se.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID){var n,a,o="",_=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.docParticulars)||[];if((null===_||void 0===_?void 0:_.length)>0){var E=_.find((function(e){return"Customer's"===e.title}));E&&(o=E.customDetail)}u+="- ".concat(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.docString," for customer: ").concat(o," \n ")}}));var v,S,O,p=(null===Oe||void 0===Oe||null===(t=Oe.data)||void 0===t?void 0:t.email)||"";null!==Oe&&void 0!==Oe&&null!==(n=Oe.data)&&void 0!==n&&n.email2&&(p+=",".concat(null===Oe||void 0===Oe||null===(v=Oe.data)||void 0===v?void 0:v.email2));null!==Oe&&void 0!==Oe&&null!==(o=Oe.data)&&void 0!==o&&o.email3&&(p+=",".concat(null===Oe||void 0===Oe||null===(S=Oe.data)||void 0===S?void 0:S.email3));null!==Oe&&void 0!==Oe&&null!==(E=Oe.data)&&void 0!==E&&E.email4&&(p+=",".concat(null===Oe||void 0===Oe||null===(O=Oe.data)||void 0===O?void 0:O.email4));var I,m,N={from_name:null===Se||void 0===Se||null===(A=Se.data)||void 0===A?void 0:A.name,to_name:null===Oe||void 0===Oe||null===(l=Oe.data)||void 0===l?void 0:l.name,from_email:null===Se||void 0===Se||null===(P=Se.data)||void 0===P?void 0:P.email,to_email:p,reply_to:null===Se||void 0===Se||null===(s=Se.data)||void 0===s?void 0:s.email,fileName:"".concat(null===ue||void 0===ue?void 0:ue.title,".pdf"),content:e};Se.id===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_ASHLEY_ID?N=Object(a.a)(Object(a.a)({},N),{},{invoiceNumber:C||"",invoice_number_customerName:u,subject:"".concat(null===ue||void 0===ue?void 0:ue.title," ").concat(C," from ").concat(null===Se||void 0===Se||null===(I=Se.data)||void 0===I?void 0:I.name),documentType:null===ue||void 0===ue?void 0:ue.title}):N=Object(a.a)(Object(a.a)({},N),{},{invoice_number:R,invoice_number_customerName:R,subject:"".concat(null===ue||void 0===ue?void 0:ue.title," from ").concat(null===Se||void 0===Se||null===(m=Se.data)||void 0===m?void 0:m.name),documentType:null===ue||void 0===ue?void 0:ue.title});if(i){var h=i.split(","),D="";if((null===h||void 0===h?void 0:h.length)>0)for(var f=0;f<(null===h||void 0===h?void 0:h.length);f++)D=D+h[f]+", ";N=Object(a.a)(Object(a.a)({},N),{},{ccField:D})}te.a.send(null===Se||void 0===Se||null===(c=Se.data)||void 0===c?void 0:c.serviceKey,null===Se||void 0===Se||null===(T=Se.data)||void 0===T?void 0:T.templateKey,Object(a.a)({},N),"GSb72AhjTKPF-1qEF").then(Object(_.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==st&&void 0!==st&&st.open&&ct({open:!1,type:"",invoiceContent:null}),t=[],d.forEach((function(e){t.push(new Promise(function(){var t=Object(_.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.b.collection("company").doc(null===Se||void 0===Se?void 0:Se.id).collection(null===ue||void 0===ue?void 0:ue.id).doc(null===e||void 0===e?void 0:e.id).set({emailAlreadySent:!0},{merge:!0}).then((function(){i(!0)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))})),Promise.all(t).then((function(){Re("Email sent successfully",{variant:"success"}),Tt(),Te(Object(H.d)(!1))}));case 4:case"end":return e.stop()}}),e)}))),(function(e){Re("Error occured while sending pdf: ".concat(e.text),{variant:"error"}),Te(Object(H.d)(!1))}))}))}else Re("Template key is missing",{variant:"error"}),Te(Object(H.d)(!1));else Re("Service key is missing",{variant:"error"}),Te(Object(H.d)(!1));else Re("Your company email is missing",{variant:"error"}),Te(Object(H.d)(!1));else Re("Client email is missing",{variant:"error"}),Te(Object(H.d)(!1));else Re("Your company name is missing",{variant:"error"}),Te(Object(H.d)(!1));else Re("Client name is missing",{variant:"error"}),Te(Object(H.d)(!1))}})})]})}}}]);
//# sourceMappingURL=14.688bdf30.chunk.js.map