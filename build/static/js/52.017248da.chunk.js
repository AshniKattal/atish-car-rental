(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[52],{1765:function(e,t,n){"use strict";var o=n(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(117)),a=n(0);t.default=(0,i.default)((0,a.jsx)("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"}),"FindInPage")},1829:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var o=n(9),i=n(6),a=n(18),c=n(3),d=n.n(c),l=n(1466),u=n(145),r=n(1499),s=n(1765),v=n.n(s),b=n(4),m=n(52),j=n(472),p=n(118),h=n(68),O=n(250),f=n(49),g=n(0),x=Object(b.lazy)((function(){return n.e(71).then(n.bind(null,1768))}));function T(e){var t=e.fieldType,n=e.us_doc_number,c=e.set_us_doc_number,s=e.classes,T=e.logo,y=e.sigImage,k=e.documentDetails,S=e.setDocumentDetails,_=Object(m.b)(),w=Object(p.b)().enqueueSnackbar,D=Object(m.c)(j.b),I=D.companyIdSelected,P=D.clientDocumentObjectSelected,q=Object(b.useState)(""),C=Object(a.a)(q,2),F=C[0],z=C[1],A=Object(b.useState)(!1),B=Object(a.a)(A,2),M=B[0],N=B[1];function V(){return(V=Object(i.a)(d.a.mark((function e(){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}w("Please provide a quotation number",{variant:"error"}),e.next=10;break;case 4:return _(Object(h.d)(!0)),e.next=7,Object(O.h)(n);case 7:return i=e.sent,e.next=10,f.b.collection("company").doc(I).collection(t).doc(i).get().then((function(e){var t,n,i,a,c,d,l,u;e.exists?P&&(null===P||void 0===P?void 0:P.id)!==(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.clientId)?(w("The quotation number you have selected does not match with the client you have selected above.",{variant:"error"}),_(Object(h.d)(!1))):(w("Quotation found",{variant:"success"}),S(Object(o.a)(Object(o.a)({},k),{},{docBillTo:(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.docBillTo)||(null===k||void 0===k?void 0:k.docBillTo)||"",docShipTo:(null===e||void 0===e||null===(i=e.data())||void 0===i?void 0:i.docShipTo)||(null===k||void 0===k?void 0:k.docShipTo)||"",docParticulars:(null===e||void 0===e||null===(a=e.data())||void 0===a?void 0:a.docParticulars)||[],docSubTotal:(null===e||void 0===e||null===(c=e.data())||void 0===c?void 0:c.docSubTotal)||0,docTotal:(null===e||void 0===e||null===(d=e.data())||void 0===d?void 0:d.docTotal)||0,docVatFee:(null===e||void 0===e||null===(l=e.data())||void 0===l?void 0:l.docVatFee)||0,docTermsAndCondition:(null===e||void 0===e||null===(u=e.data())||void 0===u?void 0:u.docTermsAndCondition)||(null===k||void 0===k?void 0:k.docTermsAndCondition)||""})),_(Object(h.d)(!1))):(w("Cannot find the quotation number in the database",{variant:"warning"}),_(Object(h.d)(!1)))})).catch((function(e){w("Error occured while fetching document: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),_(Object(h.d)(!1))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(l.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(g.jsx)(u.a,{variant:"outlined",name:"docNumber",label:"quotation"===t?"Quotation number":"purchase_order"===t?"P.O number":"",id:"docNumber",type:"text",value:n,size:"small",fullWidth:!0,InputProps:{className:s.input},onChange:function(e){c(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&"quotation"===t&&function(){V.apply(this,arguments)}()}}),Object(g.jsx)(r.a,{color:"primary",size:"medium",onClick:function(){z(t),N(!0)},children:Object(g.jsx)(v.a,{})})]}),M?Object(g.jsx)(b.Suspense,{fallback:Object(g.jsx)(g.Fragment,{}),children:Object(g.jsx)(x,{open:M,type:F,setType:z,setOpen:N,logo:T,sigImage:y,documentDetails:k,setDocumentDetails:S,set_us_doc_number:c})}):""]})}}}]);
//# sourceMappingURL=52.017248da.chunk.js.map