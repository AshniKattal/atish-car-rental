(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[61],{1548:function(e,n,a){"use strict";a.d(n,"a",(function(){return d}));var t=a(6),i=a(3),o=a.n(i);function d(e){return r.apply(this,arguments)}function r(){return(r=Object(t.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e([{func:"View home section",viewAllSectionChk:n,name:"viewAllSectionChk",id:"home",title:"Home section",rowSpan:1,assignedCompanyId:[]},{func:"Upload Bank Statement",uploadBankStatementChk:n,name:"uploadBankStatementChk",id:"bankStatement",title:"Bank Statement section",rowSpan:1,assignedCompanyId:[]},{func:"Access to Report",accessReport:n,name:"accessReport",id:"report",title:"Report section ",rowSpan:2,assignedCompanyId:[]},{func:"View unpaid invoices only",viewUnpaidInvoiceOnly:n,name:"viewUnpaidInvoiceOnly",id:"report",title:"",rowSpan:2,assignedCompanyId:[]},{func:"Access to payment section",accessPayment:n,name:"accessPayment",id:"payment",title:"Payment section",rowSpan:3,assignedCompanyId:[]},{func:"Add full payment/ partial payment",addFullPartialPaymentChk:n,name:"addFullPartialPaymentChk",id:"payment",title:"Payment section",rowSpan:3,assignedCompanyId:[]},{func:"Delete full payment/ partial payment",deleteFullPartialPaymentChk:n,name:"deleteFullPartialPaymentChk",id:"payment",title:"Payment section",rowSpan:3,assignedCompanyId:[]},{func:"Access to expense section",accessExpense:n,name:"accessExpense",id:"expense",title:"Expense",rowSpan:3,assignedCompanyId:[]},{func:"Add expense",addExpense:n,name:"addExpense",id:"expense",title:"Expense",rowSpan:3,assignedCompanyId:[]},{func:"Delete expense",deleteExpense:n,name:"deleteExpense",id:"expense",title:"Expense",rowSpan:3,assignedCompanyId:[]},{func:"View quotation",viewQuotation:n,name:"viewQuotation",id:"quotation",title:"Quotation section",rowSpan:4,assignedCompanyId:[]},{func:"Create quotation",createQuotation:n,name:"createQuotation",id:"quotation",title:"Quotation section",rowSpan:4,assignedCompanyId:[]},{func:"Update quotation",updateQuotation:n,name:"updateQuotation",id:"quotation",title:"Quotation section",rowSpan:4,assignedCompanyId:[]},{func:"Delete quotation",deleteQuotation:n,name:"deleteQuotation",id:"quotation",title:"Quotation section",rowSpan:4,assignedCompanyId:[]},{func:"View Invoice",viewInvoice:n,name:"viewInvoice",id:"invoice",title:"Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Create Invoice",createInvoice:n,name:"createInvoice",id:"invoice",title:"Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Update Invoice",updateInvoice:n,name:"updateInvoice",id:"invoice",title:"Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Invoice",deleteInvoice:n,name:"deleteInvoice",id:"invoice",title:"Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"View VAT Invoice",viewVatInvoice:n,name:"viewVatInvoice",id:"vatInvoice",title:"VAT Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Create VAT Invoice",createVatInvoice:n,name:"createVatInvoice",id:"vatInvoice",title:"VAT Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Update VAT Invoice",updateVatInvoice:n,name:"updateVatInvoice",id:"vatInvoice",title:"VAT Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"Delete VAT Invoice",deleteVatInvoice:n,name:"deleteVatInvoice",id:"vatInvoice",title:"VAT Invoice section",rowSpan:4,assignedCompanyId:[]},{func:"View Purchase order",viewPurchaseOrder:n,name:"viewPurchaseOrder",id:"purchaseOrder",title:"Purchase order section",rowSpan:4,assignedCompanyId:[]},{func:"Create Purchase order",createPurchaseOrder:n,name:"createPurchaseOrder",id:"purchaseOrder",title:"Purchase order section",rowSpan:4,assignedCompanyId:[]},{func:"Update Purchase order",updatePurchaseOrder:n,name:"updatePurchaseOrder",id:"purchaseOrder",title:"Purchase order section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Purchase order",deletePurchaseOrder:n,name:"deletePurchaseOrder",id:"purchaseOrder",title:"Purchase order section",rowSpan:4,assignedCompanyId:[]},{func:"View Proforma",viewProforma:n,name:"viewProforma",id:"viewProforma",title:"Proforma section",rowSpan:4,assignedCompanyId:[]},{func:"Create Proforma",createProforma:n,name:"createProforma",id:"viewProforma",title:"Proforma section",rowSpan:4,assignedCompanyId:[]},{func:"Update Proforma",updateProforma:n,name:"updateProforma",id:"viewProforma",title:"Proforma section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Proforma",deleteProforma:n,name:"deleteProforma",id:"viewProforma",title:"Proforma section",rowSpan:4,assignedCompanyId:[]},{func:"View Credit Note",viewCreditNote:n,name:"viewCreditNote",id:"creditNote",title:"Credit note section",rowSpan:4,assignedCompanyId:[]},{func:"Create Credit Note",createCreditNote:n,name:"createCreditNote",id:"creditNote",title:"Credit note section",rowSpan:4,assignedCompanyId:[]},{func:"Update Credit Note",updateCreditNote:n,name:"updateCreditNote",id:"creditNote",title:"Credit note section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Credit Note",deleteCreditNote:n,name:"deleteCreditNote",id:"creditNote",title:"Credit note section",rowSpan:4,assignedCompanyId:[]},{func:"View Debit Note",viewDebitNote:n,name:"viewDebitNote",id:"debitNote",title:"Debit note section",rowSpan:4,assignedCompanyId:[]},{func:"Create Debit Note",createDebitNote:n,name:"createDebitNote",id:"debitNote",title:"Debit note section",rowSpan:4,assignedCompanyId:[]},{func:"Update Debit Note",updateDebitNote:n,name:"updateDebitNote",id:"debitNote",title:"Debit note section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Debit Note",deleteDebitNote:n,name:"deleteDebitNote",id:"debitNote",title:"Debit note section",rowSpan:4,assignedCompanyId:[]},{func:"View Cash Transation",viewCashTransaction:n,name:"viewCashTransaction",id:"cashTransaction",title:"Cash transation section",rowSpan:4,assignedCompanyId:[]},{func:"Create Cash Transation",createCashTransaction:n,name:"createCashTransaction",id:"cashTransaction",title:"Cash transation section",rowSpan:4,assignedCompanyId:[]},{func:"Update Cash Transation",updateCashTransaction:n,name:"updateCashTransaction",id:"cashTransaction",title:"Cash transation section",rowSpan:4,assignedCompanyId:[]},{func:"Delete Cash Transation",deleteCashTransaction:n,name:"deleteCashTransaction",id:"cashTransaction",title:"Cash transation section",rowSpan:4,assignedCompanyId:[]},{func:"View Deleted documents",viewDeletedDocuments:n,name:"viewDeletedDocuments",id:"deletedDoc",title:"Deleted documents section",rowSpan:2,assignedCompanyId:[]},{func:"Undo deletion of a document",undoDeletion:n,name:"undoDeletion",id:"deletedDoc",title:"Deleted documents section",rowSpan:2,assignedCompanyId:[]},{func:"View converted proforma",viewConvertedProforma:n,name:"viewConvertedProforma",id:"convertedProforma",title:"Converted proforma",rowSpan:1,assignedCompanyId:[]},{func:"View calendar",viewCalendar:n,name:"viewCalendar",id:"calendar",title:"Calendar",rowSpan:4,assignedCompanyId:[]},{func:"Add calendar task",addCalendarTask:n,name:"addCalendarTask",id:"calendar",title:"Calendar",rowSpan:4,assignedCompanyId:[]},{func:"Update calendar task",updateCalendarTask:n,name:"updateCalendarTask",id:"calendar",title:"Calendar",rowSpan:4,assignedCompanyId:[]},{func:"Delete calendar task",deleteCalendarTask:n,name:"deleteCalendarTask",id:"calendar",title:"Calendar",rowSpan:4,assignedCompanyId:[]},{func:"View Employee",viewEmployee:n,name:"viewEmployee",id:"employee",title:"Employee",rowSpan:4,assignedCompanyId:[]},{func:"Add employee",addEmployee:n,name:"addEmployee",id:"employee",title:"Employee",rowSpan:4,assignedCompanyId:[]},{func:"Update employee",updateEmployee:n,name:"updateEmployee",id:"employee",title:"Employee",rowSpan:4,assignedCompanyId:[]},{func:"Delete employee",deleteEmployee:n,name:"deleteEmployee",id:"employee",title:"Employee",rowSpan:4,assignedCompanyId:[]},{func:"View Company details",viewCompChk:n,name:"viewCompChk",id:"company",title:"Company",rowSpan:4,assignedCompanyId:[]},{func:"Create Company",createCompChk:n,name:"createCompChk",id:"company",title:"Company",rowSpan:4,assignedCompanyId:[]},{func:"Update Company",updateCompChk:n,name:"updateCompChk",id:"company",title:"Company",rowSpan:4,assignedCompanyId:[]},{func:"Delete Company",deleteCompChk:n,name:"deleteCompChk",id:"company",title:"Company",rowSpan:4,assignedCompanyId:[]},{func:"View Client details",viewClientChk:n,name:"viewClientChk",id:"client",title:"Client",rowSpan:4,assignedCompanyId:[]},{func:"Create Client",createClientChk:n,name:"createClientChk",id:"client",title:"Client",rowSpan:4,assignedCompanyId:[]},{func:"Update Client",updateClientChk:n,name:"updateClientChk",id:"client",title:"Client",rowSpan:4,assignedCompanyId:[]},{func:"Delete Client",deleteClientChk:n,name:"deleteClientChk",id:"client",title:"Client",rowSpan:4,assignedCompanyId:[]},{func:"View Admin details",viewAdminChk:n,name:"viewAdminChk",id:"admin",title:"Admin",rowSpan:4,assignedCompanyId:[]},{func:"Create Admin",createAdminChk:n,name:"createAdminChk",id:"admin",title:"Admin",rowSpan:4,assignedCompanyId:[]},{func:"Update Admin",updateAdminChk:n,name:"updateAdminChk",id:"admin",title:"Admin",rowSpan:4,assignedCompanyId:[]},{func:"Delete Admin",deleteAdminChk:n,name:"deleteAdminChk",id:"admin",title:"Admin",rowSpan:4,assignedCompanyId:[]},{func:"View Super Admin details",viewSuperAdminChk:n,name:"viewSuperAdminChk",id:"super-admin",title:"Super Admin",rowSpan:4,assignedCompanyId:[]},{func:"Create Super Admin",createSuperAdminChk:n,name:"createSuperAdminChk",id:"super-admin",title:"Super Admin",rowSpan:4,assignedCompanyId:[]},{func:"Update Super Admin",updateSuperAdminChk:n,name:"updateSuperAdminChk",id:"super-admin",title:"Super Admin",rowSpan:4,assignedCompanyId:[]},{func:"Delete Super Admin",deleteSuperAdminChk:n,name:"deleteSuperAdminChk",id:"super-admin",title:"Super Admin",rowSpan:4,assignedCompanyId:[]},{func:"View client survey",viewAllClientSurveyChk:n,name:"viewAllClientSurveyChk",id:"bugsBeGone",title:"Bugs Be Gone Custom Settings",rowSpan:1,assignedCompanyId:[]}])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1816:function(e,n,a){"use strict";a.r(n);var t=a(9),i=a(6),o=a(18),d=a(3),r=a.n(d),s=a(4),c=a(1508),l=a(1484),m=a(52),p=a(68),u=a(49),C=a(72),y=a(118),f=a(1548),w=a(83),v=a(0),h=Object(s.lazy)((function(){return Promise.all([a.e(1),a.e(13),a.e(17)]).then(a.bind(null,1620))})),I=Object(s.lazy)((function(){return Promise.all([a.e(9),a.e(96)]).then(a.bind(null,1763))}));n.default=function(){var e,n,a=Object(w.a)().themeStretch,d=Object(m.b)(),S=Object(C.a)().user,b=Object(y.b)().enqueueSnackbar,g=Object(s.useState)([]),k=Object(o.a)(g,2),N=k[0],P=k[1],A=Object(s.useState)({id:"",firstName:"",lastName:"",contactNumber:"",email:"",password:"",role:"super-admin",access:!0,sysFunc:[],a_comp:[]}),O=Object(o.a)(A,2),D=O[0],j=O[1],x=Object(s.useState)(!1),V=Object(o.a)(x,2),T=V[0],E=V[1],U=Object(s.useState)(""),F=Object(o.a)(U,2),B=F[0],Q=F[1],q=Object(s.useRef)();function _(){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(null===S||void 0===S?void 0:S.id)){e.next=6;break}return d(Object(p.d)(!0)),e.next=4,u.b.collection("users").where("role","==","super-admin").get().then((function(e){var n,a=[];e.docs&&(null===(n=e.docs)||void 0===n?void 0:n.length)>0?(e.docs.forEach((function(e){var n,i,o;a.push({id:e.id,data:Object(t.a)({},e.data()),firstName:e.data().firstName,lastName:e.data().lastName,contactNumber:e.data().contactNumber,email:e.data().email,role:e.data().role,access:(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.access)||!1,sysFunc:(null===e||void 0===e||null===(i=e.data())||void 0===i?void 0:i.sysFunc)||[],a_comp:(null===e||void 0===e||null===(o=e.data())||void 0===o?void 0:o.a_comp)||[]})})),P(a),d(Object(p.d)(!1))):(P([]),d(Object(p.d)(!1)))})).catch((function(e){b("Error occured while fetching super administrators: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),d(Object(p.d)(!1))}));case 4:e.next=7;break;case 6:b("Your session has been terminated due to greater than 30 minutes of inactivity. Please log in again.",{variant:"error"});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){q.current()}),[]),q.current=_;var L=function(){var e=Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,Object(f.a)(!0);case 3:n=e.sent,j({id:"",firstName:"",lastName:"",contactNumber:"",email:"",password:"",role:"",access:"",sysFunc:n,a_comp:[]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q("add"),E(!0),e.next=4,Object(f.a)(!0);case 4:n=e.sent,j({id:"",firstName:"",lastName:"",contactNumber:"",email:"",password:"",role:"super-admin",access:"",sysFunc:n,a_comp:[]});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(c.a,{maxWidth:!a&&"xl",children:[Object(v.jsx)("div",{style:{display:null!==S&&void 0!==S&&null!==(e=S.permissions)&&void 0!==e&&e.viewSuperAdminChk?"none":""},children:Object(v.jsx)(l.a,{severity:"error",children:"Sorry, you do not have access to this section. Please contact Admin for more info. Thank you."})}),Object(v.jsxs)("div",{style:{display:null!==S&&void 0!==S&&null!==(n=S.permissions)&&void 0!==n&&n.viewSuperAdminChk?"":"none"},children:[Object(v.jsx)(s.Suspense,{fallback:Object(v.jsx)("p",{}),children:Object(v.jsx)(h,{type:"super-admin",headers:[{id:"list",label:"List"},{id:"update",label:"Update"},{id:"delete",label:"Delete"},{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"contactNumber",label:"contactNumber"},{id:"email",label:"Email"},{id:"role",label:"Role"}],aCollection:N,addBtnDisplay:!0,addBtnLabel:"Create a User",addBtnFunc:z,openDialog:T,handleCloseDialog:L,emptyColMsg:"Sorry, not a User has been created yet. Please create a user.",updateBtnDisplay:!0,deleteBtnDisplay:!0,updateBtnFunc:function(e,n){Q("update"),E(!0),j({id:e,firstName:n.firstName,lastName:n.lastName,contactNumber:n.contactNumber,email:n.email,password:n.password,role:n.role,access:n.access,sysFunc:n.sysFunc,a_comp:(null===n||void 0===n?void 0:n.a_comp)||[]})},deleteBtnFunc:function(e){d(Object(p.d)(!0)),u.d.httpsCallable("deleteuserbyadminnew")({id:e}).then((function(e){var n;_(),b(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.result,{variant:"success"}),d(Object(p.d)(!1))})).catch((function(e){var n="";n=e.message?e.message:e,b(n,{variant:"error"}),d(Object(p.d)(!1))}))}})}),Object(v.jsx)("div",{children:Object(v.jsx)(s.Suspense,{fallback:Object(v.jsx)(v.Fragment,{}),children:Object(v.jsx)(I,{dialogType:B,openDialog:T,handleCloseDialog:L,adminDetails:D,setAdminDetails:j,init_admin_list:_})})})]})]})}}}]);
//# sourceMappingURL=61.d5ca03c5.chunk.js.map