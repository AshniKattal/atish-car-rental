(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[36],{1566:function(e,t,a){"use strict";var n=a(5),i=a(14),r=a(6),o=a(4),c=(a(20),a(25)),s=a(154),l=a(12),d=a(27),u=a(705),b=a(1502),j=a(118),m=a(129);function v(e){return Object(j.a)("MuiLoadingButton",e)}var h=Object(m.a)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),g=a(0),O=["children","disabled","loading","loadingIndicator","loadingPosition","variant"],p=Object(l.a)(u.a,{shouldForwardProp:function(e){return function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e}(e)||"classes"===e},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(e,t){return[t.root,t.startIconLoadingStart&&Object(n.a)({},"& .".concat(h.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&Object(n.a)({},"& .".concat(h.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(e){var t=e.ownerState,a=e.theme;return Object(r.a)(Object(n.a)({},"& .".concat(h.startIconLoadingStart,", & .").concat(h.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&Object(n.a)({transition:a.transitions.create(["background-color","box-shadow","border-color"],{duration:a.transitions.duration.short})},"&.".concat(h.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&Object(n.a)({},"& .".concat(h.startIconLoadingStart,", & .").concat(h.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&Object(n.a)({},"& .".concat(h.startIconLoadingStart,", & .").concat(h.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginLeft:-8}))})),f=Object(l.a)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(e,t){var a=e.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat(Object(c.a)(a.loadingPosition))]]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({position:"absolute",visibility:"visible",display:"flex"},"start"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{left:14},"start"===a.loadingPosition&&"text"===a.variant&&{left:6},"center"===a.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:t.palette.action.disabled},"end"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{right:14},"end"===a.loadingPosition&&"text"===a.variant&&{right:6},"start"===a.loadingPosition&&a.fullWidth&&{position:"relative",left:-10},"end"===a.loadingPosition&&a.fullWidth&&{position:"relative",right:-10})})),x=Object(g.jsx)(b.a,{color:"inherit",size:16}),w=o.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiLoadingButton"}),n=a.children,l=a.disabled,u=void 0!==l&&l,b=a.loading,j=void 0!==b&&b,m=a.loadingIndicator,h=void 0===m?x:m,w=a.loadingPosition,y=void 0===w?"center":w,S=a.variant,I=void 0===S?"text":S,L=Object(i.a)(a,O),k=Object(r.a)({},a,{disabled:u,loading:j,loadingIndicator:h,loadingPosition:y,variant:I}),N=function(e){var t=e.loading,a=e.loadingPosition,n=e.classes,i={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat(Object(c.a)(a))],endIcon:[t&&"endIconLoading".concat(Object(c.a)(a))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat(Object(c.a)(a))]},o=Object(s.a)(i,v,n);return Object(r.a)({},n,o)}(k);return Object(g.jsx)(p,Object(r.a)({disabled:u||j,ref:t},L,{variant:I,classes:N,ownerState:k,children:"end"===k.loadingPosition?Object(g.jsxs)(o.Fragment,{children:[n,j&&Object(g.jsx)(f,{className:N.loadingIndicator,ownerState:k,children:h})]}):Object(g.jsxs)(o.Fragment,{children:[j&&Object(g.jsx)(f,{className:N.loadingIndicator,ownerState:k,children:h}),n]})}))}));t.a=w},1605:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(9),i=a(38),r=a(169),o=a.n(r),c=a(471),s=a(286),l=a(1510),d=a(61),u=a(1786),b=a(0),j=["links","activeLast"];function m(e){var t=e.links,a=e.activeLast,r=void 0!==a&&a,o=Object(i.a)(e,j),l=t[t.length-1].name,d=t.map((function(e){return Object(b.jsx)(v,{link:e},e.name)})),m=t.map((function(e){return Object(b.jsx)("div",{children:e.name!==l?Object(b.jsx)(v,{link:e}):Object(b.jsx)(s.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return Object(b.jsx)(u.a,Object(n.a)(Object(n.a)({separator:Object(b.jsx)(c.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:r?d:m}))}function v(e){var t=e.link,a=t.href,n=t.name,i=t.icon;return Object(b.jsxs)(l.a,{variant:"body2",component:d.b,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[i&&Object(b.jsx)(c.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:i}),n]},n)}var h=["links","action","heading","moreLink","sx"];function g(e){var t=e.links,a=e.action,r=e.heading,d=e.moreLink,u=void 0===d?[]:d,j=e.sx,v=Object(i.a)(e,h);return Object(b.jsxs)(c.a,{sx:Object(n.a)({mb:5},j),children:[Object(b.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(b.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(b.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:r}),Object(b.jsx)(m,Object(n.a)({links:t},v))]}),a&&Object(b.jsx)(c.a,{sx:{flexShrink:0},children:a})]}),Object(b.jsx)(c.a,{sx:{mt:2},children:o()(u)?Object(b.jsx)(l.a,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return Object(b.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1669:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(22),i=a(322),r=a(494);function o(e){return Object(r.a)(e.toLowerCase())}function c(e,t){return void 0===t&&(t={}),Object(i.a)(e,Object(n.a)({delimiter:" ",transform:o},t))}},1786:function(e,t,a){"use strict";var n=a(28),i=a(18),r=a(5),o=a(6),c=a(14),s=a(4),l=(a(185),a(20),a(19)),d=a(154),u=a(12),b=a(27),j=a(286),m=a(83),v=a(64),h=a(0),g=Object(v.a)(Object(h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),O=a(1412),p=Object(u.a)(O.a,{skipSx:!0})((function(e){var t=e.theme;return Object(o.a)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(o.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(o.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(m.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(m.c)(t.palette.grey[600],.12)})})})),f=Object(u.a)(g)({width:24,height:16});var x=function(e){var t=e;return Object(h.jsx)("li",{children:Object(h.jsx)(p,Object(o.a)({focusRipple:!0},e,{ownerState:t,children:Object(h.jsx)(f,{ownerState:t})}))})},w=a(118),y=a(129);function S(e){return Object(w.a)("MuiBreadcrumbs",e)}var I=Object(y.a)("MuiBreadcrumbs",["root","ol","li","separator"]),L=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=Object(u.a)(j.a,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[Object(r.a)({},"& .".concat(I.li),t.li),t.root]}})({}),N=Object(u.a)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),C=Object(u.a)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,a,n){return e.reduce((function(i,r,o){return o<e.length-1?i=i.concat(r,Object(h.jsx)(C,{"aria-hidden":!0,className:t,ownerState:n,children:a},"separator-".concat(o))):i.push(r),i}),[])}var R=s.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiBreadcrumbs"}),r=a.children,u=a.className,j=a.component,m=void 0===j?"nav":j,v=a.expandText,g=void 0===v?"Show path":v,O=a.itemsAfterCollapse,p=void 0===O?1:O,f=a.itemsBeforeCollapse,w=void 0===f?1:f,y=a.maxItems,I=void 0===y?8:y,C=a.separator,R=void 0===C?"/":C,E=Object(c.a)(a,L),B=s.useState(!1),A=Object(i.a)(B,2),M=A[0],U=A[1],q=Object(o.a)({},a,{component:m,expanded:M,expandText:g,itemsAfterCollapse:p,itemsBeforeCollapse:w,maxItems:I,separator:R}),W=function(e){var t=e.classes;return Object(d.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},S,t)}(q),z=s.useRef(null),F=s.Children.toArray(r).filter((function(e){return s.isValidElement(e)})).map((function(e,t){return Object(h.jsx)("li",{className:W.li,children:e},"child-".concat(t))}));return Object(h.jsx)(k,Object(o.a)({ref:t,component:m,color:"text.secondary",className:Object(l.a)(W.root,u),ownerState:q},E,{children:Object(h.jsx)(N,{className:W.ol,ref:z,ownerState:q,children:P(M||I&&F.length<=I?F:function(e){return w+p>=e.length?e:[].concat(Object(n.a)(e.slice(0,w)),[Object(h.jsx)(x,{"aria-label":g,onClick:function(){U(!0);var e=z.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(n.a)(e.slice(e.length-p,e.length)))}(F),W.separator,R,q)})}))}));t.a=R},1867:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(18),i=a(1669),r=a(4),o=a(1514),c=a(1411),s=a(708),l=a(471),d=a(65),u=a(84),b=a(287),j=a(46),m=a(1605),v=a(7),h=a(3),g=a.n(h),O=a(120),p=a(130),f=a(1522),x=a(1473),w=a(286),y=a(147),S=a(705),I=a(52),L=a(77),k=a(155),N=a(48),C=a(0);function P(){var e=Object(I.b)(),t=Object(O.b)().enqueueSnackbar,a=k.a.auth().currentUser,i=Object(r.useState)(""),o=Object(n.a)(i,2),c=o[0],s=o[1],l=function(){var n=Object(v.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(L.d)(!0)),""===c?(t("Please provide a new password",{variant:"error"}),e(Object(L.d)(!1))):c&&(null===c||void 0===c?void 0:c.length)<6?(t("Please provide a password containing at least 6 characters",{variant:"error"}),e(Object(L.d)(!1))):a.updatePassword(c).then((function(){t("Password updated successfully. Please login again with your new password.",{variant:"success"}),s(""),e(Object(L.d)(!1)),N.a.signOut()})).catch((function(a){t("An error occured while updating password: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(L.d)(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(C.jsx)(p.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(C.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(f.a,{sx:{p:3},children:Object(C.jsxs)(x.a,{spacing:5,children:[Object(C.jsx)(w.a,{children:"Please enter a new password"}),Object(C.jsx)(y.a,{variant:"outlined",size:"small",margin:"normal",fullWidth:!0,name:"newPassword",label:"New password",type:"text",id:"newPassword",value:c||"",onChange:function(e){return s(e.target.value)}}),Object(C.jsx)(S.a,{variant:"contained",color:"primary",onClick:function(){return l()},children:"Submit"})]})})})})}function R(){var e=Object(I.b)(),t=Object(O.b)().enqueueSnackbar,a=k.a.auth().currentUser,i=Object(r.useState)(""),o=Object(n.a)(i,2),c=o[0],s=o[1],l=function(){var n=Object(v.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(L.d)(!0)),""===c?(t("Please provide a new email",{variant:"error"}),e(Object(L.d)(!1))):a.updateEmail(c).then(Object(v.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({email:c},{merge:!0}).then((function(){t("Email updated successfully. Please login again with your new email.",{variant:"success"}),s(""),e(Object(L.d)(!1)),N.a.signOut()})).catch((function(a){t("An error occured while updating email in collection users: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(L.d)(!1))}));case 1:case"end":return n.stop()}}),n)})))).catch((function(a){t("An error occured while updating email: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(L.d)(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(C.jsx)(p.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(C.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(f.a,{sx:{p:3},children:Object(C.jsxs)(x.a,{spacing:5,children:[Object(C.jsx)(w.a,{children:"Please enter a new email"}),Object(C.jsx)(y.a,{variant:"outlined",size:"small",margin:"normal",fullWidth:!0,name:"newEmail",label:"New Email",type:"text",id:"newEmail",value:c||"",onChange:function(e){return s(e.target.value)}}),Object(C.jsx)(S.a,{variant:"contained",color:"primary",onClick:function(){return l()},children:"Submit"})]})})})})}var E=a(1548),B=a(54),A=a(1551),M=a(1566),U=a(72),q=a(159),W=a(206);function z(){var e=Object(I.b)(),t=Object(O.b)().enqueueSnackbar,a=Object(U.a)().user,i=Object(r.useState)(null),o=Object(n.a)(i,2),c=o[0],s=o[1],d=E.d().shape({firstName:E.e().required("First name is required"),lastName:E.e().required("Last name is required"),email:E.e().required("Email is required")}),u={firstName:(null===a||void 0===a?void 0:a.firstName)||"",lastName:(null===a||void 0===a?void 0:a.lastName)||"",email:(null===a||void 0===a?void 0:a.email)||"",contactNumber:(null===a||void 0===a?void 0:a.contactNumber)||"",photoURL:(null===a||void 0===a?void 0:a.photoURL)||""},b=Object(B.f)({resolver:Object(A.a)(d),defaultValues:u}),j=b.setValue,m=b.handleSubmit,h=b.formState.isSubmitting;Object(r.useEffect)((function(){a&&j&&(j("firstName",(null===a||void 0===a?void 0:a.firstName)||""),j("lastName",(null===a||void 0===a?void 0:a.lastName)||""),j("email",(null===a||void 0===a?void 0:a.email)||""),j("contactNumber",(null===a||void 0===a?void 0:a.contactNumber)||""),j("photoURL",(null===a||void 0===a?void 0:a.photoURL)||""))}),[a,j]);var y=function(){var e=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({firstName:(null===n||void 0===n?void 0:n.firstName)||"",lastName:(null===n||void 0===n?void 0:n.lastName)||"",email:(null===n||void 0===n?void 0:n.email)||"",contactNumber:(null===n||void 0===n?void 0:n.contactNumber)||""},{merge:!0}).then((function(){t("Update success!")})).catch((function(e){t("Error occured: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"})}))}catch(i){console.error(i)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=Object(r.useCallback)((function(e){var t=e[0];t&&(s(t),j("photoURL",Object.assign(t,{preview:URL.createObjectURL(t)})))}),[j]);return Object(C.jsx)(W.a,{methods:b,onSubmit:m(y),children:Object(C.jsxs)(p.a,{container:!0,spacing:3,children:[Object(C.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(C.jsxs)(f.a,{sx:{py:10,px:3,textAlign:"center"},children:[Object(C.jsx)(W.i,{name:"photoURL",accept:"image/*",maxSize:3145728,onDrop:k,helperText:Object(C.jsxs)(w.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(C.jsx)("br",{})," max size of ",Object(q.b)(3145728)]})}),Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{variant:"contained",color:"primary",disabled:null===c,onClick:function(){var n;(n=c)&&void 0!==(null===n||void 0===n?void 0:n.name)&&""!==(null===n||void 0===n?void 0:n.name)?(e(Object(L.d)(!0)),N.e.ref("images/".concat(null===a||void 0===a?void 0:a.id,"/").concat(n.name)).put(n).on("state_changed",(function(){}),(function(a){t("Error occured: ".concat(a),{variant:"error"}),e(Object(L.d)(!1))}),(function(){N.e.ref("images/".concat(null===a||void 0===a?void 0:a.id)).child(n.name).getDownloadURL().then((function(n){N.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({photoURL:n||""},{merge:!0}).then((function(){t("Image saved successfully"),s(null),e(Object(L.d)(!1))})).catch((function(a){t("Error occured: ".concat(null===a||void 0===a?void 0:a.message),{variant:"error"}),e(Object(L.d)(!1))}))}))}))):t("Image uploaded could be identified",{variant:"error"})},children:"Save image"})]})}),Object(C.jsx)(p.a,{item:!0,xs:12,md:8,children:Object(C.jsxs)(f.a,{sx:{p:3},children:[Object(C.jsxs)(l.a,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[Object(C.jsx)(W.h,{name:"firstName",label:"First name"}),Object(C.jsx)(W.h,{name:"lastName",label:"Last name"}),Object(C.jsx)(W.h,{name:"email",label:"Email Address",disabled:!0}),Object(C.jsx)(W.h,{name:"contactNumber",label:"Contact number"})]}),Object(C.jsx)(x.a,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:Object(C.jsx)(M.a,{type:"submit",variant:"contained",loading:h,children:"Save Changes"})})]})})]})})}function F(){var e=Object(u.a)().themeStretch,t=Object(r.useState)("general"),a=Object(n.a)(t,2),v=a[0],h=a[1],g=[{value:"general",icon:Object(C.jsx)(j.a,{icon:"ic:round-account-box",width:20,height:20}),component:Object(C.jsx)(z,{})},{value:"change_password",icon:Object(C.jsx)(j.a,{icon:"ic:round-vpn-key",width:20,height:20}),component:Object(C.jsx)(P,{})},{value:"change_email",icon:Object(C.jsx)(j.a,{icon:"ic:round-vpn-key",width:20,height:20}),component:Object(C.jsx)(R,{})}];return Object(C.jsx)(b.a,{title:"User: Account Settings",children:Object(C.jsxs)(o.a,{maxWidth:!e&&"xl",children:[Object(C.jsx)(m.a,{heading:"Account",links:[{name:"Dashboard",href:d.b.root},{name:"Account Settings"}]}),Object(C.jsx)(c.a,{value:v,scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,onChange:function(e,t){return h(t)},children:g.map((function(e){return Object(C.jsx)(s.a,{disableRipple:!0,label:Object(i.a)(e.value),icon:e.icon,value:e.value},e.value)}))}),Object(C.jsx)(l.a,{sx:{mb:5}}),g.map((function(e){return e.value===v&&Object(C.jsx)(l.a,{children:e.component},e.value)}))]})})}}}]);
//# sourceMappingURL=36.3a46909e.chunk.js.map