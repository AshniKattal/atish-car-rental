(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[46],{1592:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var n=a(9),r=a(37),c=a(168),i=a.n(c),o=a(471),l=a(286),s=a(1504),d=a(62),u=a(27),b=a(18),j=a(5),m=a(7),h=a(14),p=a(4),v=(a(203),a(20),a(21)),O=a(153),x=a(13),f=a(28),g=a(82),w=a(61),y=a(0),k=Object(w.a)(Object(y.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),S=a(1407),N=Object(x.a)(S.a,{skipSx:!0})((function(e){var t=e.theme;return Object(m.a)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(m.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(m.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(g.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(g.c)(t.palette.grey[600],.12)})})})),C=Object(x.a)(k)({width:24,height:16});var R=function(e){var t=e;return Object(y.jsx)("li",{children:Object(y.jsx)(N,Object(m.a)({focusRipple:!0},e,{ownerState:t,children:Object(y.jsx)(C,{ownerState:t})}))})},L=a(126),A=a(132);function U(e){return Object(L.a)("MuiBreadcrumbs",e)}var B=Object(A.a)("MuiBreadcrumbs",["root","ol","li","separator"]),E=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=Object(x.a)(l.a,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[Object(j.a)({},"& .".concat(B.li),t.li),t.root]}})({}),P=Object(x.a)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=Object(x.a)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function M(e,t,a,n){return e.reduce((function(r,c,i){return i<e.length-1?r=r.concat(c,Object(y.jsx)(q,{"aria-hidden":!0,className:t,ownerState:n,children:a},"separator-".concat(i))):r.push(c),r}),[])}var z=p.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiBreadcrumbs"}),n=a.children,r=a.className,c=a.component,i=void 0===c?"nav":c,o=a.expandText,l=void 0===o?"Show path":o,s=a.itemsAfterCollapse,d=void 0===s?1:s,j=a.itemsBeforeCollapse,x=void 0===j?1:j,g=a.maxItems,w=void 0===g?8:g,k=a.separator,S=void 0===k?"/":k,N=Object(h.a)(a,E),C=p.useState(!1),L=Object(b.a)(C,2),A=L[0],B=L[1],q=Object(m.a)({},a,{component:i,expanded:A,expandText:l,itemsAfterCollapse:d,itemsBeforeCollapse:x,maxItems:w,separator:S}),z=function(e){var t=e.classes;return Object(O.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},U,t)}(q),W=p.useRef(null),T=p.Children.toArray(n).filter((function(e){return p.isValidElement(e)})).map((function(e,t){return Object(y.jsx)("li",{className:z.li,children:e},"child-".concat(t))}));return Object(y.jsx)(I,Object(m.a)({ref:t,component:i,color:"text.secondary",className:Object(v.a)(z.root,r),ownerState:q},N,{children:Object(y.jsx)(P,{className:z.ol,ref:W,ownerState:q,children:M(A||w&&T.length<=w?T:function(e){return x+d>=e.length?e:[].concat(Object(u.a)(e.slice(0,x)),[Object(y.jsx)(R,{"aria-label":l,onClick:function(){B(!0);var e=W.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(u.a)(e.slice(e.length-d,e.length)))}(T),z.separator,S,q)})}))})),W=["links","activeLast"];function T(e){var t=e.links,a=e.activeLast,c=void 0!==a&&a,i=Object(r.a)(e,W),s=t[t.length-1].name,d=t.map((function(e){return Object(y.jsx)(_,{link:e},e.name)})),u=t.map((function(e){return Object(y.jsx)("div",{children:e.name!==s?Object(y.jsx)(_,{link:e}):Object(y.jsx)(l.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name)}));return Object(y.jsx)(z,Object(n.a)(Object(n.a)({separator:Object(y.jsx)(o.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},i),{},{children:c?d:u}))}function _(e){var t=e.link,a=t.href,n=t.name,r=t.icon;return Object(y.jsxs)(s.a,{variant:"body2",component:d.b,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&Object(y.jsx)(o.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),n]},n)}var D=["links","action","heading","moreLink","sx"];function G(e){var t=e.links,a=e.action,c=e.heading,d=e.moreLink,u=void 0===d?[]:d,b=e.sx,j=Object(r.a)(e,D);return Object(y.jsxs)(o.a,{sx:Object(n.a)({mb:5},b),children:[Object(y.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(y.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(y.jsx)(l.a,{variant:"h4",gutterBottom:!0,children:c}),Object(y.jsx)(T,Object(n.a)({links:t},j))]}),a&&Object(y.jsx)(o.a,{sx:{flexShrink:0},children:a})]}),Object(y.jsx)(o.a,{sx:{mt:2},children:i()(u)?Object(y.jsx)(s.a,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return Object(y.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1652:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(22),r=a(320),c=a(493);function i(e){return Object(c.a)(e.toLowerCase())}function o(e,t){return void 0===t&&(t={}),Object(r.a)(e,Object(n.a)({delimiter:" ",transform:i},t))}},1847:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a(18),r=a(1652),c=a(4),i=a(1508),o=a(1846),l=a(1863),s=a(471),d=a(65),u=a(83),b=a(287),j=a(46),m=a(1592),h=a(6),p=a(3),v=a.n(p),O=a(118),x=a(133),f=a(1516),g=a(1466),w=a(286),y=a(145),k=a(701),S=a(52),N=a(68),C=a(134),R=a(49),L=a(0);function A(){var e=Object(S.b)(),t=Object(O.b)().enqueueSnackbar,a=C.a.auth().currentUser,r=Object(c.useState)(""),i=Object(n.a)(r,2),o=i[0],l=i[1],s=function(){var n=Object(h.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(N.d)(!0)),""===o?(t("Please provide a new password",{variant:"error"}),e(Object(N.d)(!1))):o&&(null===o||void 0===o?void 0:o.length)<6?(t("Please provide a password containing at least 6 characters",{variant:"error"}),e(Object(N.d)(!1))):a.updatePassword(o).then((function(){t("Password updated successfully. Please login again with your new password.",{variant:"success"}),l(""),e(Object(N.d)(!1)),R.a.signOut()})).catch((function(a){t("An error occured while updating password: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(N.d)(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(L.jsx)(x.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(L.jsx)(x.a,{item:!0,xs:12,md:6,children:Object(L.jsx)(f.a,{sx:{p:3},children:Object(L.jsxs)(g.a,{spacing:5,children:[Object(L.jsx)(w.a,{children:"Please enter a new password"}),Object(L.jsx)(y.a,{variant:"outlined",size:"small",margin:"normal",fullWidth:!0,name:"newPassword",label:"New password",type:"text",id:"newPassword",value:o||"",onChange:function(e){return l(e.target.value)}}),Object(L.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return s()},children:"Submit"})]})})})})}function U(){var e=Object(S.b)(),t=Object(O.b)().enqueueSnackbar,a=C.a.auth().currentUser,r=Object(c.useState)(""),i=Object(n.a)(r,2),o=i[0],l=i[1],s=function(){var n=Object(h.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(N.d)(!0)),""===o?(t("Please provide a new email",{variant:"error"}),e(Object(N.d)(!1))):a.updateEmail(o).then(Object(h.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:R.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({email:o},{merge:!0}).then((function(){t("Email updated successfully. Please login again with your new email.",{variant:"success"}),l(""),e(Object(N.d)(!1)),R.a.signOut()})).catch((function(a){t("An error occured while updating email in collection users: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(N.d)(!1))}));case 1:case"end":return n.stop()}}),n)})))).catch((function(a){t("An error occured while updating email: ".concat((null===a||void 0===a?void 0:a.message)||""),{variant:"error"}),e(Object(N.d)(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(L.jsx)(x.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(L.jsx)(x.a,{item:!0,xs:12,md:6,children:Object(L.jsx)(f.a,{sx:{p:3},children:Object(L.jsxs)(g.a,{spacing:5,children:[Object(L.jsx)(w.a,{children:"Please enter a new email"}),Object(L.jsx)(y.a,{variant:"outlined",size:"small",margin:"normal",fullWidth:!0,name:"newEmail",label:"New Email",type:"text",id:"newEmail",value:o||"",onChange:function(e){return l(e.target.value)}}),Object(L.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return s()},children:"Submit"})]})})})})}var B=a(1542),E=a(54),I=a(1543),P=a(1593),q=a(72),M=a(158),z=a(202);function W(){var e=Object(S.b)(),t=Object(O.b)().enqueueSnackbar,a=Object(q.a)().user,r=Object(c.useState)(null),i=Object(n.a)(r,2),o=i[0],l=i[1],d=B.d().shape({firstName:B.e().required("First name is required"),lastName:B.e().required("Last name is required"),email:B.e().required("Email is required")}),u={firstName:(null===a||void 0===a?void 0:a.firstName)||"",lastName:(null===a||void 0===a?void 0:a.lastName)||"",email:(null===a||void 0===a?void 0:a.email)||"",contactNumber:(null===a||void 0===a?void 0:a.contactNumber)||"",photoURL:(null===a||void 0===a?void 0:a.photoURL)||""},b=Object(E.f)({resolver:Object(I.a)(d),defaultValues:u}),j=b.setValue,m=b.handleSubmit,p=b.formState.isSubmitting;Object(c.useEffect)((function(){a&&j&&(j("firstName",(null===a||void 0===a?void 0:a.firstName)||""),j("lastName",(null===a||void 0===a?void 0:a.lastName)||""),j("email",(null===a||void 0===a?void 0:a.email)||""),j("contactNumber",(null===a||void 0===a?void 0:a.contactNumber)||""),j("photoURL",(null===a||void 0===a?void 0:a.photoURL)||""))}),[a,j]);var y=function(){var e=Object(h.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{R.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({firstName:(null===n||void 0===n?void 0:n.firstName)||"",lastName:(null===n||void 0===n?void 0:n.lastName)||"",email:(null===n||void 0===n?void 0:n.email)||"",contactNumber:(null===n||void 0===n?void 0:n.contactNumber)||""},{merge:!0}).then((function(){t("Update success!")})).catch((function(e){t("Error occured: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"})}))}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(c.useCallback)((function(e){var t=e[0];t&&(l(t),j("photoURL",Object.assign(t,{preview:URL.createObjectURL(t)})))}),[j]);return Object(L.jsx)(z.a,{methods:b,onSubmit:m(y),children:Object(L.jsxs)(x.a,{container:!0,spacing:3,children:[Object(L.jsx)(x.a,{item:!0,xs:12,md:4,children:Object(L.jsxs)(f.a,{sx:{py:10,px:3,textAlign:"center"},children:[Object(L.jsx)(z.i,{name:"photoURL",accept:"image/*",maxSize:3145728,onDrop:C,helperText:Object(L.jsxs)(w.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(L.jsx)("br",{})," max size of ",Object(M.b)(3145728)]})}),Object(L.jsx)("br",{}),Object(L.jsx)(k.a,{variant:"contained",color:"primary",disabled:null===o,onClick:function(){var n;(n=o)&&void 0!==(null===n||void 0===n?void 0:n.name)&&""!==(null===n||void 0===n?void 0:n.name)?(e(Object(N.d)(!0)),R.e.ref("images/".concat(null===a||void 0===a?void 0:a.id,"/").concat(n.name)).put(n).on("state_changed",(function(){}),(function(a){t("Error occured: ".concat(a),{variant:"error"}),e(Object(N.d)(!1))}),(function(){R.e.ref("images/".concat(null===a||void 0===a?void 0:a.id)).child(n.name).getDownloadURL().then((function(n){R.b.collection("users").doc(null===a||void 0===a?void 0:a.id).set({photoURL:n||""},{merge:!0}).then((function(){t("Image saved successfully"),l(null),e(Object(N.d)(!1))})).catch((function(a){t("Error occured: ".concat(null===a||void 0===a?void 0:a.message),{variant:"error"}),e(Object(N.d)(!1))}))}))}))):t("Image uploaded could be identified",{variant:"error"})},children:"Save image"})]})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:8,children:Object(L.jsxs)(f.a,{sx:{p:3},children:[Object(L.jsxs)(s.a,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[Object(L.jsx)(z.h,{name:"firstName",label:"First name"}),Object(L.jsx)(z.h,{name:"lastName",label:"Last name"}),Object(L.jsx)(z.h,{name:"email",label:"Email Address",disabled:!0}),Object(L.jsx)(z.h,{name:"contactNumber",label:"Contact number"})]}),Object(L.jsx)(g.a,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:Object(L.jsx)(P.a,{type:"submit",variant:"contained",loading:p,children:"Save Changes"})})]})})]})})}function T(){var e=Object(u.a)().themeStretch,t=Object(c.useState)("general"),a=Object(n.a)(t,2),h=a[0],p=a[1],v=[{value:"general",icon:Object(L.jsx)(j.a,{icon:"ic:round-account-box",width:20,height:20}),component:Object(L.jsx)(W,{})},{value:"change_password",icon:Object(L.jsx)(j.a,{icon:"ic:round-vpn-key",width:20,height:20}),component:Object(L.jsx)(A,{})},{value:"change_email",icon:Object(L.jsx)(j.a,{icon:"ic:round-vpn-key",width:20,height:20}),component:Object(L.jsx)(U,{})}];return Object(L.jsx)(b.a,{title:"User: Account Settings",children:Object(L.jsxs)(i.a,{maxWidth:!e&&"xl",children:[Object(L.jsx)(m.a,{heading:"Account",links:[{name:"Dashboard",href:d.b.root},{name:"Account Settings"}]}),Object(L.jsx)(o.a,{value:h,scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,onChange:function(e,t){return p(t)},children:v.map((function(e){return Object(L.jsx)(l.a,{disableRipple:!0,label:Object(r.a)(e.value),icon:e.icon,value:e.value},e.value)}))}),Object(L.jsx)(s.a,{sx:{mb:5}}),v.map((function(e){return e.value===h&&Object(L.jsx)(s.a,{children:e.component},e.value)}))]})})}}}]);
//# sourceMappingURL=46.19c3a3a6.chunk.js.map