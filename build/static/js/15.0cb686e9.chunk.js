(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[15],{1547:function(e,l,t){"use strict";t.r(l);var i=t(9),n=t(7),a=t(18),d=t(3),c=t.n(d),o=t(4),r=t(50),s=t.n(r),u=t(1486),j=t(1539),b=t(1541),v=t(1540),m=t(1875),h=t(69),p=t(705),O=t(1522),x=t(1473),g=t(286),y=t(1536),f=t(1537),C=t(1538),w=t(1498),k=t(1505),S=t(471),N=t(1876),B=t(1402),I=t(1410),z=t(1418),R=t(1419),D=t(157),M=t(1564),F=t.n(M),T=t(1535),J=t.n(T),P=t(1532),A=t.n(P),L=t(12),W=t(72),H=t(1553),V=t.n(H),Y=t(252),q=t(46),E=t(251),U=t(120),G=t(52),_=t(77),Q=t(97),X=t(68),K=t.n(X),Z=t(0),$=Object(u.a)({table:{minWidth:650},tableTitle:{fontWeight:"bold"},tableBtnOption:{cursor:"pointer"},tableRow:{cursor:"pointer"},tableCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},tableCellLeft:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",borderTopLeftRadius:10,borderBottomLeftRadius:10},tableCellRight:{borderTopRightRadius:10,borderBottomRightRadius:10}}),ee=Object(L.a)(j.a)((function(e){var l,t,i,n=e.theme;return{backgroundColor:"light"===(null===n||void 0===n||null===(l=n.palette)||void 0===l?void 0:l.mode)?null===n||void 0===n||null===(t=n.palette)||void 0===t?void 0:t.primary.light:"dark"===(null===n||void 0===n||null===(i=n.palette)||void 0===i?void 0:i.mode)?n.palette.primary.dark:"transparent"}})),le=Object(L.a)(j.a)((function(e){var l,t,i,n=e.theme;return{"&:nth-of-type(even)":{backgroundColor:"light"===(null===n||void 0===n||null===(l=n.palette)||void 0===l?void 0:l.mode)?null===n||void 0===n||null===(t=n.palette)||void 0===t?void 0:t.primary.lighter:"dark"===(null===n||void 0===n||null===(i=n.palette)||void 0===i?void 0:i.mode)?n.palette.primary.darker:"transparent"}}}));function te(e,l,t){return l[t]<e[t]?-1:l[t]>e[t]?1:0}function ie(e,l){return"desc"===e?function(e,t){return te(e,t,l)}:function(e,t){return-te(e,t,l)}}function ne(e,l){var t=e.map((function(e,l){return[e,l]}));return t.sort((function(e,t){var i=l(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t.map((function(e){return e[0]}))}function ae(e){var l=e.headers,t=e.order,i=e.orderBy,n=e.onRequestSort;return Object(Z.jsx)(b.a,{style:{width:"100%"},children:Object(Z.jsx)(ee,{children:l&&l.map((function(e,l){return Object(Z.jsx)(v.a,{style:{whiteSpace:"nowrap",width:"List"===e.label||"View"===e.label||"Update"===e.label||"Delete"===e.label?75:void 0},align:"Delete"===e.label?"right":"center",sortDirection:i===e.id&&t,children:"List"===e.label||"View"===e.label||"Update"===e.label||"Delete"===e.label?e.label:Object(Z.jsx)(m.a,{active:i===e.id,direction:i===e.id?t:"asc",onClick:(a=e.id,function(e){n(e,a)}),children:e.label})},l);var a}))})})}l.default=function(e){var l,t,d,r,u=e.companyId,m=e.type,M=e.headers,T=e.aCollection,P=e.viewOption,L=e.viewBtnFunc,H=e.addBtnDisplay,X=e.addBtnLabel,ee=e.addBtnFunc,te=e.emptyColMsg,de=e.updateBtnDisplay,ce=e.updateBtnFunc,oe=e.deleteBtnDisplay,re=e.deleteBtnFunc,se=e.documentType,ue=e.logo,je=e.companyDetails,be=e.fetchClientSurvey,ve=Object(h.a)(),me=Object(G.b)(),he=$(),pe=Object(W.a)().user,Oe=Object(U.b)().enqueueSnackbar,xe=Object(o.useState)("asc"),ge=Object(a.a)(xe,2),ye=ge[0],fe=ge[1],Ce=Object(o.useState)(""),we=Object(a.a)(Ce,2),ke=we[0],Se=we[1],Ne=Object(o.useState)([]),Be=Object(a.a)(Ne,2),Ie=Be[0],ze=Be[1],Re=Object(o.useState)(0),De=Object(a.a)(Re,2),Me=De[0],Fe=De[1],Te=Object(o.useState)(50),Je=Object(a.a)(Te,2),Pe=Je[0],Ae=Je[1],Le=Object(o.useState)(""),We=Object(a.a)(Le,2),He=We[0],Ve=We[1],Ye=Object(o.useState)({}),qe=Object(a.a)(Ye,2),Ee=qe[0],Ue=qe[1],Ge=Object(o.useState)(!1),_e=Object(a.a)(Ge,2),Qe=_e[0],Xe=_e[1],Ke=Object(o.useState)(!1),Ze=Object(a.a)(Ke,2),$e=Ze[0],el=Ze[1],ll=Object(o.useState)([]),tl=Object(a.a)(ll,2),il=tl[0],nl=tl[1];Math.min(Pe,T.length-Me*Pe);return Object(Z.jsxs)("div",{style:{width:"100%"},children:[Object(Z.jsx)("div",{style:{display:H?"":"none",width:"100%",paddingBottom:"2rem"},children:Object(Z.jsx)(p.a,{startIcon:Object(Z.jsx)(F.a,{}),onClick:function(){return ee()},color:"primary",variant:"contained",disabled:("client"!==m||null===pe||void 0===pe||null===(l=pe.permissions)||void 0===l||null===(t=l.createClientChk)||void 0===t||!t.assignedCompanyId.includes(u))&&("company"!==m&&(("admin"!==m||null===pe||void 0===pe||null===(d=pe.permissions)||void 0===d||null===(r=d.createAdminChk)||void 0===r||!r.assignedCompanyId.includes(u))&&("survey"!==m&&"vehicles"!==m&&"inventory"!==m&&"category"!==m&&"bugsBeGoneCustomCheckboxManagement"!==m))),children:X})}),Object(Z.jsx)("div",{className:he.root,children:Object(Z.jsx)(O.a,{children:Object(Z.jsx)(x.a,{sx:{mt:1.5,p:1.5},children:T&&0===T.length?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)("div",{style:{width:"100%",padding:"2em"},children:Object(Z.jsx)(g.a,{variant:"h6",component:"h4",style:{fontSize:"1.2em",color:"red"},color:"secondary",children:te})})}):Object(Z.jsxs)(D.a,{children:[Object(Z.jsx)(y.a,{children:Object(Z.jsxs)(f.a,{border:1,className:he.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(Z.jsx)(ae,{classes:he,numSelected:Ie.length,order:ye,orderBy:ke,onSelectAllClick:function(e){if(e.target.checked){var l=T.map((function(e){return e.name}));ze(l)}else ze([])},onRequestSort:function(e,l){fe(ke===l&&"asc"===ye?"desc":"asc"),Se(l)},rowCount:T.length,headers:M}),Object(Z.jsx)(C.a,{children:T&&0!==T.length&&ne(T,ie(ye,ke)).slice(Me*Pe,Me*Pe+Pe).map((function(e,l){var t,a,d,r,j,b,h,O,g,y,f,C,N,B,I=[];for(var z in e)for(var R=0;R<M.length;R++)if(M[R].id===z){I.push({id:M[R].id,value:"".concat(e[z])});break}return"company"!==m||"company"===m&&null!==pe&&void 0!==pe&&null!==(t=pe.permissions)&&void 0!==t&&null!==(a=t.viewCompChk)&&void 0!==a&&a.assignedCompanyId.includes(e.id)?Object(Z.jsx)(o.Fragment,{children:Object(Z.jsxs)(le,{tabIndex:-1,children:["company"!==m?Object(Z.jsx)(v.a,{className:he.tableCellLeft,align:"center",size:"small",children:l+1+")"}):Object(Z.jsx)(Z.Fragment,{}),P?Object(Z.jsx)(v.a,{align:"center",size:"small",children:Object(Z.jsx)(w.a,{title:"View",children:Object(Z.jsx)(k.a,{color:"primary",children:Object(Z.jsx)(V.a,{onClick:function(){return L(e.id,e.data)}})})})}):Object(Z.jsx)(Z.Fragment,{}),de?Object(Z.jsx)(v.a,{align:"center",size:"small",children:Object(Z.jsx)(w.a,{title:"Update",children:Object(Z.jsx)("span",{children:Object(Z.jsx)(k.a,{color:"primary",disabled:("client"!==m||null===pe||void 0===pe||null===(d=pe.permissions)||void 0===d||null===(r=d.updateClientChk)||void 0===r||!r.assignedCompanyId.includes(u))&&(("company"!==m||null===pe||void 0===pe||null===(j=pe.permissions)||void 0===j||null===(b=j.updateCompChk)||void 0===b||!b.assignedCompanyId.includes(e.id))&&(("admin"!==m||null===pe||void 0===pe||null===(h=pe.permissions)||void 0===h||null===(O=h.updateAdminChk)||void 0===O||!O.assignedCompanyId.includes(u))&&("survey"!==m&&"vehicles"!==m&&"inventory"!==m&&"category"!==m&&"bugsBeGoneCustomCheckboxManagement"!==m))),onClick:function(){return ce(e.id,e.data)},children:Object(Z.jsx)(J.a,{className:he.tableBtnOption})})})})}):"",oe?Object(Z.jsx)(v.a,{className:he.tableCellRight,align:"right",size:"small",children:Object(Z.jsx)(w.a,{title:"Delete",children:Object(Z.jsx)("span",{children:Object(Z.jsx)(k.a,{color:"error",disabled:("client"!==m||null===pe||void 0===pe||null===(g=pe.permissions)||void 0===g||null===(y=g.deleteClientChk)||void 0===y||!y.assignedCompanyId.includes(u))&&(("company"!==m||null===pe||void 0===pe||null===(f=pe.permissions)||void 0===f||null===(C=f.deleteCompChk)||void 0===C||!C.assignedCompanyId.includes(e.id))&&(("admin"!==m||null===pe||void 0===pe||null===(N=pe.permissions)||void 0===N||null===(B=N.deleteAdminChk)||void 0===B||!B.assignedCompanyId.includes(u))&&("survey"!==m&&"vehicles"!==m&&"inventory"!==m&&"category"!==m&&"bugsBeGoneCustomCheckboxManagement"!==m))),onClick:function(){Ve(null===e||void 0===e?void 0:e.id),Ue(null===e||void 0===e?void 0:e.data),Xe(!0)},children:Object(Z.jsx)(A.a,{className:he.tableBtnOption})})})})}):"",I&&(null===I||void 0===I?void 0:I.map((function(l,t){var a,d,o,r,u,j,b,h,O,g,y;return"dateTimeCreated"===(null===l||void 0===l?void 0:l.id)?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.dateTimeCreated&&K()(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.dateTimeCreated.toDate()).format("DD-MM-YYYY HH:mm:ss")||""},t):"featuredImage"===(null===l||void 0===l?void 0:l.id)?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:Object(Z.jsx)(x.a,{spacing:1,direction:"row",alignItems:"center",justifyContent:"center",children:null!==e&&void 0!==e&&e.data&&(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(r=o.featuredImage)||void 0===r?void 0:r.length)>0?null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.featuredImage.map((function(e,l){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(S.a,{sx:{px:.2,overflowX:"scroll"},children:Object(Z.jsx)(Q.a,{disabledEffect:!0,alt:"thumb image",src:null===e||void 0===e?void 0:e.downloadURL,sx:{width:50,height:50,borderRadius:1.5,border:"solid 2px ".concat(ve.palette.primary.main)}})},l)})})):""})},t):l&&"sendEmail"===l.id?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",style:{whiteSpace:"nowrap",background:!0===(null===e||void 0===e||null===(j=e.data)||void 0===j?void 0:j.emailAlreadySent)?"#befed5":"transparent"},children:Object(Z.jsx)(p.a,{variant:"contained",color:"primary",onClick:Object(n.a)(c.a.mark((function l(){var t;return c.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return me(Object(_.d)(!0)),l.next=3,Object(E.m)(je,"sendEmail",null===e||void 0===e?void 0:e.data,null===se||void 0===se?void 0:se.id,ue);case 3:if(null===(t=l.sent)||void 0===t||!t.error){l.next=9;break}Oe(null===t||void 0===t?void 0:t.message,{variant:"error"}),me(Object(_.d)(!1)),l.next=14;break;case 9:if(null!==t&&void 0!==t&&t.error){l.next=14;break}return Oe(null===t||void 0===t?void 0:t.message,{variant:"success"}),l.next=13,be(null===je||void 0===je?void 0:je.id,null===se||void 0===se?void 0:se.id);case 13:me(Object(_.d)(!1));case 14:case"end":return l.stop()}}),l)}))),children:"Send Email"})},t):l&&"viewDownloadPdf"===l.id?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:Object(Z.jsxs)(x.a,{spacing:2,direction:"row",alignItems:"center",children:[Object(Z.jsx)(k.a,{color:"primary",onClick:function(){return Object(E.p)(je,"view",Object(i.a)(Object(i.a)({},null===e||void 0===e?void 0:e.data),{},{id:null===e||void 0===e?void 0:e.id}),null===se||void 0===se?void 0:se.id,ue)},children:Object(Z.jsx)(q.a,{icon:"carbon:view"})}),Object(Z.jsx)(k.a,{color:"primary",onClick:function(){return Object(E.p)(je,"download",Object(i.a)(Object(i.a)({},null===e||void 0===e?void 0:e.data),{},{id:null===e||void 0===e?void 0:e.id}),null===se||void 0===se?void 0:se.id,ue)},children:Object(Z.jsx)(q.a,{icon:"eva:download-fill"})})]})},t):l&&"status"===l.id?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:Object(Z.jsx)(Y.a,{variant:"filled",sx:{minWidth:100,minHeight:30},color:"Pending"===l.value?"warning":"Confirmed"===l.value?"success":"Rejected"===l.value?"error":"default",children:l.value})},t):l&&"actualBasicSalary"===l.id?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&void 0===l.value?"":l&&l.value?Object(Z.jsx)(s.a,{value:Math.round(Number(l.value)),displayType:"text",thousandSeparator:!0}):""},t):!l||"vatOrNonVatRegistered"!==l.id&&"buyerType"!==l.id?l&&"MRATemplateFlag"===l.id?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&JSON.parse(null===l||void 0===l?void 0:l.value)?null===(b=JSON.parse(null===l||void 0===l?void 0:l.value))||void 0===b?void 0:b.title:"Not yet defined"},t):"inventory"===m&&"category"===(null===l||void 0===l?void 0:l.id)?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&JSON.parse(null===l||void 0===l?void 0:l.value)?null===(h=JSON.parse(null===l||void 0===l?void 0:l.value))||void 0===h?void 0:h.title:""},t):"categoryDisplay"===(null===l||void 0===l?void 0:l.id)?Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&JSON.parse(null===l||void 0===l?void 0:l.value)&&(null===(O=JSON.parse(null===l||void 0===l?void 0:l.value))||void 0===O?void 0:O.length)>0?null===(g=JSON.parse(null===l||void 0===l?void 0:l.value))||void 0===g?void 0:g.map((function(e){return(null===e||void 0===e?void 0:e.serviceName)+", "})):""},t):Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&void 0===l.value?"":l&&l.value?l.value:""},t):Object(Z.jsx)(v.a,{className:he.tableCell,align:"center",size:"small",children:l&&null!==JSON.parse(null===l||void 0===l?void 0:l.value)?null===(y=JSON.parse(null===l||void 0===l?void 0:l.value))||void 0===y?void 0:y.title:"Not yet defined"},t)})))]})},l):Object(Z.jsx)(Z.Fragment,{})}))})]})}),T&&T.length>=1?Object(Z.jsx)(N.a,{rowsPerPageOptions:[50,100,150],component:"div",count:null===T||void 0===T?void 0:T.length,rowsPerPage:Pe,page:Me,onPageChange:function(e,l){return Fe(l)},onRowsPerPageChange:function(e){Ae(parseInt(e.target.value,10)),Fe(0)}}):""]})})})}),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(B.a,{open:$e,keepMounted:!0,onClose:function(){return el(!1)},"aria-labelledby":"delete","aria-describedby":"delete",maxWidth:"md",fullWidth:!0,children:[Object(Z.jsx)(I.a,{id:"deleteConfirm",align:"center",children:Object(Z.jsx)(g.a,{children:"Absence total summary"})}),Object(Z.jsxs)(z.a,{style:{minHeight:"auto"},align:"center",children:[Object(Z.jsx)("br",{}),Object(Z.jsx)(g.a,{children:"Quantity applicable for all employees after 1 year of employment"}),Object(Z.jsx)("br",{}),(null===il||void 0===il?void 0:il.length)>0?Object(Z.jsx)(y.a,{children:Object(Z.jsxs)(f.a,{border:1,children:[Object(Z.jsx)(b.a,{children:Object(Z.jsxs)(j.a,{children:[Object(Z.jsx)(v.a,{children:"Absence type"}),Object(Z.jsx)(v.a,{children:"Total number"})]})}),Object(Z.jsx)(C.a,{children:null===il||void 0===il?void 0:il.map((function(e,l){return Object(Z.jsxs)(j.a,{children:[Object(Z.jsx)(v.a,{children:null===e||void 0===e?void 0:e.txt}),Object(Z.jsx)(v.a,{children:null===e||void 0===e?void 0:e.qty})]},l)}))})]})}):Object(Z.jsx)(g.a,{children:"You have not yet provided any details about absences. Please update company to provide absence details."})]}),Object(Z.jsx)(R.a,{children:Object(Z.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){el(!1),nl([])},children:"Close"})})]})}),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(B.a,{open:Qe,keepMounted:!0,onClose:function(){return Xe(!1)},"aria-labelledby":"delete","aria-describedby":"delete",maxWidth:"md",fullWidth:!0,children:[Object(Z.jsx)(I.a,{id:"deleteConfirm",align:"center",children:Object(Z.jsx)(g.a,{children:Object(Z.jsx)("b",{children:"Delete confirmation"})})}),Object(Z.jsxs)(z.a,{style:{minHeight:"auto"},align:"center",children:[Object(Z.jsx)("br",{}),Object(Z.jsx)(g.a,{children:"Are you sure you want to delete this data ?"})]}),Object(Z.jsxs)(R.a,{children:[Object(Z.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){re(He,Ee),Ve(""),Ue({}),Xe(!1)},children:"Delete"}),Object(Z.jsx)(p.a,{color:"error",variant:"outlined",onClick:function(){Xe(!1),Ve("")},children:"Close"})]})]})})]})}},1553:function(e,l,t){"use strict";var i=t(23);Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=i(t(119)),a=t(0);l.default=(0,n.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")}}]);
//# sourceMappingURL=15.0cb686e9.chunk.js.map