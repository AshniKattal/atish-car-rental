(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[91],{1574:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(6),l=a(18),c=a(3),r=a.n(c),s=a(1398),o=a(1406),j=a(1413),d=a(133),b=a(286),m=a(1848),u=a(1861),O=a(1845),h=a(1484),x=a(145),p=a(1513),v=a(1482),y=a(1491),f=a(1531),g=a(1532),C=a(1533),N=a(1534),T=a(1414),k=a(701),W=a(4),z=a(49),R=a(134),w=a(1479),B=a(52),P=a(157),I=a(68),A=a(118),E=a(472),M=a(0),S=Object(w.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},indeterminateColor:{color:e.palette.primary}}}));function V(e){switch(e){case 0:return"Tell us about your business";case 1:return"Enter your business contact information";case 2:return"You are all done!";default:return"Unknown stepIndex"}}t.default=function(e){var t=e.companyId,a=e.openDialog,c=e.handleCloseDialog,w=e.clientDetails,D=e.setClientDetails,L=e.initializeClientList,F=Object(A.b)().enqueueSnackbar,J=w.name,q=w.companyRefId,Y=w.companyRefName,H=w.companyType,U=w.tan,X=w.address,G=w.email,K=w.email2,Q=w.email3,Z=w.email4,$=w.contactNumber,_=w.mobileNumber,ee=w.brn,te=w.nic,ae=w.buyerType,ne=w.representativeName,ie=w.representativeContactNumber,le=S(),ce=Object(B.b)(),re=Object(B.c)(P.c),se=Object(W.useState)(0),oe=Object(l.a)(se,2),je=oe[0],de=oe[1],be=["Tell us","Contact Info","Save & Finish"],me=Object(W.useState)({errorBool:!1,errorMsg:""}),ue=Object(l.a)(me,2),Oe=ue[0],he=ue[1],xe=Oe.errorBool,pe=Oe.errorMsg,ve=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return ce(Object(I.d)(!0)),e.next=4,z.b.collection("company").doc(t).collection("client").add({name:J||"",companyRefId:q||"",companyRefName:Y||"",companyType:H||"",tan:U||"",address:X||"",email:G||"",email2:K||"",email3:Q||"",email4:Z||"",contactNumber:$||"",mobileNumber:_||"",brn:ee||"",nic:te||"",buyerType:ae||null,representativeName:ne||"",representativeContactNumber:ie||"",timestamp:R.a.firestore.FieldValue.serverTimestamp()}).then((function(){F("Client added successfully"),ce(Object(I.d)(!1)),ce(Object(E.g)(void 0)),ce(Object(E.f)(null)),ce(Object(E.c)(void 0)),ce(Object(E.d)(void 0)),c(),L&&L()})).catch((function(e){F("Error occured while adding client: ".concat(null===e||void 0===e?void 0:e.message)),ce(Object(I.d)(!1))}));case 4:e.next=7;break;case 6:ce(Object(P.d)({counter:re.counter+1,message:"Your session has been terminated due to greater than 30 minutes of inactivity. Please log in again.",variant:"error"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(s.a,{style:{width:"100%"},maxWidth:"md",fullWidth:!0,open:a,onClose:c,children:[Object(M.jsx)(o.a,{id:"alert-dialog-title",children:"Create a company"}),Object(M.jsxs)(j.a,{style:{height:"auto"},children:[Object(M.jsxs)(d.a,{container:!0,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(b.a,{variant:"h6",align:"left",color:"primary",children:V(je)})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)("div",{className:le.root,children:Object(M.jsx)(m.a,{activeStep:je,alternativeLabel:!0,children:be.map((function(e){return Object(M.jsx)(u.a,{children:Object(M.jsx)(O.a,{children:e})},e)}))})})})]}),Object(M.jsx)(h.a,{variant:"filled",severity:"error",style:{display:xe?"":"none"},children:pe}),Object(M.jsxs)("div",{style:{display:0===je?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(d.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"Name",type:"text",id:"name",size:"small",value:J||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{name:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(p.a,{size:"small",variant:"outlined",fullWidth:!0,children:Object(M.jsxs)(v.a,{size:"small",native:!0,placeholder:"Please choose a company type",value:H||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{companyType:e.target.value}))},inputProps:{name:"companyType",id:"companyType"},children:[Object(M.jsx)("option",{value:"",children:"Please choose a Company Type"}),Object(M.jsx)("option",{value:"Individual",children:"Individual"}),Object(M.jsx)("option",{value:"Company",children:"Company"}),Object(M.jsx)("option",{value:"Other",children:"Other"})]})})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"tan",label:"VAT",type:"number",id:"tan",value:U||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{tan:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",size:"small",fullWidth:!0,name:"brn",label:"BRN",type:"text",id:"brn",value:ee||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{brn:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{variant:"outlined",size:"small",fullWidth:!0,name:"nic",label:"NIC",type:"text",id:"nic",value:te||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{nic:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(y.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please define type of buyer",id:"buyer-type-drop-down",options:JSON.parse('[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]'),value:ae,renderInput:function(e){return Object(M.jsx)(x.a,Object(n.a)(Object(n.a)({},e),{},{label:"Please define type of buyer"}))},onChange:function(e,t,a){e.preventDefault(),"removeOption"!==a&&"clear"!==a&&t?D(Object(n.a)(Object(n.a)({},w),{},{buyerType:t})):"removeOption"!==a&&"clear"!==a||D(Object(n.a)(Object(n.a)({},w),{},{buyerType:null}))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.title)||""},fullWidth:!0})})]})]}),Object(M.jsxs)("div",{style:{display:1===je?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(d.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"address",label:"Address",type:"text",id:"address",value:X||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{address:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"contactNumber",label:"Contact Number",type:"text",id:"contactNumber",value:$||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{contactNumber:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"mobileNumber",label:"Mobile Number",type:"text",id:"mobileNumber",value:_||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{mobileNumber:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email",label:"Email 1",type:"text",id:"email",value:G||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{email:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email2",label:"Email 2",type:"text",id:"email2",value:K||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{email2:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email3",label:"Email 3",type:"text",id:"email3",value:Q||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{email3:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email4",label:"Email 4",type:"text",id:"email4",value:Z||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{email4:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeName",label:"Representative name",type:"text",id:"representativeName",value:ne||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{representativeName:e.target.value}))}})}),Object(M.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(x.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeContactNumber",label:"Representative contact number",type:"text",id:"representativeContactNumber",value:ie||"",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},{representativeContactNumber:e.target.value}))}})})]})]}),Object(M.jsx)("div",{style:{display:2===je?"":"none",width:"100%",height:"100%"},children:Object(M.jsx)(f.a,{children:Object(M.jsxs)(g.a,{children:[Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Name:"}),Object(M.jsx)(N.a,{children:J||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Company Type:"}),Object(M.jsx)(N.a,{children:H||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"VAT:"}),Object(M.jsx)(N.a,{children:U||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"BRN:"}),Object(M.jsx)(N.a,{children:ee||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"NIC:"}),Object(M.jsx)(N.a,{children:te||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Address:"}),Object(M.jsx)(N.a,{children:X||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Contact Number:"}),Object(M.jsx)(N.a,{children:$||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Mobile Number:"}),Object(M.jsx)(N.a,{children:_||""})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(N.a,{children:"Email:"}),Object(M.jsx)(N.a,{children:G||""})]})]})})})]}),Object(M.jsxs)(T.a,{children:[Object(M.jsx)("div",{children:je===be.length?Object(M.jsxs)("div",{children:[Object(M.jsx)(b.a,{className:le.instructions,children:"All steps completed"}),Object(M.jsx)(k.a,{onClick:function(){de(0)},children:"Reset"})]}):Object(M.jsxs)("div",{children:[Object(M.jsx)(k.a,{disabled:0===je,onClick:function(){de((function(e){return e-1}))},className:le.backButton,variant:"outlined",children:"Back"}),Object(M.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){0===je?""===J?he({errorBool:!0,errorMsg:"Please enter a name"}):(he({errorBool:!1,errorMsg:""}),de((function(e){return e+1}))):2===je?(he({errorBool:!1,errorMsg:""}),ve(),de(0)):(he({errorBool:!1,errorMsg:""}),de((function(e){return e+1})))},className:le.backButton,children:je===be.length-1?"Save":"Next"})]})}),Object(M.jsx)(k.a,{onClick:c,color:"error",variant:"outlined",children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=91.09f58025.chunk.js.map