(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[6],{1564:function(e,t){function i(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=1564},1572:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return le}));var o=i(5),n=i(27),a=i(9),l=i(6),d=i(18),c=i(3),r=i.n(c),s=i(4),u=i(133),_=i(286),E=i(1516),v=i(1624),A=i(1466),T=i(145),P=i(1491),b=i(1492),m=i(1465),O=i(701),p=i(1398),C=i(1406),R=i(1413),j=i(1530),S=i(1531),h=i(1535),f=i(1533),x=i(1534),D=i(1532),N=i(1414),g=i(52),I=i(49),y=i(118),B=i(68),w=i(69),M=i.n(w),L=i(250),V=i(472),k=i(1479),U=i(101),F=i(83),H=i(50),Y=i.n(H),G=i(0);function K(e){var t,i=e.open,o=e.handleCloseDialog,c=e.documentDetails,_=e.setDocumentDetails,E=e.selectedRowIndex,v=Object(g.b)(),w=Object(y.b)().enqueueSnackbar,M=Object(g.c)(V.b),L=M.companyDetails,k=M.documentType,U=Object(s.useState)([]),F=Object(d.a)(U,2),H=F[0],K=F[1],z=Object(s.useState)(null),W=Object(d.a)(z,2),Z=(W[0],W[1]),q=Object(s.useState)(!0),X=Object(d.a)(q,2),Q=(X[0],X[1]),J=Object(s.useRef)(),$=Object(s.useState)(null),ee=Object(d.a)($,2),te=ee[0],ie=ee[1],oe=Object(s.useState)(""),ne=Object(d.a)(oe,2),ae=ne[0],le=ne[1];Object(s.useEffect)((function(){J.current()}),[]);var de=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Object(B.d)(!0)),e.next=3,I.b.collection("company").doc(null===L||void 0===L?void 0:L.id).collection("inventory").orderBy("model").limit(50).get().then((function(e){var t;if((null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0){var i,o=null===e||void 0===e?void 0:e.docs[(null===e||void 0===e?void 0:e.docs.length)-1];Z(o);var n=[];e.docs.forEach((function(e){var t,i,o,l,d,c,r,s,u,_,E,v,A,T,P,b,m,O;"documentIndex"!==(null===e||void 0===e?void 0:e.id)&&n.push({id:e.id,data:Object(a.a)({},e.data()),sku:(null===(t=e.data())||void 0===t?void 0:t.sku)||"",category:JSON.stringify((null===(i=e.data())||void 0===i?void 0:i.category)||null),model:(null===(o=e.data())||void 0===o?void 0:o.model)||"",size:(null===(l=e.data())||void 0===l?void 0:l.size)||"",materials:(null===(d=e.data())||void 0===d?void 0:d.materials)||"",color:(null===(c=e.data())||void 0===c?void 0:c.color)||"",stockHistory:(null===(r=e.data())||void 0===r?void 0:r.stockHistory)||[],qty:(null===(s=e.data())||void 0===s?void 0:s.qty)||"",qtySold:(null===(u=e.data())||void 0===u?void 0:u.qtySold)||"",qtyRemaining:(null===(_=e.data())||void 0===_?void 0:_.qtyRemaining)||"",unitPriceWithoutShipping:(null===(E=e.data())||void 0===E?void 0:E.unitPriceWithoutShipping)||"",unitPriceWithShipping:(null===(v=e.data())||void 0===v?void 0:v.unitPriceWithShipping)||"",totalPriceWithShipping:(null===(A=e.data())||void 0===A?void 0:A.totalPriceWithShipping)||"",unitSellingPrice:(null===(T=e.data())||void 0===T?void 0:T.unitSellingPrice)||"",totalSellingPrice:(null===(P=e.data())||void 0===P?void 0:P.totalSellingPrice)||"",companyName:(null===(b=e.data())||void 0===b?void 0:b.companyName)||"",percentageProfit:(null===(m=e.data())||void 0===m?void 0:m.percentageProfit)||"",percentageShipping:(null===(O=e.data())||void 0===O?void 0:O.percentageShipping)||""})})),K(n),50===(null===e||void 0===e||null===(i=e.docs)||void 0===i?void 0:i.length)&&Q(!0),v(Object(B.d)(!1))}else Q(!1),K([]),Z(null),v(Object(B.d)(!1))})).catch((function(e){w("Error occured while fetching inventory items: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),v(Object(B.d)(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();J.current=de;function ce(){return(ce=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Object(B.d)(!0)),e.next=3,I.b.collection("company").doc(null===L||void 0===L?void 0:L.id).collection("inventory").where("sku","==",ae).get().then((function(e){var t;(null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0?(w("The SKU code you entered is already present in the database.",{variant:"error"}),v(Object(B.d)(!1))):(w("SKU code is valid and is not present in database."),v(Object(B.d)(!1)))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsxs)(p.a,{open:i,maxWidth:"lg",fullWidth:!0,children:[Object(G.jsx)(C.a,{children:"Search SKU item"}),Object(G.jsxs)(R.a,{children:[Object(G.jsx)(m.a,{}),Object(G.jsx)("br",{}),Object(G.jsxs)(u.a,{container:!0,spacing:3,children:[Object(G.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(G.jsx)(P.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"SKU filter",id:"sku filter-drop-down",options:H||[],value:te,renderInput:function(e){return Object(G.jsx)(T.a,Object(a.a)(Object(a.a)({},e),{},{label:"SKU filter",fullWidth:!0}))},onChange:function(e,t,i){ie("removeOption"!==i&&"clear"!==i&&t?t:null)},getOptionLabel:function(e){return null===e||void 0===e?void 0:e.sku},fullWidth:!0})}),Object(G.jsx)(u.a,{item:!0,xs:12,md:5,children:Object(G.jsxs)(A.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(G.jsx)(T.a,{variant:"outlined",size:"small",fullWidth:!0,name:"skuCode",label:"Search SKU Code",type:"text",id:"skuCode",value:ae||"",onChange:function(e){le(e.target.value)}}),Object(G.jsx)(b.a,{title:"Search SKU Code",children:Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return function(){return ce.apply(this,arguments)}()},sx:{width:"150px"},disabled:!ae,children:"Search"})})]})}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(j.a,{children:Object(G.jsxs)(S.a,{border:1,children:[Object(G.jsx)(h.a,{children:Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"SKU Code"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Model"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Color"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Category"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Size"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Materials"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Selling Price"}),Object(G.jsx)(x.a,{align:"center",size:"small",children:"Stock Qty"})]})}),Object(G.jsx)(D.a,{children:H&&(null===H||void 0===H?void 0:H.length)>0&&(null===H||void 0===H||null===(t=H.filter((function(e){return(null===e||void 0===e?void 0:e.sku)===(null===te||void 0===te?void 0:te.sku)||!(null!==te&&void 0!==te&&te.sku)})))||void 0===t?void 0:t.map((function(e,t){var i;return Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{align:"center",size:"small",children:Object(G.jsx)(O.a,{onClick:function(){return function(e){if(null!==E){var t,i,l,d=Object(n.a)((null===c||void 0===c?void 0:c.docParticulars)||[]),r=((null===(t=d[E])||void 0===t?void 0:t.rowDescription)||"")+(null!==e&&void 0!==e&&e.sku?"".concat(null===e||void 0===e?void 0:e.sku,", "):"")+(null!==e&&void 0!==e&&e.model?"".concat(null===e||void 0===e?void 0:e.model,", "):"")+(null!==e&&void 0!==e&&e.color?"".concat(null===e||void 0===e?void 0:e.color,", "):"")+(null!==e&&void 0!==e&&null!==(i=e.category)&&void 0!==i&&i.title?"".concat(null===e||void 0===e||null===(l=e.category)||void 0===l?void 0:l.title,", "):"")+(null!==e&&void 0!==e&&e.size?"".concat(null===e||void 0===e?void 0:e.size,", "):"")+(null!==e&&void 0!==e&&e.materials?"".concat(null===e||void 0===e?void 0:e.materials):""),s=Number((null===e||void 0===e?void 0:e.unitSellingPrice)||0);"cash_transaction"!==(null===k||void 0===k?void 0:k.id)&&(s=100*Number((null===e||void 0===e?void 0:e.unitSellingPrice)||0),s/=115),d[E]=Object(a.a)(Object(a.a)({},d[E]),{},{rowDescription:r,rowUnitPrice:Number(s||0),inventoryItemData:Object(a.a)({},e)}),_(Object(a.a)(Object(a.a)({},c),{},{docParticulars:d})),o()}}(e)},variant:"contained",color:"primary",children:"Select"})}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.sku)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.model)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.color)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.title)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.size)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.materials)||""}),Object(G.jsx)(x.a,{align:"center",size:"small",children:Object(G.jsx)(Y.a,{value:Number((null===e||void 0===e?void 0:e.unitSellingPrice)||0).toFixed(2),displayType:"text",thousandSeparator:!0})}),Object(G.jsx)(x.a,{align:"center",size:"small",children:(null===e||void 0===e?void 0:e.qtyRemaining)||""})]},t)})))})]})})})]})]}),Object(G.jsx)(N.a,{children:Object(G.jsx)(O.a,{variant:"outlined",color:"error",onClick:function(){return o()},children:"Close"})})]})}var z=i(1499),W=i(46),Z=i(1844),q=i(134);function X(e){var t=e.open,i=e.handleCloseDialog,o=e.documentDetails,c=e.setDocumentDetails,E=e.selectedRowIndex,v=e.logo,P=(e.sigImage,Object(y.b)().enqueueSnackbar),b=Object(g.b)(),m=Object(s.useRef)(),w=Object(g.c)(V.b),k=w.companyDetails,U=w.clientDocumentObjectSelected,F=Object(s.useState)(new Date),H=Object(d.a)(F,2),Y=H[0],K=H[1],X=Object(s.useState)(new Date),Q=Object(d.a)(X,2),J=Q[0],$=Q[1],ee=Object(s.useState)([]),te=Object(d.a)(ee,2),ie=te[0],oe=te[1],ne=Object(s.useState)(""),ae=Object(d.a)(ne,2),le=ae[0],de=ae[1];function ce(){return(ce=Object(l.a)(r.a.mark((function e(){var t,i,o,n,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Y||""===Y||void 0===J||""===J){e.next=18;break}if(!(new Date(Y)>new Date(J))){e.next=6;break}P("Date incorrect. To Date cannot be before From Date.",{variant:"error"}),b(Object(B.d)(!1)),e.next=16;break;case 6:if(void 0===k||void 0===U){e.next=16;break}return b(Object(B.d)(!0)),t=Y.toISOString(),i=t.split("T"),o=J.toISOString(),n=o.split("T"),a=new Date("".concat(i[0],"T00:00:00.000Z")),l=new Date("".concat(n[0],"T23:59:59.000Z")),e.next=16,I.b.collection("company").doc(null===k||void 0===k?void 0:k.id).collection("contractagreement").where("dateCreated",">=",q.a.firestore.Timestamp.fromDate(a)).where("dateCreated","<=",q.a.firestore.Timestamp.fromDate(l)).get().then((function(e){var t,i=[];(null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0?(null===e||void 0===e||e.docs.forEach((function(e){var t,o,n;(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.clientId)!==(null===U||void 0===U?void 0:U.id)||null!==e&&void 0!==e&&null!==(o=e.data())&&void 0!==o&&o.deleted||i.push({id:null===e||void 0===e?void 0:e.id,docString:null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.docString,data:null===e||void 0===e?void 0:e.data(),checked:!1})})),25===(null===i||void 0===i?void 0:i.length)&&de(!0),i.sort(Object(L.e)("docString")),oe(i)):oe([]),b(Object(B.d)(!1))})).catch((function(e){P("Error occured while fetching documents: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),b(Object(B.d)(!1))}));case 16:e.next=19;break;case 18:b(Object(B.d)(!1));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(l.a)(r.a.mark((function e(){var t,i,o,a,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(B.d)(!0)),t=Y.toISOString(),i=t.split("T"),o=J.toISOString(),a=o.split("T"),l=new Date("".concat(i[0],"T00:00:00.000Z")),d=new Date("".concat(a[0],"T23:59:59.000Z")),e.next=9,I.b.collection("company").doc(null===k||void 0===k?void 0:k.id).collection("contractagreement").where("dateCreated",">=",q.a.firestore.Timestamp.fromDate(l)).where("dateCreated","<=",q.a.firestore.Timestamp.fromDate(d)).startAfter(le).limit(25).get().then((function(e){var t,i=[];if((null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0){null===e||void 0===e||e.docs.forEach((function(e){var t,o;(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.clientId)!==(null===U||void 0===U?void 0:U.id)||null!==e&&void 0!==e&&null!==(o=e.data())&&void 0!==o&&o.deleted||i.push({id:null===e||void 0===e?void 0:e.id,data:null===e||void 0===e?void 0:e.data(),checked:!1})})),25===(null===i||void 0===i?void 0:i.length)?de(!0):de(!1);var o=[].concat(Object(n.a)(ie),i);oe(o),b(Object(B.d)(!1))}else de(!1),b(Object(B.d)(!1))})).catch((function(e){P("Error occured while fetching documents: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),b(Object(B.d)(!1))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(l.a)(r.a.mark((function e(t){var l,d,s,u,_,v,A,T;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===E){e.next=14;break}if(l=Object(n.a)((null===o||void 0===o?void 0:o.docParticulars)||[]),d="",e.t1=null===t||void 0===t?void 0:t.treatmentDefinition,!e.t1){e.next=8;break}return e.next=7,Object(L.r)((null===t||void 0===t?void 0:t.treatmentDefinition)||"");case 7:e.t1=e.sent;case 8:if(e.t0=e.t1,e.t0){e.next=11;break}e.t0="";case 11:(s=e.t0)&&(u=s)&&(null===u||void 0===u?void 0:u.length)>0&&(null===u||void 0===u||u.map((function(e,t){if(void 0===(null===e||void 0===e?void 0:e.tag)&&(d+="\n"),"span"===(null===e||void 0===e?void 0:e.tag)){var i=null===e||void 0===e?void 0:e.text.replace(/&nbsp;|\t/g," ");d=d+i+"\n"}if("strong"===(null===e||void 0===e?void 0:e.tag)){var o=null===e||void 0===e?void 0:e.text.replace(/&nbsp;|\t/g," ");d=d+o+"\n"}else if("ul"===(null===e||void 0===e?void 0:e.tag)){var a=Object(n.a)(null===e||void 0===e?void 0:e.text.matchAll(/<li class=\"ql-align-justify\"><span style=\"background-color: transparent;\">(.*?)<\/span><\/li>|<li>(.*?)<\/li>|/g)).map((function(e){return e[1]}));a&&(null===a||void 0===a?void 0:a.length)>0&&a.forEach((function(e,t){if(e){var i=e.replace(/&nbsp;|\t/g," ");d=d+"-"+i+"\n"}else d+=""}))}else if("ol"===(null===e||void 0===e?void 0:e.tag)){var l=Object(n.a)(null===e||void 0===e?void 0:e.text.matchAll(/<li class=\"ql-align-justify\"><span style=\"background-color: transparent;\">(.*?)<\/span><\/li>|<li>(.*?)<\/li>|/g)).map((function(e){return e[1]}));l&&(null===l||void 0===l?void 0:l.length)>0&&l.forEach((function(e,t){if(e){var i=e.replace(/&nbsp;|\t/g," ");d=d+"-"+i+"\n"}else d+=""}))}else d+=""}))),d?(v=((null===(_=l[E])||void 0===_?void 0:_.rowDescription)||"")+(d?"".concat(d):""),A=function(e){return parseFloat(e.replace(/rs\.?/gi,"").replace(/,/g,""))}(null===t||void 0===t?void 0:t.annualTotalAmt),T=1*Number(A||0),l[E]=Object(a.a)(Object(a.a)({},l[E]),{},{rowDescription:v,rowUnitPrice:A||0,rowQty:1,rowAmount:T,rowDiscountedAmount:T,rowVatAmount:0,rowTotalAmount:T}),c(Object(a.a)(Object(a.a)({},o),{},{docParticulars:l})),i()):i();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){m.current()}),[Y,J]),m.current=function(){return ce.apply(this,arguments)},Object(G.jsxs)(p.a,{open:t,maxWidth:"md",fullWidth:!0,children:[Object(G.jsx)(C.a,{children:"Search Contract Agreement Descriptions"}),Object(G.jsxs)(R.a,{children:[Object(G.jsx)("br",{}),Object(G.jsxs)(u.a,{container:!0,spacing:3,children:[Object(G.jsxs)(u.a,{item:!0,xs:12,md:12,children:[Object(G.jsx)("hr",{}),Object(G.jsx)("br",{}),Object(G.jsx)(_.a,{children:"Please choose a date"})]}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,style:{width:"100%"},children:Object(G.jsxs)(A.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(G.jsx)(Z.a,{label:"From",value:Y||"",onChange:function(e){K(e)},renderInput:function(e){return Object(G.jsx)(T.a,Object(a.a)(Object(a.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"}),Object(G.jsx)(Z.a,{label:"To",value:J||"",onChange:function(e){$(e)},renderInput:function(e){return Object(G.jsx)(T.a,Object(a.a)(Object(a.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"})]})}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(j.a,{children:Object(G.jsxs)(S.a,{border:1,children:[Object(G.jsx)(h.a,{children:Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{size:"small",children:"Contract Agreement number"}),Object(G.jsx)(x.a,{size:"small",children:"Date created"}),Object(G.jsx)(x.a,{size:"small",children:"Preview"}),Object(G.jsx)(x.a,{size:"small",children:"Action"})]})}),Object(G.jsxs)(D.a,{children:[ie&&(null===ie||void 0===ie?void 0:ie.length)>0&&(null===ie||void 0===ie?void 0:ie.map((function(e,t){var i,o;return Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{size:"small",children:Object(G.jsx)(_.a,{children:null===e||void 0===e?void 0:e.id})}),Object(G.jsx)(x.a,{size:"small",children:Object(G.jsx)(_.a,{children:null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.dateCreated&&M()(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.dateCreated.toDate()).format("DD-MM-YYYY")||""})}),Object(G.jsx)(x.a,{size:"small",align:"center",children:Object(G.jsxs)(A.a,{spacing:2,direction:"row",alignItems:"center",children:[Object(G.jsx)(z.a,{color:"primary",onClick:function(){return Object(L.p)(k,"view",null===e||void 0===e?void 0:e.data,"contractagreement",v)},children:Object(G.jsx)(W.a,{icon:"carbon:view"})}),Object(G.jsx)(z.a,{color:"primary",onClick:function(){return Object(L.p)(k,"download",null===e||void 0===e?void 0:e.data,"contractagreement",v)},children:Object(G.jsx)(W.a,{icon:"eva:download-fill"})})]})}),Object(G.jsx)(x.a,{size:"small",children:Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return function(e){return se.apply(this,arguments)}(null===e||void 0===e?void 0:e.data)},children:"select"})})]},t)}))),le?Object(G.jsx)(f.a,{children:Object(G.jsx)(x.a,{size:"small",colSpan:4,children:Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return function(){return re.apply(this,arguments)}()},children:"Next"})})}):Object(G.jsx)(G.Fragment,{})]})]})})})]})]}),Object(G.jsx)(N.a,{children:Object(G.jsx)(O.a,{variant:"contained",color:"error",onClick:function(){return i()},children:"cancel"})})]})}i(1563);var Q=Object(s.lazy)((function(){return i.e(52).then(i.bind(null,1829))})),J=Object(s.lazy)((function(){return i.e(70).then(i.bind(null,1830))})),$=Object(s.lazy)((function(){return i.e(39).then(i.bind(null,1831))})),ee=Object(s.lazy)((function(){return i.e(47).then(i.bind(null,1832))})),te=Object(s.lazy)((function(){return i.e(66).then(i.bind(null,1833))})),ie=Object(s.lazy)((function(){return i.e(65).then(i.bind(null,1834))})),oe=Object(s.lazy)((function(){return i.e(67).then(i.bind(null,1835))})),ne=Object(s.lazy)((function(){return i.e(68).then(i.bind(null,1836))})),ae=Object(s.lazy)((function(){return i.e(69).then(i.bind(null,1837))}));function le(e){var t,i,c,w,H,Y,z,W=e.action,Z=e.handleCloseUpdateDialog,q=e.set_us_actionChoice,le=Object(F.a)().themeMode,de=function(e,t){return Object(k.a)((function(){return{input:{background:"light"===e?t.light.background.default:t.dark.background.default},multilineInput:{background:"light"===e?t.light.background.default:t.dark.background.default,resize:"both"}}}))}(le,U.a)(),ce=Object(g.b)(),re=Object(y.b)().enqueueSnackbar,se=Object(s.useRef)(null),ue=Object(s.useRef)(),_e=Object(s.useRef)(),Ee=Object(s.useRef)(),ve=Object(s.useRef)(),Ae=Object(s.useRef)(),Te=Object(s.useRef)(),Pe=Object(s.useState)(null),be=Object(d.a)(Pe,2),me=be[0],Oe=be[1],pe=Object(s.useState)([]),Ce=Object(d.a)(pe,2),Re=Ce[0],je=Ce[1],Se=Object(s.useState)(!1),he=Object(d.a)(Se,2),fe=he[0],xe=he[1],De=Object(s.useState)(!1),Ne=Object(d.a)(De,2),ge=Ne[0],Ie=Ne[1],ye=Object(s.useState)(!1),Be=Object(d.a)(ye,2),we=Be[0],Me=Be[1],Le=Object(s.useState)(""),Ve=Object(d.a)(Le,2),ke=Ve[0],Ue=Ve[1],Fe=Object(s.useState)(""),He=Object(d.a)(Fe,2),Ye=He[0],Ge=He[1],Ke=Object(s.useState)(null),ze=Object(d.a)(Ke,2),We=ze[0],Ze=ze[1],qe=Object(s.useState)(null),Xe=Object(d.a)(qe,2),Qe=Xe[0],Je=Xe[1],$e=Object(s.useState)(!1),et=Object(d.a)($e,2),tt=et[0],it=et[1],ot=Object(s.useState)([]),nt=Object(d.a)(ot,2),at=nt[0],lt=nt[1],dt=Object(s.useState)(""),ct=Object(d.a)(dt,2),rt=ct[0],st=ct[1],ut=Object(g.c)(V.b),_t=ut.documentType,Et=ut.companyIdSelected,vt=ut.companyDetails,At=ut.clientDocumentObjectSelected,Tt=ut.updateDocumentData,Pt=Object(s.useState)([]),bt=Object(d.a)(Pt,2),mt=bt[0],Ot=bt[1],pt=Object(s.useState)({docCompDetails:null,docClientDetails:null,docCustomIdNumber:"",docBillTo:"",docShipTo:"",docDate:M()(new Date).format("yyyy-MM-DD"),docParticulars:[],docSubTotal:"",docVatFee:"",docTotal:"",docTermsAndCondition:"",docBLNumber:"",docSupplier:"",docContainerNumber:"",docPackages:"",docDescription:"",docGrossWeight:"",docVolume:"",docPortOfLoading:"",docETA:"",docVesselName:"",docRoE:"",docPlaceOfLanding:"",transactionType:JSON.parse('[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]')[0]||null,personType:null,invoiceTypeDesc:{id:"STD",type:"Standard"},invoiceRefIdentifier:"",downPayment:"",downPaymentInvoiceNumber:"",discountTotalAmount:"",discountedTotalAmount:"",docSalesTransaction:null,docReasonStated:"",MRATemplateApplied:!1,docTotalTaxableWithoutVatParticulars:"",docTotalTaxableVatOnlyParticulars:"",docTotalTaxableParticulars:"",docTotalZeroRatedParticulars:"",docTotalExemptParticulars:"",docTotalDisbursementParticulars:"",docTotalExemptBodiesParticulars:"",docDisbursementParticularsData:[],invJobRef:"",invStorageFee:"",invScanningFee:"",invGatePassFee:"",invVehicleNo:"",transportFees:"",transportDesc:"",invApplyVat:(null===vt||void 0===vt?void 0:vt.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.7",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SOREFAN_ID||"invoice"!==(null===_t||void 0===_t?void 0:_t.id)&&"cash_transaction"!==(null===_t||void 0===_t?void 0:_t.id),docShipper:"",docMarkNos:"",docCommodity:"",docHbl:"",docDepot:""}),Ct=Object(d.a)(pt,2),Rt=Ct[0],jt=Ct[1],St=Rt.docCustomIdNumber,ht=Rt.docBillTo,ft=Rt.docShipTo,xt=Rt.docDate,Dt=Rt.docParticulars,Nt=Rt.docVatFee,gt=Rt.docTermsAndCondition,It=Rt.transactionType,yt=Rt.invoiceTypeDesc,Bt=Rt.invoiceRefIdentifier,wt=Rt.docReasonStated,Mt=Rt.MRATemplateApplied,Lt=Rt.invStorageFee,Vt=Rt.invScanningFee,kt=Rt.transportFees,Ut=Rt.invGatePassFee,Ft=Rt.invApplyVat,Ht=Object(s.useState)({showViewButton:!1,savedDocument:null}),Yt=Object(d.a)(Ht,2),Gt=Yt[0],Kt=Yt[1];function zt(){return(zt=Object(l.a)(r.a.mark((function e(){var t,i,o,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===vt||void 0===vt||null===(t=vt.data)||void 0===t||!t.imageUrl||""===(null===vt||void 0===vt||null===(i=vt.data)||void 0===i?void 0:i.imageUrl)){e.next=7;break}return ce(Object(B.d)(!0)),e.next=4,Object(L.s)(null===vt||void 0===vt||null===(o=vt.data)||void 0===o?void 0:o.imageUrl);case 4:n=e.sent,Ze(n),ce(Object(B.d)(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(){return(Wt=Object(l.a)(r.a.mark((function e(){var t,i,o,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===vt||void 0===vt||null===(t=vt.data)||void 0===t||!t.sigUrl||""===(null===vt||void 0===vt||null===(i=vt.data)||void 0===i?void 0:i.sigUrl)){e.next=7;break}return ce(Object(B.d)(!0)),e.next=4,Object(L.s)(null===vt||void 0===vt||null===(o=vt.data)||void 0===o?void 0:o.sigUrl);case 4:n=e.sent,Je(n),ce(Object(B.d)(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(){return(Zt=Object(l.a)(r.a.mark((function e(){var t,i,o,l,d,c,s,u,_,E,v,A,T,P,b,m,O,p,C,R,j,S,h,f,x,D,N,g,I,y,B,w,L,V,k,U,F,H,Y,G,K,z,Z,q,X,Q,J,$,ee,te,ie,oe,ne,ae,le,de,ce,re,se,ue,_e,Ee,ve;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"update"===W&&Tt&&(Ue((null===Tt||void 0===Tt||null===(t=Tt.data)||void 0===t?void 0:t.docQuoteNumber)||""),Ge((null===Tt||void 0===Tt||null===(i=Tt.data)||void 0===i?void 0:i.docPurchaseOrderNumber)||""),Ot(null!==Tt&&void 0!==Tt&&null!==(o=Tt.data)&&void 0!==o&&o.docParticulars&&(null===Tt||void 0===Tt||null===(l=Tt.data)||void 0===l||null===(d=l.docParticulars)||void 0===d?void 0:d.length)>0?Object(n.a)(null===Tt||void 0===Tt||null===(c=Tt.data)||void 0===c?void 0:c.docParticulars):[]),jt(Object(a.a)(Object(a.a)({},Rt),{},{docCompDetails:Object(a.a)({},vt),docClientDetails:Object(a.a)({},At),docCustomIdNumber:(null===Tt||void 0===Tt||null===(s=Tt.data)||void 0===s?void 0:s.docCustomIdNumber)||"",docBillTo:(null===Tt||void 0===Tt||null===(u=Tt.data)||void 0===u?void 0:u.docBillTo)||"",docShipTo:(null===Tt||void 0===Tt||null===(_=Tt.data)||void 0===_?void 0:_.docShipTo)||"",docDate:M()(null===Tt||void 0===Tt||null===(E=Tt.data)||void 0===E?void 0:E.docDate.toDate()).format("yyyy-MM-DD")||M()(new Date).format("yyyy-MM-DD"),docParticulars:null!==Tt&&void 0!==Tt&&null!==(v=Tt.data)&&void 0!==v&&v.docParticulars&&(null===Tt||void 0===Tt||null===(A=Tt.data)||void 0===A||null===(T=A.docParticulars)||void 0===T?void 0:T.length)>0?Object(n.a)(null===Tt||void 0===Tt||null===(P=Tt.data)||void 0===P?void 0:P.docParticulars):[],docSubTotal:(null===Tt||void 0===Tt||null===(b=Tt.data)||void 0===b?void 0:b.docSubTotal)||"",docVatFee:(null===Tt||void 0===Tt||null===(m=Tt.data)||void 0===m?void 0:m.docVatFee)||"",docTotal:(null===Tt||void 0===Tt||null===(O=Tt.data)||void 0===O?void 0:O.docTotal)||"",docTermsAndCondition:(null===Tt||void 0===Tt||null===(p=Tt.data)||void 0===p?void 0:p.docTermsAndCondition)||"",docBLNumber:(null===Tt||void 0===Tt||null===(C=Tt.data)||void 0===C?void 0:C.docBLNumber)||"",docSupplier:(null===Tt||void 0===Tt||null===(R=Tt.data)||void 0===R?void 0:R.docSupplier)||"",docContainerNumber:(null===Tt||void 0===Tt||null===(j=Tt.data)||void 0===j?void 0:j.docContainerNumber)||"",docPackages:(null===Tt||void 0===Tt||null===(S=Tt.data)||void 0===S?void 0:S.docPackages)||"",docDescription:(null===Tt||void 0===Tt||null===(h=Tt.data)||void 0===h?void 0:h.docDescription)||"",docGrossWeight:(null===Tt||void 0===Tt||null===(f=Tt.data)||void 0===f?void 0:f.docGrossWeight)||"",docVolume:(null===Tt||void 0===Tt||null===(x=Tt.data)||void 0===x?void 0:x.docVolume)||"",docPortOfLoading:(null===Tt||void 0===Tt||null===(D=Tt.data)||void 0===D?void 0:D.docPortOfLoading)||"",docETA:(null===Tt||void 0===Tt||null===(N=Tt.data)||void 0===N?void 0:N.docETA)||"",docVesselName:(null===Tt||void 0===Tt||null===(g=Tt.data)||void 0===g?void 0:g.docVesselName)||"",docRoE:(null===Tt||void 0===Tt||null===(I=Tt.data)||void 0===I?void 0:I.docRoE)||"",docPlaceOfLanding:(null===Tt||void 0===Tt||null===(y=Tt.data)||void 0===y?void 0:y.docPlaceOfLanding)||"",transactionType:(null===Tt||void 0===Tt||null===(B=Tt.data)||void 0===B?void 0:B.transactionType)||JSON.parse('[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]')[0]||null,personType:(null===Tt||void 0===Tt||null===(w=Tt.data)||void 0===w?void 0:w.personType)||null,invoiceTypeDesc:(null===Tt||void 0===Tt||null===(L=Tt.data)||void 0===L?void 0:L.invoiceTypeDesc)||{id:"STD",type:"Standard"},invoiceRefIdentifier:(null===Tt||void 0===Tt||null===(V=Tt.data)||void 0===V?void 0:V.invoiceRefIdentifier)||"",downPayment:(null===Tt||void 0===Tt||null===(k=Tt.data)||void 0===k?void 0:k.downPayment)||"",downPaymentInvoiceNumber:(null===Tt||void 0===Tt||null===(U=Tt.data)||void 0===U?void 0:U.downPaymentInvoiceNumber)||"",discountTotalAmount:(null===Tt||void 0===Tt||null===(F=Tt.data)||void 0===F?void 0:F.discountTotalAmount)||"",discountedTotalAmount:(null===Tt||void 0===Tt||null===(H=Tt.data)||void 0===H?void 0:H.discountedTotalAmount)||"",docSalesTransaction:(null===Tt||void 0===Tt||null===(Y=Tt.data)||void 0===Y?void 0:Y.docSalesTransaction)||null,docReasonStated:(null===Tt||void 0===Tt||null===(G=Tt.data)||void 0===G?void 0:G.docReasonStated)||"",MRATemplateApplied:(null===Tt||void 0===Tt||null===(K=Tt.data)||void 0===K?void 0:K.MRATemplateApplied)||!1,docTotalTaxableWithoutVatParticulars:(null===Tt||void 0===Tt||null===(z=Tt.data)||void 0===z?void 0:z.docTotalTaxableWithoutVatParticulars)||"",docTotalTaxableVatOnlyParticulars:(null===Tt||void 0===Tt||null===(Z=Tt.data)||void 0===Z?void 0:Z.docTotalTaxableVatOnlyParticulars)||"",docTotalTaxableParticulars:(null===Tt||void 0===Tt||null===(q=Tt.data)||void 0===q?void 0:q.docTotalTaxableParticulars)||"",docTotalZeroRatedParticulars:(null===Tt||void 0===Tt||null===(X=Tt.data)||void 0===X?void 0:X.docTotalZeroRatedParticulars)||"",docTotalExemptParticulars:(null===Tt||void 0===Tt||null===(Q=Tt.data)||void 0===Q?void 0:Q.docTotalExemptParticulars)||"",docTotalDisbursementParticulars:(null===Tt||void 0===Tt||null===(J=Tt.data)||void 0===J?void 0:J.docTotalDisbursementParticulars)||"",docTotalExemptBodiesParticulars:(null===Tt||void 0===Tt||null===($=Tt.data)||void 0===$?void 0:$.docTotalExemptBodiesParticulars)||"",docDisbursementParticularsData:(null===Tt||void 0===Tt||null===(ee=Tt.data)||void 0===ee?void 0:ee.docDisbursementParticularsData)||[],invJobRef:(null===Tt||void 0===Tt||null===(te=Tt.data)||void 0===te?void 0:te.invJobRef)||"",invStorageFee:(null===Tt||void 0===Tt||null===(ie=Tt.data)||void 0===ie?void 0:ie.invStorageFee)||"",invScanningFee:(null===Tt||void 0===Tt||null===(oe=Tt.data)||void 0===oe?void 0:oe.invScanningFee)||"",invGatePassFee:(null===Tt||void 0===Tt||null===(ne=Tt.data)||void 0===ne?void 0:ne.invGatePassFee)||"",invVehicleNo:(null===Tt||void 0===Tt||null===(ae=Tt.data)||void 0===ae?void 0:ae.invVehicleNo)||"",transportFees:(null===Tt||void 0===Tt||null===(le=Tt.data)||void 0===le?void 0:le.transportFees)||"",transportDesc:(null===Tt||void 0===Tt||null===(de=Tt.data)||void 0===de?void 0:de.transportDesc)||"",invApplyVat:Number((null===Tt||void 0===Tt||null===(ce=Tt.data)||void 0===ce?void 0:ce.docVatFee)||0)>0||((null===Tt||void 0===Tt||null===(re=Tt.data)||void 0===re?void 0:re.invApplyVat)||!1),docShipper:(null===Tt||void 0===Tt||null===(se=Tt.data)||void 0===se?void 0:se.docShipper)||"",docMarkNos:(null===Tt||void 0===Tt||null===(ue=Tt.data)||void 0===ue?void 0:ue.docMarkNos)||"",docCommodity:(null===Tt||void 0===Tt||null===(_e=Tt.data)||void 0===_e?void 0:_e.docCommodity)||"",docHbl:(null===Tt||void 0===Tt||null===(Ee=Tt.data)||void 0===Ee?void 0:Ee.docHbl)||"",docDepot:(null===Tt||void 0===Tt||null===(ve=Tt.data)||void 0===ve?void 0:ve.docDepot)||""})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(l.a)(r.a.mark((function e(){var t,i,o,n,l,d,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==W||!vt||!At){e.next=21;break}return e.next=3,Object(L.i)(At);case 3:if(o=e.sent,n=[],"transport"!==(null===vt||void 0===vt||null===(t=vt.data)||void 0===t?void 0:t.documentTemplate)){e.next=11;break}return e.next=8,Object(L.l)(null===vt||void 0===vt?void 0:vt.id,null===vt||void 0===vt||null===(l=vt.data)||void 0===l?void 0:l.documentTemplate);case 8:n=e.sent,e.next=17;break;case 11:if("flexitrans"!==(null===vt||void 0===vt||null===(d=vt.data)||void 0===d?void 0:d.documentTemplate)){e.next=16;break}return e.next=14,Object(L.l)(null===vt||void 0===vt?void 0:vt.id,null===vt||void 0===vt||null===(c=vt.data)||void 0===c?void 0:c.documentTemplate);case 14:s=e.sent,lt(s);case 16:n=[{rowOrder:1,rowQty:"",rowDescription:"",rowUnitPrice:"",rowAmount:"",rowSubTotalAmount:"",rowDiscountAmount:"",rowDiscountedAmount:"",rowIsVatable:"invoice"!==(null===_t||void 0===_t?void 0:_t.id)&&"cash_transaction"!==(null===_t||void 0===_t?void 0:_t.id),rowVatAmount:"",rowTotalAmount:"",rowTaxCode:null,rowNature:null,rowVatCheckBoxDisabled:!1}];case 17:u="",vt&&"flexitrans"===(null===vt||void 0===vt||null===(i=vt.data)||void 0===i?void 0:i.documentTemplate)?u="a. Cheque to be drawn in favour of FLEXITRANS LOGISTICS LTD.\nb. Payment on cash or office cheques unless otherwise agreed by management.\nc. Interest rate above 2% bank rate will be claimed on overdue A/C.\nd. If recovered through an attorney, legal fees + 10% of amount due representing attorney's commission will be claimed.":(null===vt||void 0===vt?void 0:vt.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.7",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_BUGSBEGONE_ID&&(u="Le paiement doit \xeatre fait un jour avant pour le procaine controle."),Ot(n),jt({docCompDetails:Object(a.a)({},vt),docClientDetails:Object(a.a)({},At),docCustomIdNumber:"",docBillTo:o||"",docShipTo:"",docDate:M()(new Date).format("yyyy-MM-DD"),docParticulars:n,docSubTotal:"",docVatFee:"",docTotal:"",docTermsAndCondition:u||"",docBLNumber:"",docSupplier:"",docContainerNumber:"",docPackages:"",docDescription:"",docGrossWeight:"",docVolume:"",docPortOfLoading:"",docETA:"",docVesselName:"",docRoE:"",docPlaceOfLanding:"",transactionType:JSON.parse('[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]')[0]||null,personType:null,invoiceTypeDesc:{id:"STD",type:"Standard"},invoiceRefIdentifier:"",downPayment:0,downPaymentInvoiceNumber:"",discountTotalAmount:0,discountedTotalAmount:0,docSalesTransaction:null,docReasonStated:"",docTotalTaxableWithoutVatParticulars:"",docTotalTaxableVatOnlyParticulars:"",docTotalTaxableParticulars:"",docTotalZeroRatedParticulars:"",docTotalExemptParticulars:"",docTotalDisbursementParticulars:"",docTotalExemptBodiesParticulars:"",docDisbursementParticularsData:[],docShipper:"",docMarkNos:"",docCommodity:"",docHbl:"",docDepot:"",invApplyVat:(null===vt||void 0===vt?void 0:vt.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.7",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SOREFAN_ID||"invoice"!==(null===_t||void 0===_t?void 0:_t.id)&&"cash_transaction"!==(null===_t||void 0===_t?void 0:_t.id)});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(){return Jt.apply(this,arguments)}function Jt(){return Jt=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("transport"===(null===vt||void 0===vt||null===(t=vt.data)||void 0===t?void 0:t.documentTemplate)){e.next=4;break}return ce(Object(B.d)(!0)),e.next=4,I.b.collection("company").doc(Et).collection("saved_descriptions").get().then(function(){var e=Object(l.a)(r.a.mark((function e(t){var i,o,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t||null===(i=t.docs)||void 0===i?void 0:i.length)>0?(o=[],null===t||void 0===t||t.docs.forEach((function(e){var t;o.push({id:e.id,description:(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.text)||""})})),(n=$t(o,"description")).sort(Object(L.e)("description")),je(n),ce(Object(B.d)(!1))):ce(Object(B.d)(!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){re("Error occured while fetching saved descriptions: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),ce(Object(B.d)(!1))}));case 4:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}function $t(e,t){return e.filter((function(e,i,o){return i===o.findIndex((function(i){return i[t]===e[t]}))}))}function ei(){if(Dt&&(null===Dt||void 0===Dt?void 0:Dt.length)>0){var e,t,i,o,n=0,l=0,d=0,c=0,r=0,s=0,u=0,_=0,E=0,v=0,A=0,T=0,P=[];if("transport"===(null===vt||void 0===vt||null===(e=vt.data)||void 0===e?void 0:e.documentTemplate))n+=Number(kt||0),r=n+Number(Lt||0)+Number(Vt||0)+Number(Ut||0)+Number(Nt||0),jt(Object(a.a)(Object(a.a)({},Rt),{},{docSubTotal:n,docTotal:r}));else if("smart_promote"===(null===vt||void 0===vt||null===(t=vt.data)||void 0===t?void 0:t.documentTemplate)){if((null===Dt||void 0===Dt?void 0:Dt.length)>0){var b,m=0,O=0;Dt.forEach((function(e){n+=Number((null===e||void 0===e?void 0:e.rowDiscountedAmount)||0),m+=Number((null===e||void 0===e?void 0:e.rowAmount)||0)})),(Ft||"vat_invoice"===(null===_t||void 0===_t?void 0:_t.id))&&(c=.15*Number(n),O=.15*Number(m)),b=m+O-(r=n+c),jt((function(e){return Object(a.a)(Object(a.a)({},e),{},{docSubTotal:n||0,docVatFee:c||0,docTotal:r||0,discountTotalAmount:Math.round(Number(b||0))})}))}}else Et&&'["9VNEXj9ahhngQ3U8oQ4i"]'.includes(Et)||"add"===W&&null!==vt&&void 0!==vt&&null!==(i=vt.data)&&void 0!==i&&null!==(o=i.MRATemplateFlag)&&void 0!==o&&o.value||"update"===W&&Mt?((null===Dt||void 0===Dt?void 0:Dt.length)>0&&Dt.forEach((function(e){var t,i,o,a,b;e&&null!==e&&void 0!==e&&e.rowTaxCode&&"TC01"===(null===e||void 0===e||null===(t=e.rowTaxCode)||void 0===t?void 0:t.id)?(s+=Number((null===e||void 0===e?void 0:e.rowDiscountedAmount)||0),u+=Number((null===e||void 0===e?void 0:e.rowVatAmount)||0),_+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0)):e&&null!==e&&void 0!==e&&e.rowTaxCode&&"TC02"===(null===e||void 0===e||null===(i=e.rowTaxCode)||void 0===i?void 0:i.id)?E+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0):e&&null!==e&&void 0!==e&&e.rowTaxCode&&"TC03"===(null===e||void 0===e||null===(o=e.rowTaxCode)||void 0===o?void 0:o.id)?v+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0):e&&null!==e&&void 0!==e&&e.rowTaxCode&&"TC04"===(null===e||void 0===e||null===(a=e.rowTaxCode)||void 0===a?void 0:a.id)?(A+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0),P.push({description:(null===e||void 0===e?void 0:e.rowDescription)||"",amount:(null===e||void 0===e?void 0:e.rowTotalAmount)||""})):e&&null!==e&&void 0!==e&&e.rowTaxCode&&"TC05"===(null===e||void 0===e||null===(b=e.rowTaxCode)||void 0===b?void 0:b.id)&&(T+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0)),n+=Number((null===e||void 0===e?void 0:e.rowAmount)||0),d+=Number((null===e||void 0===e?void 0:e.rowDiscountedAmount)||0),l+=Number((null===e||void 0===e?void 0:e.rowDiscountAmount)||0),c+=Number((null===e||void 0===e?void 0:e.rowVatAmount)||0),r+=Number((null===e||void 0===e?void 0:e.rowTotalAmount)||0)})),jt((function(e){return Object(a.a)(Object(a.a)({},e),{},{docSubTotal:n,discountTotalAmount:l,discountedTotalAmount:d,docVatFee:c,docTotal:r,docTotalTaxableWithoutVatParticulars:s,docTotalTaxableVatOnlyParticulars:u,docTotalTaxableParticulars:_,docTotalZeroRatedParticulars:E,docTotalExemptParticulars:v,docTotalDisbursementParticulars:A,docTotalExemptBodiesParticulars:T,docDisbursementParticularsData:P})}))):((null===Dt||void 0===Dt?void 0:Dt.length)>0&&Dt.forEach((function(e){n+=Number((null===e||void 0===e?void 0:e.rowAmount)||0)})),(Ft||"vat_invoice"===(null===_t||void 0===_t?void 0:_t.id))&&(c=.15*Number(n)),r=n+c,jt((function(e){return Object(a.a)(Object(a.a)({},e),{},{docSubTotal:n||0,docVatFee:c||0,docTotal:r||0})})))}}Object(s.useEffect)((function(){ue.current(),_e.current()}),[]),Object(s.useEffect)((function(){Ee.current()}),[W,Tt]),Object(s.useEffect)((function(){ve.current()}),[W,vt,At]),Object(s.useEffect)((function(){Ae.current()}),[W]),Object(s.useEffect)((function(){Te.current()}),[Dt,Nt,Lt,Vt,Ut,kt,Ft]),ue.current=function(){return zt.apply(this,arguments)},_e.current=function(){return Wt.apply(this,arguments)},Ee.current=function(){return Zt.apply(this,arguments)},ve.current=qt,Ae.current=Qt,Te.current=ei;var ti=function(){xe(!1),Ie(!1),Me(!1)};function ii(e){return oi.apply(this,arguments)}function oi(){return(oi=Object(l.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=Object(n.a)(Dt||[])).splice(t,1),jt(Object(a.a)(Object(a.a)({},Rt),{},{docParticulars:i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(u.a,{item:!0,xs:12,md:12,children:[Object(G.jsx)("hr",{}),Object(G.jsx)("br",{}),Object(G.jsx)(_.a,{children:"Please enter details required for the ".concat(null===_t||void 0===_t?void 0:_t.title)})]}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(E.a,{children:Object(G.jsx)(v.a,{style:{background:le&&"light"===le?"#E2F3FE":U.a.dark.background.paper},children:Object(G.jsxs)(u.a,{container:!0,spacing:3,children:[Object(G.jsx)(u.a,{item:!0,xs:12,md:7,children:Object(G.jsxs)(A.a,{spacing:3,children:[Object(G.jsx)(T.a,{variant:"outlined",name:"billTo",label:"Bill to",id:"billTo",type:"text",value:ht||"",onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docBillTo:e.target.value})}))},size:"small",fullWidth:!0,multiline:!0,minRows:5,InputProps:{className:de.input}}),Object(G.jsx)(T.a,{variant:"outlined",name:"shipTo",label:"Location",id:"shipTo",type:"text",value:ft||"",onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docShipTo:e.target.value})}))},size:"small",fullWidth:!0,multiline:!0,minRows:5,InputProps:{className:de.input}})]})}),Object(G.jsx)(u.a,{item:!0,xs:12,md:5,children:Object(G.jsxs)(u.a,{container:!0,spacing:3,children:[W&&"update"!==W?Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(J,{documentDetails:Rt,setDocumentDetails:jt,set_us_actionChoice:q,classStyle:de.multilineInput})})}):Object(G.jsx)(G.Fragment,{}),W&&"add"===W?Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(T.a,{variant:"outlined",name:"docCustomIdNumber",label:"Custom document Id number",id:"docCustomIdNumber",type:"text",value:St||"",size:"small",fullWidth:!0,onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docCustomIdNumber:e.target.value})}))},InputProps:{className:de.input}})}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(T.a,{variant:"outlined",name:"invoiceDate",label:"Date Of ".concat(null===_t||void 0===_t?void 0:_t.title),id:"invoiceDate",type:"date",value:xt||"",InputLabelProps:{shrink:!0},size:"small",fullWidth:!0,onChange:function(e){e.target.value&&jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docDate:e.target.value})}))},InputProps:{className:de.input},disabled:"update"!==W})}),null!==_t&&void 0!==_t&&_t.id&&"quotation"!==(null===_t||void 0===_t?void 0:_t.id)?Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(Q,{action:W,fieldType:"quotation",us_doc_number:ke,set_us_doc_number:Ue,classes:de,logo:We,sigImage:Qe,documentDetails:Rt,setDocumentDetails:jt})})}):"",null!==_t&&void 0!==_t&&_t.id&&"quotation"!==(null===_t||void 0===_t?void 0:_t.id)&&"purchase_order"!==(null===_t||void 0===_t?void 0:_t.id)?Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(Q,{fieldType:"purchase_order",us_doc_number:Ye,set_us_doc_number:Ge,classes:de,logo:We,sigImage:Qe,documentDetails:Rt,setDocumentDetails:jt})})}):""]})}),"quotation"!==(null===_t||void 0===_t?void 0:_t.id)?Object(G.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(P.a,{className:de.multilineInput,style:{borderRadius:"10px"},ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please define a type of transaction",id:"transaction-type-drop-down",options:JSON.parse('[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]'),value:It,renderInput:function(e){return Object(G.jsx)(T.a,Object(a.a)(Object(a.a)({},e),{},{label:"Please define a type of transaction",required:!0}))},required:!0,onChange:function(e,t,i){e.preventDefault(),"removeOption"!==i&&"clear"!==i&&t?jt(Object(a.a)(Object(a.a)({},Rt),{},{transactionType:t})):"removeOption"!==i&&"clear"!==i||jt(Object(a.a)(Object(a.a)({},Rt),{},{transactionType:null}))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.type)||""},fullWidth:!0})}):Object(G.jsx)(G.Fragment,{}),"quotation"!==(null===_t||void 0===_t?void 0:_t.id)?Object(G.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(P.a,{className:de.multilineInput,style:{borderRadius:"10px"},ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please define type of document",id:"invoice-type-drop-down",options:"vat_invoice"===(null===_t||void 0===_t?void 0:_t.id)?JSON.parse('[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]'):"proforma"===(null===_t||void 0===_t?void 0:_t.id)?JSON.parse('[{"id": "PRF","type": "Proforma"}]'):"credit_note"===(null===_t||void 0===_t?void 0:_t.id)?JSON.parse('[{"id": "CRN","type": "Credit"}]'):"debit_note"===(null===_t||void 0===_t?void 0:_t.id)?JSON.parse('[{"id": "DRN","type": "Debit"}]'):[],value:yt||null,renderInput:function(e){return Object(G.jsx)(T.a,Object(a.a)(Object(a.a)({},e),{},{label:"Please define type of document"}))},required:!0,onChange:function(e,t,i){e.preventDefault(),"removeOption"!==i&&"clear"!==i&&t?jt(Object(a.a)(Object(a.a)({},Rt),{},{invoiceTypeDesc:t})):"removeOption"!==i&&"clear"!==i||jt(Object(a.a)(Object(a.a)({},Rt),{},{invoiceTypeDesc:null}))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.type)||""},fullWidth:!0})}):Object(G.jsx)(G.Fragment,{}),!yt||"CRN"!==(null===yt||void 0===yt?void 0:yt.id)&&"DRN"!==(null===yt||void 0===yt?void 0:yt.id)?Object(G.jsx)(G.Fragment,{}):Object(G.jsxs)(G.Fragment,{children:["CRN"===(null===yt||void 0===yt?void 0:yt.id)?Object(G.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(G.jsx)(T.a,{variant:"outlined",name:"docReasonStated",label:"Reason",id:"docReasonStated",type:"text",value:wt||"",size:"small",fullWidth:!0,onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docReasonStated:e.target.value})}))},InputProps:{className:de.input}})}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(G.jsx)(b.a,{title:"This attribute defines the sequential number of an existing invoice. The attribute is mandatory if type of invoice is a Credit or a Debit",children:Object(G.jsx)(T.a,{variant:"outlined",name:"invoiceRefIdentifier",label:"Invoice Ref Identier",id:"invoiceRefIdentifier",type:"text",value:Bt||"",size:"small",fullWidth:!0,onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{invoiceRefIdentifier:e.target.value})}))},InputProps:{className:de.input}})})})]}),vt&&null!==vt&&void 0!==vt&&vt.data&&"flexitrans"===(null===vt||void 0===vt||null===(t=vt.data)||void 0===t?void 0:t.documentTemplate)?Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(ne,{classes:de,documentDetails:Rt,setDocumentDetails:jt})}):Object(G.jsx)(G.Fragment,{}),null!==vt&&void 0!==vt&&vt.id&&'["9VNEXj9ahhngQ3U8oQ4i"]'.includes(null===vt||void 0===vt?void 0:vt.id)?Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(ae,{classes:de,documentDetails:Rt,setDocumentDetails:jt})}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(m.a,{flexItem:!0})}),vt&&"transport"===(null===vt||void 0===vt||null===(i=vt.data)||void 0===i?void 0:i.documentTemplate)?Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(ee,{action:W,classes:de,companyDetails:vt,companyIdSelected:Et,documentDetails:Rt,setDocumentDetails:jt,deleteParticular:ii,originalDocParticulars:mt})}):Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)($,{companyDetails:vt,documentDetails:Rt,setDocumentDetails:jt,documentType:_t,savedDescriptions:Re,set_us_openDialog:xe,set_us_openDialogSKUCodeSearch:Ie,set_us_openDialogContractAgreementSearch:Me,handleInputChange:function(e,t,i){var l=Object(n.a)(Dt);if("rowQty"===i||"rowUnitPrice"===i||"rowDiscountAmount"===i||"rowTaxCode"===i){var d,c,r,s=0,u=0,_=0,E=0;if("rowQty"===i){var v,A=Number((null===(v=l[t])||void 0===v?void 0:v.rowUnitPrice)||0);Number(e)>=0&&A&&Number(A>0)&&(s=Number(e)*Number(A))}else if("rowUnitPrice"===i){var T,P=Number((null===(T=l[t])||void 0===T?void 0:T.rowQty)||0);P&&Number(P>0)&&(s=Number(e)*Number(P))}else if("rowDiscountAmount"===i||"rowTaxCode"===i){var b,m,O=Number((null===(b=l[t])||void 0===b?void 0:b.rowUnitPrice)||0),p=Number((null===(m=l[t])||void 0===m?void 0:m.rowQty)||0);s=Number(O)*Number(p)}if("smart_promote"===(null===vt||void 0===vt||null===(d=vt.data)||void 0===d?void 0:d.documentTemplate)){var C,R,j,S;if("rowDiscountAmount"===i)u=Number(s)-Number(e);else if(null!==(R=l[t])&&void 0!==R&&R.rowDiscountAmount&&Number(null===(j=l[t])||void 0===j?void 0:j.rowDiscountAmount)>0)u=Number(s)-Number(null===(S=l[t])||void 0===S?void 0:S.rowDiscountAmount);else u=Number(s);l[t]=Object(a.a)(Object(a.a)({},l[t]),{},(C={},Object(o.a)(C,i,e),Object(o.a)(C,"rowAmount",s),Object(o.a)(C,"rowDiscountedAmount",u),C))}else if(Et&&'["9VNEXj9ahhngQ3U8oQ4i"]'.includes(Et)||"add"===W&&null!==vt&&void 0!==vt&&null!==(c=vt.data)&&void 0!==c&&null!==(r=c.MRATemplateFlag)&&void 0!==r&&r.value||"update"===W&&Mt){var h,f,x,D,N,g,I,y=!1;if("invoice"===(null===_t||void 0===_t?void 0:_t.id)||"cash_transaction"===(null===_t||void 0===_t?void 0:_t.id))y=!1;else if("rowTaxCode"===i)y=!(!e||"TC01"!==(null===e||void 0===e?void 0:e.id));else if(void 0===(null===(h=l[t])||void 0===h?void 0:h.rowIsVatable))y=!0;else{var B;y=null===(B=l[t])||void 0===B?void 0:B.rowIsVatable}if("rowDiscountAmount"===i)u=Number(s)-Number(e);else if(null!==(N=l[t])&&void 0!==N&&N.rowDiscountAmount&&Number(null===(g=l[t])||void 0===g?void 0:g.rowDiscountAmount)>0)u=Number(s)-Number(null===(I=l[t])||void 0===I?void 0:I.rowDiscountAmount);else u=Number(s);E=y?(_=.15*Number(u))+u:u;var w={rowIsVatable:y,rowAmount:s,rowDiscountedAmount:u,rowVatAmount:_,rowTotalAmount:E};w="rowTaxCode"===i?e&&null!==e&&void 0!==e&&e.id?Object(a.a)(Object(a.a)({},w),{},{rowVatCheckBoxDisabled:!0}):Object(a.a)(Object(a.a)({},w),{},{rowVatCheckBoxDisabled:!1}):null!==(f=l[t])&&void 0!==f&&f.rowTaxCode&&null!==(x=l[t])&&void 0!==x&&null!==(D=x.rowTaxCode)&&void 0!==D&&D.id?Object(a.a)(Object(a.a)({},w),{},{rowVatCheckBoxDisabled:!0}):Object(a.a)(Object(a.a)({},w),{},{rowVatCheckBoxDisabled:!1}),l[t]=Object(a.a)(Object(a.a)({},l[t]),{},Object(o.a)({},i,e),w)}else{var M;E="invoice"!==(null===_t||void 0===_t?void 0:_t.id)?(_=.15*Number(s))+Number(s):Number(s),l[t]=Object(a.a)(Object(a.a)({},l[t]),{},(M={},Object(o.a)(M,i,e),Object(o.a)(M,"rowAmount",s),Object(o.a)(M,"rowVatAmount",_),Object(o.a)(M,"rowTotalAmount",E),M))}}else l[t]=Object(a.a)(Object(a.a)({},l[t]),{},Object(o.a)({},i,e));jt((function(e){return Object(a.a)(Object(a.a)({},e),{},{docParticulars:l})})),"rowQty"!==i&&"rowUnitPrice"!==i&&"rowDiscountAmount"!==i&&"rowTaxCode"!==i||ei()},handleOrderChange:function(e,t){var i=Object(n.a)(Dt||[]),o=Number(e||0);i[t]=Object(a.a)(Object(a.a)({},i[t]),{},{rowOrder:o}),i.sort(Object(L.e)("rowOrder")),jt(Object(a.a)(Object(a.a)({},Rt),{},{docParticulars:i}))},handleIsVatableChange:function(e,t){var i,o,l,d=Object(n.a)(Dt||[]),c=0,r=0,s=0;c=null!==(i=d[e])&&void 0!==i&&i.rowDiscountedAmount?Number((null===(o=d[e])||void 0===o?void 0:o.rowDiscountedAmount)||0):Number((null===(l=d[e])||void 0===l?void 0:l.rowAmount)||0),s=t?(r=.15*Number(c))+c:c,d[e]=Object(a.a)(Object(a.a)({},d[e]),{},{rowIsVatable:t,rowDiscountedAmount:c,rowVatAmount:r,rowTotalAmount:s}),jt((function(e){return Object(a.a)(Object(a.a)({},e),{},{docParticulars:d})})),ei()},deleteParticular:ii,setSelectedRowIndex:Oe,action:W,companyMRATemplateFlag:null===vt||void 0===vt||null===(c=vt.data)||void 0===c||null===(w=c.MRATemplateFlag)||void 0===w?void 0:w.value,documentMRATemplateApplied:Mt,displayDiscountColumns:tt,set_displayDiscountColumns:it,defaultParticularOptions:at})}),Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(te,{documentType:_t,documentDetails:Rt,action:W,companyMRATemplateFlag:null===vt||void 0===vt||null===(H=vt.data)||void 0===H||null===(Y=H.MRATemplateFlag)||void 0===Y?void 0:Y.value,documentMRATemplateApplied:Mt,companyId:null===vt||void 0===vt?void 0:vt.id,inputClass:de.input,setDocumentDetails:jt,documentTemplate:(null===vt||void 0===vt||null===(z=vt.data)||void 0===z?void 0:z.documentTemplate)||"",displayDiscountColumns:tt,calculateTotal:ei})}),"add"===W&&"proforma"===(null===_t||void 0===_t?void 0:_t.id)&&(null===vt||void 0===vt?void 0:vt.id)===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.7",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_CUSTOM_SMART_PROMOTE_ID?Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(u.a,{container:!0,spacing:3,children:Object(G.jsx)(u.a,{item:!0,xs:12,md:3,children:Object(G.jsx)(T.a,{variant:"outlined",name:"partialPaymentAmount",label:"Partial payment amount",id:"partialPaymentAmount",type:"text",value:rt||"",onChange:function(e){st(e.target.value)},size:"small",fullWidth:!0,InputProps:{className:de.input}})})})}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(u.a,{item:!0,xs:12,md:4,children:Object(G.jsx)(T.a,{variant:"outlined",name:"termsAndCondition",label:"Terms and condition",id:"termsAndCondition",type:"text",value:gt||"",onChange:function(e){jt((function(t){return Object(a.a)(Object(a.a)({},t),{},{docTermsAndCondition:e.target.value})}))},size:"small",fullWidth:!0,multiline:!0,minRows:5,InputProps:{className:de.input}})}),Object(G.jsx)(u.a,{item:!0,xs:12,md:12,style:{width:"100%"},children:Object(G.jsxs)(A.a,{spacing:3,direction:"row",children:[W&&"add"===W?Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(ie,{originalDocParticulars:mt,documentDetails:Rt,us_s_quotationNumber:ke,us_s_purchaseOrderNumber:Ye,set_us_showViewDocument:Kt,refreshTable:qt,fetchDescription:Qt,displayDiscountColumns:tt,partialPaymentAmount:rt})}):W&&"update"===W?Object(G.jsx)(s.Suspense,{fallback:Object(G.jsx)(G.Fragment,{}),children:Object(G.jsx)(oe,{updateDocumentData:Tt,documentDetails:Rt,us_s_quotationNumber:ke,us_s_purchaseOrderNumber:Ye,handleCloseUpdateDialog:Z,displayDiscountColumns:tt})}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){var e;Kt({showViewButton:!1,savedDocument:null}),null===(e=se.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},fullWidth:!0,style:{display:null!==Gt&&void 0!==Gt&&Gt.showViewButton?"":"none"},children:"Create new ".concat(null===_t||void 0===_t?void 0:_t.title)}),Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){q("view")},fullWidth:!0,style:{display:null!==Gt&&void 0!==Gt&&Gt.showViewButton?"":"none"},children:"View ".concat(null===_t||void 0===_t?void 0:_t.title)})]})})]})})})}),ge?Object(G.jsx)(K,{open:ge,handleCloseDialog:ti,documentDetails:Rt,setDocumentDetails:jt,selectedRowIndex:me}):Object(G.jsx)(G.Fragment,{}),we?Object(G.jsx)(X,{open:we,handleCloseDialog:ti,documentDetails:Rt,setDocumentDetails:jt,selectedRowIndex:me,logo:We,sigImage:Qe}):Object(G.jsx)(G.Fragment,{}),fe?Object(G.jsxs)(p.a,{open:fe,maxWidth:"sm",fullWidth:!0,children:[Object(G.jsx)(C.a,{children:"Saved description"}),Object(G.jsxs)(R.a,{children:[Object(G.jsx)("br",{}),Object(G.jsx)(u.a,{container:!0,spacing:3,children:Object(G.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(G.jsx)(j.a,{children:Object(G.jsxs)(S.a,{border:1,children:[Object(G.jsx)(h.a,{children:Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{size:"small",children:"Description"}),Object(G.jsx)(x.a,{size:"small",children:"Action"})]})}),Object(G.jsx)(D.a,{children:null===Re||void 0===Re?void 0:Re.map((function(e,t){return Object(G.jsxs)(f.a,{children:[Object(G.jsx)(x.a,{size:"small",children:Object(G.jsx)(_.a,{children:null===e||void 0===e?void 0:e.description})}),Object(G.jsx)(x.a,{size:"small",children:Object(G.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return function(e){if(null!==me){var t,i=Object(n.a)(Dt||[]),o=((null===(t=i[me])||void 0===t?void 0:t.rowDescription)||"")+e||"";i[me]=Object(a.a)(Object(a.a)({},i[me]),{},{rowDescription:o}),jt(Object(a.a)(Object(a.a)({},Rt),{},{docParticulars:i})),ti()}}(null===e||void 0===e?void 0:e.description)},children:"select"})})]},t)}))})]})})})})]}),Object(G.jsx)(N.a,{children:Object(G.jsx)(O.a,{variant:"contained",color:"error",onClick:function(){return ti()},children:"cancel"})})]}):Object(G.jsx)(G.Fragment,{})]})}}}]);
//# sourceMappingURL=6.afa72f81.chunk.js.map