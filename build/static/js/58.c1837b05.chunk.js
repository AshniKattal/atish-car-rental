(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[58,92],{1586:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(7),r=a(18),c=a(3),o=a.n(c),l=a(1402),s=a(1410),d=a(1418),u=a(130),_=a(286),E=a(1868),m=a(1881),O=a(1866),A=a(1550),b=a(147),j=a(1519),T=a(1489),P=a(1497),p=a(1537),C=a(1538),h=a(1539),R=a(1540),v=a(1419),f=a(705),x=a(4),S=a(48),g=a(155),N=a(1486),y=a(52),I=a(158),D=a(77),B=a(120),L=a(472),M=a(0),w=Object(N.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},indeterminateColor:{color:e.palette.primary}}}));function k(e){switch(e){case 0:return"Tell us about your business";case 1:return"Enter your business contact information";case 2:return"You are all done!";default:return"Unknown stepIndex"}}t.default=function(e){e.companyId;var t=e.openDialog,a=e.handleCloseDialog,c=e.clientDetails,N=e.setClientDetails,V=e.initializeClientList,U=Object(B.b)().enqueueSnackbar,Y=c.name,H=c.companyRefId,F=c.companyRefName,K=c.companyType,z=c.tan,G=c.address,W=c.email,Z=c.email2,q=c.email3,X=c.email4,J=c.contactNumber,Q=c.mobileNumber,$=c.brn,ee=c.nic,te=c.buyerType,ae=c.representativeName,ne=c.representativeContactNumber,ie=w(),re=Object(y.b)(),ce=Object(y.c)(I.c),oe=Object(x.useState)(0),le=Object(r.a)(oe,2),se=le[0],de=le[1],ue=["Tell us","Contact Info","Save & Finish"],_e=Object(x.useState)({errorBool:!1,errorMsg:""}),Ee=Object(r.a)(_e,2),me=Ee[0],Oe=Ee[1],Ae=me.errorBool,be=me.errorMsg,je=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(Object(D.d)(!0)),e.next=4,S.b.collection("company").doc("5HAEgHE1kKox9ZdweP3I").collection("client").add({name:Y||"",companyRefId:H||"",companyRefName:F||"",companyType:K||"",tan:z||"",address:G||"",email:W||"",email2:Z||"",email3:q||"",email4:X||"",contactNumber:J||"",mobileNumber:Q||"",brn:$||"",nic:ee||"",buyerType:te||null,representativeName:ae||"",representativeContactNumber:ne||"",timestamp:g.a.firestore.FieldValue.serverTimestamp()}).then((function(){U("Client added successfully"),re(Object(D.d)(!1)),re(Object(L.g)(void 0)),re(Object(L.f)(null)),re(Object(L.c)(void 0)),re(Object(L.d)(void 0)),a(),V&&V()})).catch((function(e){U("Error occured while adding client: ".concat(null===e||void 0===e?void 0:e.message)),re(Object(D.d)(!1))}));case 4:e.next=7;break;case 6:re(Object(I.d)({counter:ce.counter+1,message:"Your session has been terminated due to greater than 30 minutes of inactivity. Please log in again.",variant:"error"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{style:{width:"100%"},maxWidth:"md",fullWidth:!0,open:t,onClose:a,children:[Object(M.jsx)(s.a,{id:"alert-dialog-title",children:"Create a company"}),Object(M.jsxs)(d.a,{style:{height:"auto"},children:[Object(M.jsxs)(u.a,{container:!0,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(_.a,{variant:"h6",align:"left",color:"primary",children:k(se)})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)("div",{className:ie.root,children:Object(M.jsx)(E.a,{activeStep:se,alternativeLabel:!0,children:ue.map((function(e){return Object(M.jsx)(m.a,{children:Object(M.jsx)(O.a,{children:e})},e)}))})})})]}),Object(M.jsx)(A.a,{variant:"filled",severity:"error",style:{display:Ae?"":"none"},children:be}),Object(M.jsxs)("div",{style:{display:0===se?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(u.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"Name",type:"text",id:"name",size:"small",value:Y||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{name:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(j.a,{size:"small",variant:"outlined",fullWidth:!0,children:Object(M.jsxs)(T.a,{size:"small",native:!0,placeholder:"Please choose a company type",value:K||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{companyType:e.target.value}))},inputProps:{name:"companyType",id:"companyType"},children:[Object(M.jsx)("option",{value:"",children:"Please choose a Company Type"}),Object(M.jsx)("option",{value:"Individual",children:"Individual"}),Object(M.jsx)("option",{value:"Company",children:"Company"}),Object(M.jsx)("option",{value:"Other",children:"Other"})]})})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"tan",label:"VAT",type:"number",id:"tan",value:z||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{tan:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{variant:"outlined",size:"small",fullWidth:!0,name:"brn",label:"BRN",type:"text",id:"brn",value:$||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{brn:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{variant:"outlined",size:"small",fullWidth:!0,name:"nic",label:"NIC",type:"text",id:"nic",value:ee||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{nic:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(P.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please define type of buyer",id:"buyer-type-drop-down",options:JSON.parse('[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]'),value:te,renderInput:function(e){return Object(M.jsx)(b.a,Object(n.a)(Object(n.a)({},e),{},{label:"Please define type of buyer"}))},onChange:function(e,t,a){e.preventDefault(),"removeOption"!==a&&"clear"!==a&&t?N(Object(n.a)(Object(n.a)({},c),{},{buyerType:t})):"removeOption"!==a&&"clear"!==a||N(Object(n.a)(Object(n.a)({},c),{},{buyerType:null}))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.title)||""},fullWidth:!0})})]})]}),Object(M.jsxs)("div",{style:{display:1===se?"":"none"},children:[Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsxs)(u.a,{container:!0,spacing:3,style:{marginTop:"1em"},children:[Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"address",label:"Address",type:"text",id:"address",value:G||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{address:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"contactNumber",label:"Contact Number",type:"text",id:"contactNumber",value:J||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{contactNumber:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"mobileNumber",label:"Mobile Number",type:"text",id:"mobileNumber",value:Q||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{mobileNumber:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email",label:"Email 1",type:"text",id:"email",value:W||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{email:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email2",label:"Email 2",type:"text",id:"email2",value:Z||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{email2:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email3",label:"Email 3",type:"text",id:"email3",value:q||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{email3:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"email4",label:"Email 4",type:"text",id:"email4",value:X||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{email4:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeName",label:"Representative name",type:"text",id:"representativeName",value:ae||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{representativeName:e.target.value}))}})}),Object(M.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsx)(b.a,{size:"small",variant:"outlined",fullWidth:!0,name:"representativeContactNumber",label:"Representative contact number",type:"text",id:"representativeContactNumber",value:ne||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},c),{},{representativeContactNumber:e.target.value}))}})})]})]}),Object(M.jsx)("div",{style:{display:2===se?"":"none",width:"100%",height:"100%"},children:Object(M.jsx)(p.a,{children:Object(M.jsxs)(C.a,{children:[Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Name:"}),Object(M.jsx)(R.a,{children:Y||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Company Type:"}),Object(M.jsx)(R.a,{children:K||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"VAT:"}),Object(M.jsx)(R.a,{children:z||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"BRN:"}),Object(M.jsx)(R.a,{children:$||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"NIC:"}),Object(M.jsx)(R.a,{children:ee||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Address:"}),Object(M.jsx)(R.a,{children:G||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Contact Number:"}),Object(M.jsx)(R.a,{children:J||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Mobile Number:"}),Object(M.jsx)(R.a,{children:Q||""})]}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(R.a,{children:"Email:"}),Object(M.jsx)(R.a,{children:W||""})]})]})})})]}),Object(M.jsxs)(v.a,{children:[Object(M.jsx)("div",{children:se===ue.length?Object(M.jsxs)("div",{children:[Object(M.jsx)(_.a,{className:ie.instructions,children:"All steps completed"}),Object(M.jsx)(f.a,{onClick:function(){de(0)},children:"Reset"})]}):Object(M.jsxs)("div",{children:[Object(M.jsx)(f.a,{disabled:0===se,onClick:function(){de((function(e){return e-1}))},className:ie.backButton,variant:"outlined",children:"Back"}),Object(M.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){0===se?""===Y?Oe({errorBool:!0,errorMsg:"Please enter a name"}):(Oe({errorBool:!1,errorMsg:""}),de((function(e){return e+1}))):2===se?(Oe({errorBool:!1,errorMsg:""}),je(),de(0)):(Oe({errorBool:!1,errorMsg:""}),de((function(e){return e+1})))},className:ie.backButton,children:se===ue.length-1?"Save":"Next"})]})}),Object(M.jsx)(f.a,{onClick:a,color:"error",variant:"outlined",children:"Cancel"})]})]})})}},1820:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return B}));var n=a(9),i=a(7),r=a(18),c=a(3),o=a.n(c),l=a(1514),s=a(130),d=a(286),u=a(1497),_=a(147),E=a(705),m=a(1473),O=a(120),A=a(4),b=a(52),j=a(156),T=a(472),P=a(77),p=a(48),C=a(68),h=a.n(C),R=a(1586),v=a(1865),f=a(155),x=a(251),S=a(72),g=a(84),N=a(287),y=a(0),I=Object(A.lazy)((function(){return Promise.all([a.e(1),a.e(37)]).then(a.bind(null,1547))})),D=Object(A.lazy)((function(){return a.e(46).then(a.bind(null,1767))}));function B(){var e=Object(g.a)().themeStretch,t=Object(S.a)().user,a=Object(O.b)().enqueueSnackbar,c=Object(b.b)(),C=Object(A.useRef)(),B=Object(b.c)(T.b),L=B.companyDetails,M=B.clientList,w=Object(b.c)(j.c).companyList,k=Object(A.useState)(null),V=Object(r.a)(k,2),U=V[0],Y=V[1],H=Object(A.useState)([]),F=Object(r.a)(H,2),K=F[0],z=F[1],G=Object(A.useState)(!1),W=Object(r.a)(G,2),Z=W[0],q=W[1],X=Object(A.useState)(""),J=Object(r.a)(X,2),Q=J[0],$=J[1],ee=Object(A.useState)(!1),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ie=new Date;ie.setMonth(ie.getMonth()-5);var re=Object(A.useState)(ie),ce=Object(r.a)(re,2),oe=ce[0],le=ce[1],se=Object(A.useState)(new Date),de=Object(r.a)(se,2),ue=de[0],_e=de[1],Ee=Object(A.useState)(""),me=Object(r.a)(Ee,2),Oe=me[0],Ae=me[1],be=Object(A.useRef)(),je=Object(A.useRef)(),Te=Object(A.useState)(!1),Pe=Object(r.a)(Te,2),pe=Pe[0],Ce=Pe[1];Object(A.useEffect)((function(){je.current()}),[L]),je.current=function(){var e,n,i;L&&null!==L&&void 0!==L&&L.id&&(null!==t&&void 0!==t&&null!==(e=t.permissions)&&void 0!==e&&null!==(n=e.viewAllClientSurveyChk)&&void 0!==n&&null!==(i=n.assignedCompanyId)&&void 0!==i&&i.includes(null===L||void 0===L?void 0:L.id)?Ce(!0):(a("You do not have the permission to view this custom feature for this company",{variant:"error"}),Ce(!1)))};var he=Object(A.useState)({id:"",companyRefId:(null===L||void 0===L?void 0:L.id)||"",companyRefName:L&&(null===L||void 0===L?void 0:L.name)||"",name:"",companyType:"",tan:"",address:"",contactNumber:"",email:"",brn:"",nic:""}),Re=Object(r.a)(he,2),ve=Re[0],fe=Re[1],xe=Object(A.useState)({surveyNumber:"",customerName:"",address:"",email:"",phone:"",time:"",controlOf:{ants:!1,geckos:!1,lizard:!1,spiders:!1,rodent:!1,woodworm:!1,pigeon:!1,cockroaches:!1,fleas:!1,mosquitoes:!1,bedbugs:!1,termite:!1,snake:!1},otherControlOf:"",infestation:{slight:!1,moderate:!1,severe:!1},infestationNote:"",typeOfCockroach:"",typeOfTermite:"",typeOfTermiteBait:"",typeOfTermiteTotal:"",solTreatmentmeter:"",solTreatmentFt:"",solTreatmentUnitPrice:"",solTreatmentTotal:"",controlVector:{fumigation:!1,mistingControl:!1,lightSpraying:!1},locationTreated:{house:!1,restaurant:!1,villa:!1,shop:!1,stroes:!1,snack:!1,school:!1},otherLocationTreated:"",rodentBox:"",recommendation:{contratOneYear:!1,serviceOneOff:!1},evaluationPieces:"",estimateAmount:"",preparedBy:"",preparedByName:"",clientSig:"",clientSigName:"",serviceCarriesAt:"",timeIn:"",timeOut:"",routine:{complaint:"",job:"",initialFlushOut:"",spotCheck:""},findings:"",recommendationServiceReport:"",technicianSig:"",signatureDate:""}),Se=Object(r.a)(xe,2),ge=Se[0],Ne=Se[1],ye=[{id:"list",label:"List"},{id:"view",label:"View"},{id:"update",label:"Update"},{id:"delete",label:"Delete"},{id:"dateCreated",label:"Date created"},{id:"id",label:"".concat(null===U||void 0===U?void 0:U.title," Number")},{id:"customerName",label:"Customer"},{id:"status",label:"Status"},{id:"viewDownloadPdf",label:"PDF"},{id:"sendEmail",label:"Send email to client"}];function Ie(){return(Ie=Object(i.a)(o.a.mark((function e(){var t,a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===L||void 0===L||null===(t=L.data)||void 0===t||!t.imageUrl||""===(null===L||void 0===L||null===(a=L.data)||void 0===a?void 0:a.imageUrl)){e.next=7;break}return c(Object(P.d)(!0)),e.next=4,De(null===L||void 0===L||null===(n=L.data)||void 0===n?void 0:n.imageUrl);case 4:i=e.sent,Ae(i),c(Object(P.d)(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}return e.abrupt("return","");case 4:return e.prev=4,e.next=7,fetch(t);case 7:return a=e.sent,e.next=10,a.blob();case 10:return n=e.sent,e.abrupt("return",new Promise((function(e){var t=new FileReader;t.readAsDataURL(n),t.onloadend=function(){var a=t.result;e(a)}})));case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}Object(A.useEffect)((function(){be.current()}),[L]),Object(A.useEffect)((function(){C.current()}),[L,U,oe,ue]),be.current=function(){return Ie.apply(this,arguments)};function Le(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b.collection("company").doc("5HAEgHE1kKox9ZdweP3I").collection("client").orderBy("name","asc").get().then((function(e){var t;if((null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0){var a=[];null===e||void 0===e||e.docs.forEach((function(e){var t;a.push({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.name,data:Object(n.a)({},null===e||void 0===e?void 0:e.data())})})),c(Object(T.e)(a)),c(Object(P.d)(!1))}else c(Object(T.e)([])),c(Object(P.d)(!1))})).catch((function(e){a("Error occured while fetching clients: ".concat(null===e||void 0===e?void 0:e.message)),c(Object(P.d)(!1))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C.current=function(){L&&U&&oe&&ue&&ke(L.id,null===U||void 0===U?void 0:U.id)};var we=function(){var e=Object(i.a)(o.a.mark((function e(t,a,n,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"removeOption"!==n&&"clear"!==n&&a?"company"===i?(c(Object(T.g)(a.id)),c(Object(T.f)(a)),Le(a.id)):"documentType"===i&&Y(a):"removeOption"!==n&&"clear"!==n||("company"===i?(c(Object(T.g)(void 0)),c(Object(T.f)(null)),c(Object(T.e)([]))):"documentType"===i&&$(null));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,i){return e.apply(this,arguments)}}(),ke=function(){var e=Object(i.a)(o.a.mark((function e(t,i){var r,l,s,d,u,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(new Date(oe)>new Date(ue))){e.next=5;break}a("Date incorrect. To Date cannot be before From Date.",{variant:"error"}),c(Object(P.d)(!1)),e.next=14;break;case 5:return c(Object(P.d)(!0)),r=oe.toISOString(),l=r.split("T"),s=ue.toISOString(),d=s.split("T"),u=new Date("".concat(l[0],"T00:00:00.000Z")),_=new Date("".concat(d[0],"T23:59:59.000Z")),e.next=14,p.b.collection("company").doc(t).collection(i).where("dateCreated",">=",f.a.firestore.Timestamp.fromDate(u)).where("dateCreated","<=",f.a.firestore.Timestamp.fromDate(_)).get().then((function(e){var t;if(null!==e&&void 0!==e&&e.docs&&(null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.length)>0){var a=[];null===e||void 0===e||e.docs.forEach((function(e){var t,i,r,c;"documentIndex"!==(null===e||void 0===e?void 0:e.id)&&a.push({data:Object(n.a)({},null===e||void 0===e?void 0:e.data()),dateCreated:null!==e&&void 0!==e&&null!==(t=e.data())&&void 0!==t&&t.dateCreated?h()(null===e||void 0===e||null===(i=e.data())||void 0===i?void 0:i.dateCreated.toDate()).format("DD-MM-YYYY HH:mm:ss"):"",id:null===e||void 0===e?void 0:e.id,customerName:(null===e||void 0===e||null===(r=e.data())||void 0===r?void 0:r.customerName)||"",status:(null===e||void 0===e||null===(c=e.data())||void 0===c?void 0:c.status)||"Pending",viewDownloadPdf:"",sendEmail:""})})),a.sort(Object(x.f)("id")),z(a),c(Object(P.d)(!1))}else z([]),c(Object(P.d)(!1))}));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ve=function(){q(!1),Ne({surveyNumber:"",customerName:"",address:"",email:"",phone:"",serviceCarriesAt:"",time:"",controlOf:{ants:!1,geckos:!1,lizard:!1,spiders:!1,rodent:!1,woodworm:!1,pigeon:!1,cockroaches:!1,fleas:!1,mosquitoes:!1,bedbugs:!1,termite:!1,snake:!1},otherControlOf:"",infestation:{slight:!1,moderate:!1,severe:!1},infestationNote:"",typeOfCockroach:"",typeOfTermite:"",typeOfTermiteBait:"",typeOfTermiteTotal:"",solTreatmentmeter:"",solTreatmentFt:"",solTreatmentUnitPrice:"",solTreatmentTotal:"",controlVector:{fumigation:!1,mistingControl:!1,lightSpraying:!1},locationTreated:{house:!1,restaurant:!1,villa:!1,shop:!1,stroes:!1,snack:!1,school:!1},otherLocationTreated:"",rodentBox:"",recommendation:{contratOneYear:!1,serviceOneOff:!1},evaluationPieces:"",estimateAmount:"",preparedBy:"",clientSigName:"",clientSig:"",signatureDate:""})},Ue=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(Object(P.d)(!0)),!(n=U.id)){e.next=5;break}return e.next=5,p.b.collection("company").doc(null===L||void 0===L?void 0:L.id).collection(n).doc(t).delete().then(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke(null===L||void 0===L?void 0:L.id,null===U||void 0===U?void 0:U.id),c(Object(P.d)(!1));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){a("Error occured while deleting ".concat((null===U||void 0===U?void 0:U.title)||"",": ").concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),c(Object(P.d)(!1))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(N.a,{title:"Bugs Be Gone custom",children:Object(y.jsxs)(l.a,{maxWidth:!e&&"xl",children:[Object(y.jsxs)(s.a,{container:!0,spacing:3,children:[Object(y.jsx)(s.a,{item:!0,xs:12,md:12,children:Object(y.jsx)(d.a,{variant:"h5",children:"Bugs Be Gone Custom documents"})}),Object(y.jsx)(s.a,{item:!0,xs:12,md:4,children:Object(y.jsx)(u.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please choose a company",id:"company-drop-down",options:w||[],value:L||null,renderInput:function(e){return Object(y.jsx)(_.a,Object(n.a)(Object(n.a)({},e),{},{label:"Please choose a company",InputLabelProps:{required:!0}}))},required:!0,onChange:function(e,t,a){return we(e,t,a,"company")},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.name)||""}})}),L&&pe?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.a,{item:!0,xs:12,md:4,children:Object(y.jsx)(u.a,{ListboxProps:{style:{maxHeight:"70vh"}},size:"small",label:"Please choose type of document",id:"document-drop-down",options:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_DOCUMENT_TYPE_OPTIONS&&JSON.parse(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROTECTED_COMPANY:"d49MsS8JbYcUnff60n0E",REACT_APP_PROTECTED_USER:"Baelzs07ToMHTlIPzsHqjMZLBL72",REACT_APP_CUSTOM_REQUIREMENT_WORLDLINK_EXAMPLE:'["9VNEXj9ahhngQ3U8oQ4i"]',REACT_APP_EBS_MRA_ID:"17128123218161EW4CBZY12Y",REACT_APP_EBS_MRA_USERNAME:"Oudish",REACT_APP_EBS_MRA_PASSWORD:"Ash124Ash124",REACT_APP_EBS_MRA_REFRESH_TOKEN_PARAM:"FALSE",REACT_APP_EBS_MRA_TOKEN_ENDPOINT:"https://vfisc.mra.mu/einvoice-token-service/token-api/generate-token",REACT_APP_EBS_TRANSACTION_TYPES:'[{"id": "B2B","type": "(B2B) Business to Business"},{"id": "B2G","type": "(B2G) Business to Government"},{"id": "B2C","type": "(B2C) Business to Consumer"},{"id": "EXP","type": "(EXP) Zero rated supplies - Exports"},{"id": "B2E","type": "(B2E) Taxable supplies made to exempt bodies or persons"}]',REACT_APP_EBS_VAT_OR_NON_VAT_REGISTERED_VALUES:'[{"id":"VATR","title":"VAT Registered"},{"id":"NVTR","title":"Non VAT Registered"}]',REACT_APP_EBS_BUYER_TYPE_VALUES:'[{"id":"VATR","title":"VAT Registered Person"},{"id":"NVTR","title":"Non VAT Registered Person"},{"id":"EXMP","title":"Exempt Person"}]',REACT_APP_EBS_TAX_CODE_VALUES:'[{"id":"TC01","title":"(T) Taxable rate - 15%"},{"id":"TC02","title":"(Z) Zero rated"},{"id":"TC03","title":"(E) Exempt"},{"id":"TC04","title":"(D - Disbursement) Non fiscal items not affecting turnover"},{"id":"TC05","title":"(TEB) Standard rated supplies made to exempt bodies or persons"}]',REACT_APP_EBS_NATURE_VALUES:'[{"id":"GOODS","title":"Goods"},{"id":"SERVICES","title":"Services"}]',REACT_APP_EBS_SALES_TRANSACTION_VALUES:'[{"id":"CASH","title":"CASH (Cash/Bank Transfers/Cheques/Cards/Other)"},{"id":"CREDIT","title":"Credit"}]',REACT_APP_PARTICULAR_DESC_OPTIONS:'["Gate Pass", "Landing Charges"]',REACT_APP_EBS_INVOICE_TYPE_DESC_INVOICE:'[{"id": "STD","type": "Standard"},{"id": "TRN","type": "Training"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_CREDIT_NOTE:'[{"id": "CRN","type": "Credit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_DEBIT_NOTE:'[{"id": "DRN","type": "Debit"}]',REACT_APP_EBS_INVOICE_TYPE_DESC_PROFORMA:'[{"id": "PRF","type": "Proforma"}]',REACT_APP_DOCUMENT_TEMPLATES:'["std", "transport", "slarks", "smart_promote", "flexitrans"]',REACT_APP_EMAILJS_PUBLIC_KEY:"GSb72AhjTKPF-1qEF",REACT_APP_CONVERT_API_SECRET:"13cZcSaMcOWpV9lI",REACT_APP_ADMIN_EMAIL:"contact@fertositeweb.com",REACT_APP_ADMIN_EMAIL_SERVICE_KEY:"service_4u2qlcp",REACT_APP_REGISTRATION_FORM_TEMPLATE_KEY:"template_gtoask8",REACT_APP_INQUIRY_FORM_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_SOA_TEMPLATE_KEY:"template_0p7wave",REACT_APP_SOFTWARE_NAME:"Reaching Heights Ltd",REACT_APP_OWNER_CAR_RENTAL_ATISH:"carrentalatish",REACT_APP_OWNER:"carrentalatish",REACT_APP_VERSION:"4.1.8",REACT_APP_API_KEY:"AIzaSyDYknQfnmlUF6VJPhU9d0yFgf1ZKmGtuEA",REACT_APP_AUTH_DOMAIN:"car-rental-39926.firebaseapp.com",REACT_APP_PROJECT_ID:"car-rental-39926",REACT_APP_STORAGE_BUCKET:"car-rental-39926.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"398655009731",REACT_APP_APP_ID:"1:398655009731:web:fa32fd1360970c0f1e8376",REACT_APP_MEASUREMENT_ID:"G-68J9VBEQEP",REACT_APP_DISTRICT:'["Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Rivi\xe8re du Rempart","Rivi\xe8re Noire","Savanne"]',REACT_APP_GOOGLE_MAP_API_KEY:"AIzaSyAuUzKzg8D3zZkgeEz7oXFwBDnMulZX26I",REACT_APP_COLLECTION_STORES:"stores",REACT_APP_COLLECTION_SERVICES:"services",REACT_APP_COLLECTION_VEHICLES:"vehicles",REACT_APP_CURRENCY_USED:"\u20ac",REACT_APP_ICON_180:"/favicon/carrental/apple-touch-icon.png",REACT_APP_ICON_32:"/favicon/carrental/favicon-32x32.png",REACT_APP_ICON_16:"/favicon/carrental/favicon-16x16.png",REACT_APP_TITLE:"Reaching Heights Ltd",REACT_APP_DESCRIPTION:"Car Rental platform",REACT_APP_KEYWORDS:"Reaching Heights Ltd,RHL,car-rental,Car Rental",REACT_APP_AUTHOR:"Reaching Heights Ltd",REACT_APP_RHL_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_ID:"5HAEgHE1kKox9ZdweP3I",REACT_APP_COMPANY_NAME:"REACHING HEIGHTS LTD",REACT_APP_SERVICE_KEY:"service_ishhonm",REACT_APP_TEMPLATE_KEY:"template_u6twrz9",REACT_APP_EMAIL:"info@reachingheightsltd.com",REACT_APP_LIGHTER:"#B3C3E8",REACT_APP_LIGHT:"#5381ED",REACT_APP_MAIN:"#333333",REACT_APP_DARK:"#1441A8",REACT_APP_DARKER:"#0D2A6E"}).REACT_APP_DOCUMENT_TYPE_OPTIONS)||[],value:U||null,renderInput:function(e){return Object(y.jsx)(_.a,Object(n.a)(Object(n.a)({},e),{},{label:"Please choose type of document",InputLabelProps:{required:!0}}))},required:!0,onChange:function(e,t,a){return we(e,t,a,"documentType")},getOptionLabel:function(e){return e.title||""}})}),Object(y.jsx)(s.a,{item:!0,xs:12,md:3,children:Object(y.jsx)(E.a,{variant:"outlined",color:"primary",onClick:function(){return ne(!0)},children:"Add new client"})}),U?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(s.a,{item:!0,xs:12,md:12,children:[Object(y.jsx)("hr",{}),Object(y.jsx)("br",{}),Object(y.jsx)(d.a,{children:"Please choose a date"})]}),Object(y.jsx)(s.a,{item:!0,xs:12,md:12,style:{width:"100%"},children:Object(y.jsxs)(m.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(y.jsx)(v.a,{label:"From",value:oe||"",onChange:function(e){le(e)},renderInput:function(e){return Object(y.jsx)(_.a,Object(n.a)(Object(n.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"}),Object(y.jsx)(v.a,{label:"To",value:ue||"",onChange:function(e){_e(e)},renderInput:function(e){return Object(y.jsx)(_.a,Object(n.a)(Object(n.a)({},e),{},{size:"small"}))},inputFormat:"dd/MM/yyyy"})]})})]}):Object(y.jsx)(y.Fragment,{})]}):Object(y.jsx)(y.Fragment,{}),L&&U?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(s.a,{item:!0,xs:12,md:12,children:Object(y.jsx)(A.Suspense,{fallback:Object(y.jsx)("p",{children:"Loading..."}),children:Object(y.jsx)(I,{companyId:null===L||void 0===L?void 0:L.id,type:"survey",headers:ye,aCollection:K,viewOption:!0,viewBtnFunc:function(e,t){$("view"),q(!0),Ne(Object(n.a)(Object(n.a)({},t),{},{id:e}))},addBtnDisplay:!0,addBtnLabel:"Create new ".concat(null===U||void 0===U?void 0:U.title),addBtnFunc:function(){$("add"),q(!0),Ne(Object(n.a)(Object(n.a)({},ge),{},{id:"",surveyNumber:"",customerName:"",address:"",email:"",phone:"",serviceCarriesAt:"",time:"",controlOf:{ants:!1,geckos:!1,lizard:!1,spiders:!1,rodent:!1,woodworm:!1,pigeon:!1,cockroaches:!1,fleas:!1,mosquitoes:!1,bedbugs:!1,termite:!1,snake:!1},otherControlOf:"",infestation:{slight:!1,moderate:!1,severe:!1},infestationNote:"",typeOfCockroach:"",typeOfTermite:"",typeOfTermiteBait:"",typeOfTermiteTotal:"",solTreatmentmeter:"",solTreatmentFt:"",solTreatmentUnitPrice:"",solTreatmentTotal:"",controlVector:{fumigation:!1,mistingControl:!1,lightSpraying:!1},locationTreated:{house:!1,restaurant:!1,villa:!1,shop:!1,stroes:!1,snack:!1,school:!1},otherLocationTreated:"",rodentBox:"",recommendation:{contratOneYear:!1,serviceOneOff:!1},evaluationPieces:"",estimateAmount:"",preparedBy:"",clientSigName:"",clientSig:"",signatureDate:""}))},openDialog:Z,handleCloseDialog:Ve,emptyColMsg:"No ".concat(null===U||void 0===U?void 0:U.title," retrieved for the date range selected."),updateBtnDisplay:!0,deleteBtnDisplay:!0,updateBtnFunc:function(e,t){$("update"),q(!0),Ne(Object(n.a)(Object(n.a)({},t),{},{id:e}))},deleteBtnFunc:Ue,documentType:U,logo:Oe,companyDetails:L,fetchClientSurvey:ke})})})}):Object(y.jsx)(y.Fragment,{})]}),Z&&Object(y.jsx)(A.Suspense,{fallback:Object(y.jsx)(y.Fragment,{}),children:Object(y.jsx)(D,{dialogType:Q,openDialog:Z,handleCloseDialog:Ve,surveyDetail:ge,setSurveyDetail:Ne,fetchClientSurvey:ke,companyId:null===L||void 0===L?void 0:L.id,documentType:U,clientList:M,logo:Oe,companyDetails:L})}),ae&&Object(y.jsx)(A.Suspense,{fallback:Object(y.jsx)("p",{children:"Loading..."}),children:Object(y.jsx)(R.default,{companyId:null===L||void 0===L?void 0:L.id,openDialog:ae,handleCloseDialog:function(){ne(!1)},clientDetails:ve,setClientDetails:fe,initializeClientList:Le})})]})})}}}]);
//# sourceMappingURL=58.c1837b05.chunk.js.map