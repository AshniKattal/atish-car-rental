(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[44],{1544:function(e,c,n){"use strict";var t=n(23);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=t(n(119)),i=n(0);c.default=(0,a.default)((0,i.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline")},1670:function(e,c,n){},1877:function(e,c,n){"use strict";n.r(c),n.d(c,"default",(function(){return P}));var t=n(9),a=n(7),i=n(3),r=n.n(i),l=n(44),s=n(1514),d=n(130),o=n(84),j=n(287),b=n(52),u=n(472),v=n(4),O=n(48),h=n(120),x=n(77),m=n(72),f=n(156),p=(n(1670),n(1488)),g=n(1522),k=n(1473),y=n(286),w=n(1544),C=n.n(w),N=n(49),E=n(65),I=n(0);function M(){var e=Object(m.a)().user,c=Object(N.g)();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(p.a.div,{variants:Object(l.f)().inUp,className:"cardDiv",children:Object(I.jsx)(g.a,{className:"cardContainer clickable",onClick:function(){c(E.b.customCarRental.booking)},children:Object(I.jsxs)(k.a,{spacing:2,children:[Object(I.jsx)(y.a,{variant:"h6",children:"Vehicle booking"}),Object(I.jsxs)(k.a,{spacing:1,direction:"row",alignItems:"flex-start",children:[Object(I.jsx)(C.a,{}),Object(I.jsx)(y.a,{variant:"body1",children:e&&"client"===(null===e||void 0===e?void 0:e.role)?"See your vehicle bookings":"Manage your vehicle bookings"})]})]})})})}),e&&"client"!==(null===e||void 0===e?void 0:e.role)?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(p.a.div,{variants:Object(l.f)().inUp,className:"cardDiv",children:Object(I.jsx)(g.a,{className:"cardContainer clickable",onClick:function(){c(E.b.customCarRental.vehicles)},children:Object(I.jsxs)(k.a,{spacing:2,children:[Object(I.jsx)(y.a,{variant:"h6",children:"Manage vehicles"}),Object(I.jsxs)(k.a,{spacing:1,direction:"row",alignItems:"flex-start",children:[Object(I.jsx)(C.a,{}),Object(I.jsx)(y.a,{variant:"body1",children:"Manage your vehicles"})]})]})})})}),Object(I.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(p.a.div,{variants:Object(l.f)().inUp,className:"cardDiv",children:Object(I.jsx)(g.a,{className:"cardContainer clickable",onClick:function(){c(E.b.general.payment)},children:Object(I.jsxs)(k.a,{spacing:2,children:[Object(I.jsx)(y.a,{variant:"h6",children:"Manage Payment"}),Object(I.jsxs)(k.a,{spacing:1,direction:"row",alignItems:"flex-start",children:[Object(I.jsx)(C.a,{}),Object(I.jsx)(y.a,{variant:"body1",children:"Make full/partial payment"})]})]})})})}),Object(I.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(p.a.div,{variants:Object(l.f)().inUp,className:"cardDiv",children:Object(I.jsx)(g.a,{className:"cardContainer clickable",onClick:function(){c(E.b.general.report)},children:Object(I.jsxs)(k.a,{spacing:2,children:[Object(I.jsx)(y.a,{variant:"h6",children:"Report"}),Object(I.jsxs)(k.a,{spacing:1,direction:"row",alignItems:"flex-start",children:[Object(I.jsx)(C.a,{}),Object(I.jsx)(y.a,{variant:"body1",children:"Report of all payments and income"})]})]})})})})]}):Object(I.jsx)(I.Fragment,{})]})}function P(){var e,c,n=Object(m.a)().user,i=Object(o.a)().themeStretch,p=Object(h.b)().enqueueSnackbar,g=Object(b.b)(),k=Object(b.c)(f.c),y=k.companyList,w=k.companyIdSelected,C=Object(v.useRef)();function N(){return(N=Object(a.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y||1!==(null===y||void 0===y?void 0:y.length)||!n||"client"===(null===n||void 0===n?void 0:n.role)){e.next=7;break}return g(Object(x.d)(!0)),c=y[0].id,g(Object(u.g)(c)),g(Object(u.f)(Object(t.a)({},y[0]))),e.next=7,O.b.collection("company").doc("5HAEgHE1kKox9ZdweP3I").collection("client").orderBy("name","asc").get().then((function(e){var c;if((null===e||void 0===e||null===(c=e.docs)||void 0===c?void 0:c.length)>0){var n=[];null===e||void 0===e||e.docs.forEach((function(e){var c;n.push({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e||null===(c=e.data())||void 0===c?void 0:c.name,data:Object(t.a)({},null===e||void 0===e?void 0:e.data())})})),g(Object(u.e)(n)),g(Object(x.d)(!1))}else g(Object(u.e)([])),g(Object(x.d)(!1)),p("No clients retrieved",{variant:"warning"})})).catch((function(e){p("Error occured while fetching list of clients: ".concat(null===e||void 0===e?void 0:e.message),{variant:"error"}),g(Object(x.d)(!1))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.useEffect)((function(){w||C.current()}),[]),C.current=function(){return N.apply(this,arguments)},Object(I.jsx)(j.a,{title:"General: App",children:Object(I.jsx)(l.b,{children:Object(I.jsx)(s.a,{maxWidth:!i&&"xl",children:Object(I.jsx)(d.a,{container:!0,spacing:3,children:null!==n&&void 0!==n&&n.a_comp&&(null===n||void 0===n||null===(e=n.a_comp)||void 0===e?void 0:e.length)>0&&(null===n||void 0===n||null===(c=n.a_comp.filter((function(e){return"5HAEgHE1kKox9ZdweP3I"===(null===e||void 0===e?void 0:e.id)})))||void 0===c?void 0:c.length)>0?Object(I.jsx)(M,{}):Object(I.jsx)(I.Fragment,{})})})})})}}}]);
//# sourceMappingURL=44.d8c3606e.chunk.js.map